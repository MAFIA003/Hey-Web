function jD(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(t,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function yE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var mv={exports:{}},Ah={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i1;function HD(){if(i1)return Ah;i1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,s,a){var c=null;if(a!==void 0&&(c=""+a),s.key!==void 0&&(c=""+s.key),"key"in s){a={};for(var h in s)h!=="key"&&(a[h]=s[h])}else a=s;return s=a.ref,{$$typeof:t,type:r,key:c,ref:s!==void 0?s:null,props:a}}return Ah.Fragment=e,Ah.jsx=n,Ah.jsxs=n,Ah}var s1;function $D(){return s1||(s1=1,mv.exports=HD()),mv.exports}var z=$D(),gv={exports:{}},Be={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o1;function qD(){if(o1)return Be;o1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),E=Symbol.iterator;function T($){return $===null||typeof $!="object"?null:($=E&&$[E]||$["@@iterator"],typeof $=="function"?$:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,I={};function D($,ie,de){this.props=$,this.context=ie,this.refs=I,this.updater=de||C}D.prototype.isReactComponent={},D.prototype.setState=function($,ie){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,ie,"setState")},D.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function F(){}F.prototype=D.prototype;function V($,ie,de){this.props=$,this.context=ie,this.refs=I,this.updater=de||C}var B=V.prototype=new F;B.constructor=V,R(B,D.prototype),B.isPureReactComponent=!0;var j=Array.isArray;function G(){}var x={H:null,A:null,T:null,S:null},P=Object.prototype.hasOwnProperty;function N($,ie,de){var pe=de.ref;return{$$typeof:t,type:$,key:ie,ref:pe!==void 0?pe:null,props:de}}function U($,ie){return N($.type,ie,$.props)}function L($){return typeof $=="object"&&$!==null&&$.$$typeof===t}function S($){var ie={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(de){return ie[de]})}var k=/\/+/g;function Y($,ie){return typeof $=="object"&&$!==null&&$.key!=null?S(""+$.key):ie.toString(36)}function ee($){switch($.status){case"fulfilled":return $.value;case"rejected":throw $.reason;default:switch(typeof $.status=="string"?$.then(G,G):($.status="pending",$.then(function(ie){$.status==="pending"&&($.status="fulfilled",$.value=ie)},function(ie){$.status==="pending"&&($.status="rejected",$.reason=ie)})),$.status){case"fulfilled":return $.value;case"rejected":throw $.reason}}throw $}function H($,ie,de,pe,me){var ve=typeof $;(ve==="undefined"||ve==="boolean")&&($=null);var Ne=!1;if($===null)Ne=!0;else switch(ve){case"bigint":case"string":case"number":Ne=!0;break;case"object":switch($.$$typeof){case t:case e:Ne=!0;break;case y:return Ne=$._init,H(Ne($._payload),ie,de,pe,me)}}if(Ne)return me=me($),Ne=pe===""?"."+Y($,0):pe,j(me)?(de="",Ne!=null&&(de=Ne.replace(k,"$&/")+"/"),H(me,ie,de,"",function(ke){return ke})):me!=null&&(L(me)&&(me=U(me,de+(me.key==null||$&&$.key===me.key?"":(""+me.key).replace(k,"$&/")+"/")+Ne)),ie.push(me)),1;Ne=0;var it=pe===""?".":pe+":";if(j($))for(var De=0;De<$.length;De++)pe=$[De],ve=it+Y(pe,De),Ne+=H(pe,ie,de,ve,me);else if(De=T($),typeof De=="function")for($=De.call($),De=0;!(pe=$.next()).done;)pe=pe.value,ve=it+Y(pe,De++),Ne+=H(pe,ie,de,ve,me);else if(ve==="object"){if(typeof $.then=="function")return H(ee($),ie,de,pe,me);throw ie=String($),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return Ne}function te($,ie,de){if($==null)return $;var pe=[],me=0;return H($,pe,"","",function(ve){return ie.call(de,ve,me++)}),pe}function fe($){if($._status===-1){var ie=$._result;ie=ie(),ie.then(function(de){($._status===0||$._status===-1)&&($._status=1,$._result=de)},function(de){($._status===0||$._status===-1)&&($._status=2,$._result=de)}),$._status===-1&&($._status=0,$._result=ie)}if($._status===1)return $._result.default;throw $._result}var le=typeof reportError=="function"?reportError:function($){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof $=="object"&&$!==null&&typeof $.message=="string"?String($.message):String($),error:$});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",$);return}console.error($)},be={map:te,forEach:function($,ie,de){te($,function(){ie.apply(this,arguments)},de)},count:function($){var ie=0;return te($,function(){ie++}),ie},toArray:function($){return te($,function(ie){return ie})||[]},only:function($){if(!L($))throw Error("React.Children.only expected to receive a single React element child.");return $}};return Be.Activity=_,Be.Children=be,Be.Component=D,Be.Fragment=n,Be.Profiler=s,Be.PureComponent=V,Be.StrictMode=r,Be.Suspense=d,Be.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,Be.__COMPILER_RUNTIME={__proto__:null,c:function($){return x.H.useMemoCache($)}},Be.cache=function($){return function(){return $.apply(null,arguments)}},Be.cacheSignal=function(){return null},Be.cloneElement=function($,ie,de){if($==null)throw Error("The argument must be a React element, but you passed "+$+".");var pe=R({},$.props),me=$.key;if(ie!=null)for(ve in ie.key!==void 0&&(me=""+ie.key),ie)!P.call(ie,ve)||ve==="key"||ve==="__self"||ve==="__source"||ve==="ref"&&ie.ref===void 0||(pe[ve]=ie[ve]);var ve=arguments.length-2;if(ve===1)pe.children=de;else if(1<ve){for(var Ne=Array(ve),it=0;it<ve;it++)Ne[it]=arguments[it+2];pe.children=Ne}return N($.type,me,pe)},Be.createContext=function($){return $={$$typeof:c,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null},$.Provider=$,$.Consumer={$$typeof:a,_context:$},$},Be.createElement=function($,ie,de){var pe,me={},ve=null;if(ie!=null)for(pe in ie.key!==void 0&&(ve=""+ie.key),ie)P.call(ie,pe)&&pe!=="key"&&pe!=="__self"&&pe!=="__source"&&(me[pe]=ie[pe]);var Ne=arguments.length-2;if(Ne===1)me.children=de;else if(1<Ne){for(var it=Array(Ne),De=0;De<Ne;De++)it[De]=arguments[De+2];me.children=it}if($&&$.defaultProps)for(pe in Ne=$.defaultProps,Ne)me[pe]===void 0&&(me[pe]=Ne[pe]);return N($,ve,me)},Be.createRef=function(){return{current:null}},Be.forwardRef=function($){return{$$typeof:h,render:$}},Be.isValidElement=L,Be.lazy=function($){return{$$typeof:y,_payload:{_status:-1,_result:$},_init:fe}},Be.memo=function($,ie){return{$$typeof:f,type:$,compare:ie===void 0?null:ie}},Be.startTransition=function($){var ie=x.T,de={};x.T=de;try{var pe=$(),me=x.S;me!==null&&me(de,pe),typeof pe=="object"&&pe!==null&&typeof pe.then=="function"&&pe.then(G,le)}catch(ve){le(ve)}finally{ie!==null&&de.types!==null&&(ie.types=de.types),x.T=ie}},Be.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},Be.use=function($){return x.H.use($)},Be.useActionState=function($,ie,de){return x.H.useActionState($,ie,de)},Be.useCallback=function($,ie){return x.H.useCallback($,ie)},Be.useContext=function($){return x.H.useContext($)},Be.useDebugValue=function(){},Be.useDeferredValue=function($,ie){return x.H.useDeferredValue($,ie)},Be.useEffect=function($,ie){return x.H.useEffect($,ie)},Be.useEffectEvent=function($){return x.H.useEffectEvent($)},Be.useId=function(){return x.H.useId()},Be.useImperativeHandle=function($,ie,de){return x.H.useImperativeHandle($,ie,de)},Be.useInsertionEffect=function($,ie){return x.H.useInsertionEffect($,ie)},Be.useLayoutEffect=function($,ie){return x.H.useLayoutEffect($,ie)},Be.useMemo=function($,ie){return x.H.useMemo($,ie)},Be.useOptimistic=function($,ie){return x.H.useOptimistic($,ie)},Be.useReducer=function($,ie,de){return x.H.useReducer($,ie,de)},Be.useRef=function($){return x.H.useRef($)},Be.useState=function($){return x.H.useState($)},Be.useSyncExternalStore=function($,ie,de){return x.H.useSyncExternalStore($,ie,de)},Be.useTransition=function(){return x.H.useTransition()},Be.version="19.2.0",Be}var a1;function _E(){return a1||(a1=1,gv.exports=qD()),gv.exports}var A=_E();const li=yE(A),r0=jD({__proto__:null,default:li},[A]);var yv={exports:{}},Ih={},_v={exports:{}},vv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l1;function GD(){return l1||(l1=1,(function(t){function e(H,te){var fe=H.length;H.push(te);e:for(;0<fe;){var le=fe-1>>>1,be=H[le];if(0<s(be,te))H[le]=te,H[fe]=be,fe=le;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var te=H[0],fe=H.pop();if(fe!==te){H[0]=fe;e:for(var le=0,be=H.length,$=be>>>1;le<$;){var ie=2*(le+1)-1,de=H[ie],pe=ie+1,me=H[pe];if(0>s(de,fe))pe<be&&0>s(me,de)?(H[le]=me,H[pe]=fe,le=pe):(H[le]=de,H[ie]=fe,le=ie);else if(pe<be&&0>s(me,fe))H[le]=me,H[pe]=fe,le=pe;else break e}}return te}function s(H,te){var fe=H.sortIndex-te.sortIndex;return fe!==0?fe:H.id-te.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var c=Date,h=c.now();t.unstable_now=function(){return c.now()-h}}var d=[],f=[],y=1,_=null,E=3,T=!1,C=!1,R=!1,I=!1,D=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;function B(H){for(var te=n(f);te!==null;){if(te.callback===null)r(f);else if(te.startTime<=H)r(f),te.sortIndex=te.expirationTime,e(d,te);else break;te=n(f)}}function j(H){if(R=!1,B(H),!C)if(n(d)!==null)C=!0,G||(G=!0,S());else{var te=n(f);te!==null&&ee(j,te.startTime-H)}}var G=!1,x=-1,P=5,N=-1;function U(){return I?!0:!(t.unstable_now()-N<P)}function L(){if(I=!1,G){var H=t.unstable_now();N=H;var te=!0;try{e:{C=!1,R&&(R=!1,F(x),x=-1),T=!0;var fe=E;try{t:{for(B(H),_=n(d);_!==null&&!(_.expirationTime>H&&U());){var le=_.callback;if(typeof le=="function"){_.callback=null,E=_.priorityLevel;var be=le(_.expirationTime<=H);if(H=t.unstable_now(),typeof be=="function"){_.callback=be,B(H),te=!0;break t}_===n(d)&&r(d),B(H)}else r(d);_=n(d)}if(_!==null)te=!0;else{var $=n(f);$!==null&&ee(j,$.startTime-H),te=!1}}break e}finally{_=null,E=fe,T=!1}te=void 0}}finally{te?S():G=!1}}}var S;if(typeof V=="function")S=function(){V(L)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,Y=k.port2;k.port1.onmessage=L,S=function(){Y.postMessage(null)}}else S=function(){D(L,0)};function ee(H,te){x=D(function(){H(t.unstable_now())},te)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_next=function(H){switch(E){case 1:case 2:case 3:var te=3;break;default:te=E}var fe=E;E=te;try{return H()}finally{E=fe}},t.unstable_requestPaint=function(){I=!0},t.unstable_runWithPriority=function(H,te){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var fe=E;E=H;try{return te()}finally{E=fe}},t.unstable_scheduleCallback=function(H,te,fe){var le=t.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?le+fe:le):fe=le,H){case 1:var be=-1;break;case 2:be=250;break;case 5:be=1073741823;break;case 4:be=1e4;break;default:be=5e3}return be=fe+be,H={id:y++,callback:te,priorityLevel:H,startTime:fe,expirationTime:be,sortIndex:-1},fe>le?(H.sortIndex=fe,e(f,H),n(d)===null&&H===n(f)&&(R?(F(x),x=-1):R=!0,ee(j,fe-le))):(H.sortIndex=be,e(d,H),C||T||(C=!0,G||(G=!0,S()))),H},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(H){var te=E;return function(){var fe=E;E=te;try{return H.apply(this,arguments)}finally{E=fe}}}})(vv)),vv}var c1;function WD(){return c1||(c1=1,_v.exports=GD()),_v.exports}var Ev={exports:{}},Zn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u1;function KD(){if(u1)return Zn;u1=1;var t=_E();function e(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)f+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function a(d,f,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:_==null?null:""+_,children:d,containerInfo:f,implementation:y}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Zn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Zn.createPortal=function(d,f){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return a(d,f,null,y)},Zn.flushSync=function(d){var f=c.T,y=r.p;try{if(c.T=null,r.p=2,d)return d()}finally{c.T=f,r.p=y,r.d.f()}},Zn.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(d,f))},Zn.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},Zn.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var y=f.as,_=h(y,f.crossOrigin),E=typeof f.integrity=="string"?f.integrity:void 0,T=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;y==="style"?r.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:_,integrity:E,fetchPriority:T}):y==="script"&&r.d.X(d,{crossOrigin:_,integrity:E,fetchPriority:T,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Zn.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var y=h(f.as,f.crossOrigin);r.d.M(d,{crossOrigin:y,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(d)},Zn.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var y=f.as,_=h(y,f.crossOrigin);r.d.L(d,y,{crossOrigin:_,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Zn.preloadModule=function(d,f){if(typeof d=="string")if(f){var y=h(f.as,f.crossOrigin);r.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:y,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(d)},Zn.requestFormReset=function(d){r.d.r(d)},Zn.unstable_batchedUpdates=function(d,f){return d(f)},Zn.useFormState=function(d,f,y){return c.H.useFormState(d,f,y)},Zn.useFormStatus=function(){return c.H.useHostTransitionStatus()},Zn.version="19.2.0",Zn}var h1;function GI(){if(h1)return Ev.exports;h1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Ev.exports=KD(),Ev.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d1;function YD(){if(d1)return Ih;d1=1;var t=WD(),e=_E(),n=GI();function r(i){var o="https://react.dev/errors/"+i;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function a(i){var o=i,l=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(l=o.return),i=o.return;while(i)}return o.tag===3?l:null}function c(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function h(i){if(i.tag===31){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function d(i){if(a(i)!==i)throw Error(r(188))}function f(i){var o=i.alternate;if(!o){if(o=a(i),o===null)throw Error(r(188));return o!==i?null:i}for(var l=i,u=o;;){var m=l.return;if(m===null)break;var g=m.alternate;if(g===null){if(u=m.return,u!==null){l=u;continue}break}if(m.child===g.child){for(g=m.child;g;){if(g===l)return d(m),i;if(g===u)return d(m),o;g=g.sibling}throw Error(r(188))}if(l.return!==u.return)l=m,u=g;else{for(var b=!1,O=m.child;O;){if(O===l){b=!0,l=m,u=g;break}if(O===u){b=!0,u=m,l=g;break}O=O.sibling}if(!b){for(O=g.child;O;){if(O===l){b=!0,l=g,u=m;break}if(O===u){b=!0,u=g,l=m;break}O=O.sibling}if(!b)throw Error(r(189))}}if(l.alternate!==u)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:o}function y(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i;for(i=i.child;i!==null;){if(o=y(i),o!==null)return o;i=i.sibling}return null}var _=Object.assign,E=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),F=Symbol.for("react.consumer"),V=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function S(i){return i===null||typeof i!="object"?null:(i=L&&i[L]||i["@@iterator"],typeof i=="function"?i:null)}var k=Symbol.for("react.client.reference");function Y(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===k?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case R:return"Fragment";case D:return"Profiler";case I:return"StrictMode";case j:return"Suspense";case G:return"SuspenseList";case N:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case C:return"Portal";case V:return i.displayName||"Context";case F:return(i._context.displayName||"Context")+".Consumer";case B:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case x:return o=i.displayName||null,o!==null?o:Y(i.type)||"Memo";case P:o=i._payload,i=i._init;try{return Y(i(o))}catch{}}return null}var ee=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},le=[],be=-1;function $(i){return{current:i}}function ie(i){0>be||(i.current=le[be],le[be]=null,be--)}function de(i,o){be++,le[be]=i.current,i.current=o}var pe=$(null),me=$(null),ve=$(null),Ne=$(null);function it(i,o){switch(de(ve,o),de(me,i),de(pe,null),o.nodeType){case 9:case 11:i=(i=o.documentElement)&&(i=i.namespaceURI)?AC(i):0;break;default:if(i=o.tagName,o=o.namespaceURI)o=AC(o),i=IC(o,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ie(pe),de(pe,i)}function De(){ie(pe),ie(me),ie(ve)}function ke(i){i.memoizedState!==null&&de(Ne,i);var o=pe.current,l=IC(o,i.type);o!==l&&(de(me,i),de(pe,l))}function Ge(i){me.current===i&&(ie(pe),ie(me)),Ne.current===i&&(ie(Ne),Th._currentValue=fe)}var Qe,ft;function Ae(i){if(Qe===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);Qe=o&&o[1]||"",ft=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Qe+i+ft}var ut=!1;function ln(i,o){if(!i||ut)return"";ut=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(o){var ce=function(){throw Error()};if(Object.defineProperty(ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ce,[])}catch(re){var Z=re}Reflect.construct(i,[],ce)}else{try{ce.call()}catch(re){Z=re}i.call(ce.prototype)}}else{try{throw Error()}catch(re){Z=re}(ce=i())&&typeof ce.catch=="function"&&ce.catch(function(){})}}catch(re){if(re&&Z&&typeof re.stack=="string")return[re.stack,Z.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),b=g[0],O=g[1];if(b&&O){var q=b.split(`
`),J=O.split(`
`);for(m=u=0;u<q.length&&!q[u].includes("DetermineComponentFrameRoot");)u++;for(;m<J.length&&!J[m].includes("DetermineComponentFrameRoot");)m++;if(u===q.length||m===J.length)for(u=q.length-1,m=J.length-1;1<=u&&0<=m&&q[u]!==J[m];)m--;for(;1<=u&&0<=m;u--,m--)if(q[u]!==J[m]){if(u!==1||m!==1)do if(u--,m--,0>m||q[u]!==J[m]){var se=`
`+q[u].replace(" at new "," at ");return i.displayName&&se.includes("<anonymous>")&&(se=se.replace("<anonymous>",i.displayName)),se}while(1<=u&&0<=m);break}}}finally{ut=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?Ae(l):""}function cn(i,o){switch(i.tag){case 26:case 27:case 5:return Ae(i.type);case 16:return Ae("Lazy");case 13:return i.child!==o&&o!==null?Ae("Suspense Fallback"):Ae("Suspense");case 19:return Ae("SuspenseList");case 0:case 15:return ln(i.type,!1);case 11:return ln(i.type.render,!1);case 1:return ln(i.type,!0);case 31:return Ae("Activity");default:return""}}function Kt(i){try{var o="",l=null;do o+=cn(i,l),l=i,i=i.return;while(i);return o}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var pt=Object.prototype.hasOwnProperty,st=t.unstable_scheduleCallback,Mt=t.unstable_cancelCallback,Pe=t.unstable_shouldYield,Nr=t.unstable_requestPaint,lt=t.unstable_now,fr=t.unstable_getCurrentPriorityLevel,fi=t.unstable_ImmediatePriority,pi=t.unstable_UserBlockingPriority,ar=t.unstable_NormalPriority,Li=t.unstable_LowPriority,pr=t.unstable_IdlePriority,Rt=t.log,mi=t.unstable_setDisableYieldValue,Jn=null,yn=null;function we(i){if(typeof Rt=="function"&&mi(i),yn&&typeof yn.setStrictMode=="function")try{yn.setStrictMode(Jn,i)}catch{}}var Ue=Math.clz32?Math.clz32:Ia,en=Math.log,Pr=Math.LN2;function Ia(i){return i>>>=0,i===0?32:31-(en(i)/Pr|0)|0}var Vi=256,xa=262144,_n=4194304;function Ui(i){var o=i&42;if(o!==0)return o;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function zi(i,o,l){var u=i.pendingLanes;if(u===0)return 0;var m=0,g=i.suspendedLanes,b=i.pingedLanes;i=i.warmLanes;var O=u&134217727;return O!==0?(u=O&~g,u!==0?m=Ui(u):(b&=O,b!==0?m=Ui(b):l||(l=O&~i,l!==0&&(m=Ui(l))))):(O=u&~g,O!==0?m=Ui(O):b!==0?m=Ui(b):l||(l=u&~i,l!==0&&(m=Ui(l)))),m===0?0:o!==0&&o!==m&&(o&g)===0&&(g=m&-m,l=o&-o,g>=l||g===32&&(l&4194048)!==0)?o:m}function gi(i,o){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&o)===0}function vy(i,o){switch(i){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hf(){var i=_n;return _n<<=1,(_n&62914560)===0&&(_n=4194304),i}function Bi(i){for(var o=[],l=0;31>l;l++)o.push(i);return o}function Na(i,o){i.pendingLanes|=o,o!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Ey(i,o,l,u,m,g){var b=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var O=i.entanglements,q=i.expirationTimes,J=i.hiddenUpdates;for(l=b&~l;0<l;){var se=31-Ue(l),ce=1<<se;O[se]=0,q[se]=-1;var Z=J[se];if(Z!==null)for(J[se]=null,se=0;se<Z.length;se++){var re=Z[se];re!==null&&(re.lane&=-536870913)}l&=~ce}u!==0&&Pa(i,u,0),g!==0&&m===0&&i.tag!==0&&(i.suspendedLanes|=g&~(b&~o))}function Pa(i,o,l){i.pendingLanes|=o,i.suspendedLanes&=~o;var u=31-Ue(o);i.entangledLanes|=o,i.entanglements[u]=i.entanglements[u]|1073741824|l&261930}function Iu(i,o){var l=i.entangledLanes|=o;for(i=i.entanglements;l;){var u=31-Ue(l),m=1<<u;m&o|i[u]&o&&(i[u]|=o),l&=~m}}function xu(i,o){var l=o&-o;return l=(l&42)!==0?1:ka(l),(l&(i.suspendedLanes|o))!==0?0:l}function ka(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function xs(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function df(){var i=te.p;return i!==0?i:(i=window.event,i===void 0?32:XC(i.type))}function yi(i,o){var l=te.p;try{return te.p=i,o()}finally{te.p=l}}var _i=Math.random().toString(36).slice(2),vn="__reactFiber$"+_i,Mn="__reactProps$"+_i,Fi="__reactContainer$"+_i,Ul="__reactEvents$"+_i,by="__reactListeners$"+_i,ff="__reactHandles$"+_i,pf="__reactResources$"+_i,ji="__reactMarker$"+_i;function zl(i){delete i[vn],delete i[Mn],delete i[Ul],delete i[by],delete i[ff]}function Hi(i){var o=i[vn];if(o)return o;for(var l=i.parentNode;l;){if(o=l[Fi]||l[vn]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(i=MC(i);i!==null;){if(l=i[vn])return l;i=MC(i)}return o}i=l,l=i.parentNode}return null}function Gr(i){if(i=i[vn]||i[Fi]){var o=i.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return i}return null}function kr(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i.stateNode;throw Error(r(33))}function $i(i){var o=i[pf];return o||(o=i[pf]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function En(i){i[ji]=!0}var Nu=new Set,Pu={};function qi(i,o){Gi(i,o),Gi(i+"Capture",o)}function Gi(i,o){for(Pu[i]=o,i=0;i<o.length;i++)Nu.add(o[i])}var ku=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ou={},Du={};function mf(i){return pt.call(Du,i)?!0:pt.call(Ou,i)?!1:ku.test(i)?Du[i]=!0:(Ou[i]=!0,!1)}function Bl(i,o,l){if(mf(o))if(l===null)i.removeAttribute(o);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(o);return;case"boolean":var u=o.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(o);return}}i.setAttribute(o,""+l)}}function Or(i,o,l){if(l===null)i.removeAttribute(o);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttribute(o,""+l)}}function bn(i,o,l,u){if(u===null)i.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(o,l,""+u)}}function Ln(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Eo(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Mu(i,o,l){var u=Object.getOwnPropertyDescriptor(i.constructor.prototype,o);if(!i.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,g=u.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return m.call(this)},set:function(b){l=""+b,g.call(this,b)}}),Object.defineProperty(i,o,{enumerable:u.enumerable}),{getValue:function(){return l},setValue:function(b){l=""+b},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function At(i){if(!i._valueTracker){var o=Eo(i)?"checked":"value";i._valueTracker=Mu(i,o,""+i[o])}}function Oa(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var l=o.getValue(),u="";return i&&(u=Eo(i)?i.checked?"true":"false":i.value),i=u,i!==l?(o.setValue(i),!0):!1}function Wi(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Da=/[\n"\\]/g;function mr(i){return i.replace(Da,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Fl(i,o,l,u,m,g,b,O){i.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?i.type=b:i.removeAttribute("type"),o!=null?b==="number"?(o===0&&i.value===""||i.value!=o)&&(i.value=""+Ln(o)):i.value!==""+Ln(o)&&(i.value=""+Ln(o)):b!=="submit"&&b!=="reset"||i.removeAttribute("value"),o!=null?Lu(i,b,Ln(o)):l!=null?Lu(i,b,Ln(l)):u!=null&&i.removeAttribute("value"),m==null&&g!=null&&(i.defaultChecked=!!g),m!=null&&(i.checked=m&&typeof m!="function"&&typeof m!="symbol"),O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?i.name=""+Ln(O):i.removeAttribute("name")}function gf(i,o,l,u,m,g,b,O){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),o!=null||l!=null){if(!(g!=="submit"&&g!=="reset"||o!=null)){At(i);return}l=l!=null?""+Ln(l):"",o=o!=null?""+Ln(o):l,O||o===i.value||(i.value=o),i.defaultValue=o}u=u??m,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=O?i.checked:!!u,i.defaultChecked=!!u,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.name=b),At(i)}function Lu(i,o,l){o==="number"&&Wi(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function bo(i,o,l,u){if(i=i.options,o){o={};for(var m=0;m<l.length;m++)o["$"+l[m]]=!0;for(l=0;l<i.length;l++)m=o.hasOwnProperty("$"+i[l].value),i[l].selected!==m&&(i[l].selected=m),m&&u&&(i[l].defaultSelected=!0)}else{for(l=""+Ln(l),o=null,m=0;m<i.length;m++){if(i[m].value===l){i[m].selected=!0,u&&(i[m].defaultSelected=!0);return}o!==null||i[m].disabled||(o=i[m])}o!==null&&(o.selected=!0)}}function yf(i,o,l){if(o!=null&&(o=""+Ln(o),o!==i.value&&(i.value=o),l==null)){i.defaultValue!==o&&(i.defaultValue=o);return}i.defaultValue=l!=null?""+Ln(l):""}function So(i,o,l,u){if(o==null){if(u!=null){if(l!=null)throw Error(r(92));if(ee(u)){if(1<u.length)throw Error(r(93));u=u[0]}l=u}l==null&&(l=""),o=l}l=Ln(o),i.defaultValue=l,u=i.textContent,u===l&&u!==""&&u!==null&&(i.value=u),At(i)}function gr(i,o){if(o){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=o;return}}i.textContent=o}var _f=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vu(i,o,l){var u=o.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?i.setProperty(o,""):o==="float"?i.cssFloat="":i[o]="":u?i.setProperty(o,l):typeof l!="number"||l===0||_f.has(o)?o==="float"?i.cssFloat=l:i[o]=(""+l).trim():i[o]=l+"px"}function Uu(i,o,l){if(o!=null&&typeof o!="object")throw Error(r(62));if(i=i.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||o!=null&&o.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var m in o)u=o[m],o.hasOwnProperty(m)&&l[m]!==u&&Vu(i,m,u)}else for(var g in o)o.hasOwnProperty(g)&&Vu(i,g,o[g])}function jl(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),To=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Hl(i){return To.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function vi(){}var zu=null;function Wr(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var wo=null,Ki=null;function Ma(i){var o=Gr(i);if(o&&(i=o.stateNode)){var l=i[Mn]||null;e:switch(i=o.stateNode,o.type){case"input":if(Fl(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),o=l.name,l.type==="radio"&&o!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+mr(""+o)+'"][type="radio"]'),o=0;o<l.length;o++){var u=l[o];if(u!==i&&u.form===i.form){var m=u[Mn]||null;if(!m)throw Error(r(90));Fl(u,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(o=0;o<l.length;o++)u=l[o],u.form===i.form&&Oa(u)}break e;case"textarea":yf(i,l.value,l.defaultValue);break e;case"select":o=l.value,o!=null&&bo(i,!!l.multiple,o,!1)}}}var $l=!1;function Co(i,o,l){if($l)return i(o,l);$l=!0;try{var u=i(o);return u}finally{if($l=!1,(wo!==null||Ki!==null)&&(dp(),wo&&(o=wo,i=Ki,Ki=wo=null,Ma(o),i)))for(o=0;o<i.length;o++)Ma(i[o])}}function Ei(i,o){var l=i.stateNode;if(l===null)return null;var u=l[Mn]||null;if(u===null)return null;l=u[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,o,typeof l));return l}var Kr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),La=!1;if(Kr)try{var Lt={};Object.defineProperty(Lt,"passive",{get:function(){La=!0}}),window.addEventListener("test",Lt,Lt),window.removeEventListener("test",Lt,Lt)}catch{La=!1}var Yi=null,Bu=null,Va=null;function Fu(){if(Va)return Va;var i,o=Bu,l=o.length,u,m="value"in Yi?Yi.value:Yi.textContent,g=m.length;for(i=0;i<l&&o[i]===m[i];i++);var b=l-i;for(u=1;u<=b&&o[l-u]===m[g-u];u++);return Va=m.slice(i,1<u?1-u:void 0)}function Ua(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function Ns(){return!0}function bi(){return!1}function Hn(i){function o(l,u,m,g,b){this._reactName=l,this._targetInst=m,this.type=u,this.nativeEvent=g,this.target=b,this.currentTarget=null;for(var O in i)i.hasOwnProperty(O)&&(l=i[O],this[O]=l?l(g):g[O]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Ns:bi,this.isPropagationStopped=bi,this}return _(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Ns)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Ns)},persist:function(){},isPersistent:Ns}),o}var Ps={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qi=Hn(Ps),Ro=_({},Ps,{view:0,detail:0}),ju=Hn(Ro),Ao,ql,Xi,Gl=_({},Ro,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Io,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Xi&&(Xi&&i.type==="mousemove"?(Ao=i.screenX-Xi.screenX,ql=i.screenY-Xi.screenY):ql=Ao=0,Xi=i),Ao)},movementY:function(i){return"movementY"in i?i.movementY:ql}}),Hu=Hn(Gl),za=_({},Gl,{dataTransfer:0}),Ef=Hn(za),bf=_({},Ro,{relatedTarget:0}),Ba=Hn(bf),$u=_({},Ps,{animationName:0,elapsedTime:0,pseudoElement:0}),Sf=Hn($u),Wl=_({},Ps,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Tf=Hn(Wl),wf=_({},Ps,{data:0}),Ji=Hn(wf),Cf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Rf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Af={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function If(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=Af[i])?!!o[i]:!1}function Io(){return If}var lr=_({},Ro,{key:function(i){if(i.key){var o=Cf[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=Ua(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Rf[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Io,charCode:function(i){return i.type==="keypress"?Ua(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ua(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),xf=Hn(lr),Nf=_({},Gl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ks=Hn(Nf),p=_({},Ro,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Io}),v=Hn(p),w=_({},Ps,{propertyName:0,elapsedTime:0,pseudoElement:0}),M=Hn(w),Q=_({},Gl,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),ne=Hn(Q),ye=_({},Ps,{newState:0,oldState:0}),He=Hn(ye),un=[9,13,27,32],mt=Kr&&"CompositionEvent"in window,Yt=null;Kr&&"documentMode"in document&&(Yt=document.documentMode);var Yr=Kr&&"TextEvent"in window&&!Yt,Zi=Kr&&(!mt||Yt&&8<Yt&&11>=Yt),Si=" ",Ti=!1;function Fa(i,o){switch(i){case"keyup":return un.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kl(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Yl=!1;function dO(i,o){switch(i){case"compositionend":return Kl(o);case"keypress":return o.which!==32?null:(Ti=!0,Si);case"textInput":return i=o.data,i===Si&&Ti?null:i;default:return null}}function fO(i,o){if(Yl)return i==="compositionend"||!mt&&Fa(i,o)?(i=Fu(),Va=Bu=Yi=null,Yl=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Zi&&o.locale!=="ko"?null:o.data;default:return null}}var pO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function US(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!pO[i.type]:o==="textarea"}function zS(i,o,l,u){wo?Ki?Ki.push(u):Ki=[u]:wo=u,o=vp(o,"onChange"),0<o.length&&(l=new Qi("onChange","change",null,l,u),i.push({event:l,listeners:o}))}var qu=null,Gu=null;function mO(i){bC(i,0)}function Pf(i){var o=kr(i);if(Oa(o))return i}function BS(i,o){if(i==="change")return o}var FS=!1;if(Kr){var Sy;if(Kr){var Ty="oninput"in document;if(!Ty){var jS=document.createElement("div");jS.setAttribute("oninput","return;"),Ty=typeof jS.oninput=="function"}Sy=Ty}else Sy=!1;FS=Sy&&(!document.documentMode||9<document.documentMode)}function HS(){qu&&(qu.detachEvent("onpropertychange",$S),Gu=qu=null)}function $S(i){if(i.propertyName==="value"&&Pf(Gu)){var o=[];zS(o,Gu,i,Wr(i)),Co(mO,o)}}function gO(i,o,l){i==="focusin"?(HS(),qu=o,Gu=l,qu.attachEvent("onpropertychange",$S)):i==="focusout"&&HS()}function yO(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Pf(Gu)}function _O(i,o){if(i==="click")return Pf(o)}function vO(i,o){if(i==="input"||i==="change")return Pf(o)}function EO(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Dr=typeof Object.is=="function"?Object.is:EO;function Wu(i,o){if(Dr(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var l=Object.keys(i),u=Object.keys(o);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var m=l[u];if(!pt.call(o,m)||!Dr(i[m],o[m]))return!1}return!0}function qS(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function GS(i,o){var l=qS(i);i=0;for(var u;l;){if(l.nodeType===3){if(u=i+l.textContent.length,i<=o&&u>=o)return{node:l,offset:o-i};i=u}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=qS(l)}}function WS(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?WS(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function KS(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var o=Wi(i.document);o instanceof i.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)i=o.contentWindow;else break;o=Wi(i.document)}return o}function wy(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}var bO=Kr&&"documentMode"in document&&11>=document.documentMode,Ql=null,Cy=null,Ku=null,Ry=!1;function YS(i,o,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Ry||Ql==null||Ql!==Wi(u)||(u=Ql,"selectionStart"in u&&wy(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Ku&&Wu(Ku,u)||(Ku=u,u=vp(Cy,"onSelect"),0<u.length&&(o=new Qi("onSelect","select",null,o,l),i.push({event:o,listeners:u}),o.target=Ql)))}function ja(i,o){var l={};return l[i.toLowerCase()]=o.toLowerCase(),l["Webkit"+i]="webkit"+o,l["Moz"+i]="moz"+o,l}var Xl={animationend:ja("Animation","AnimationEnd"),animationiteration:ja("Animation","AnimationIteration"),animationstart:ja("Animation","AnimationStart"),transitionrun:ja("Transition","TransitionRun"),transitionstart:ja("Transition","TransitionStart"),transitioncancel:ja("Transition","TransitionCancel"),transitionend:ja("Transition","TransitionEnd")},Ay={},QS={};Kr&&(QS=document.createElement("div").style,"AnimationEvent"in window||(delete Xl.animationend.animation,delete Xl.animationiteration.animation,delete Xl.animationstart.animation),"TransitionEvent"in window||delete Xl.transitionend.transition);function Ha(i){if(Ay[i])return Ay[i];if(!Xl[i])return i;var o=Xl[i],l;for(l in o)if(o.hasOwnProperty(l)&&l in QS)return Ay[i]=o[l];return i}var XS=Ha("animationend"),JS=Ha("animationiteration"),ZS=Ha("animationstart"),SO=Ha("transitionrun"),TO=Ha("transitionstart"),wO=Ha("transitioncancel"),eT=Ha("transitionend"),tT=new Map,Iy="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Iy.push("scrollEnd");function wi(i,o){tT.set(i,o),qi(o,[i])}var kf=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Qr=[],Jl=0,xy=0;function Of(){for(var i=Jl,o=xy=Jl=0;o<i;){var l=Qr[o];Qr[o++]=null;var u=Qr[o];Qr[o++]=null;var m=Qr[o];Qr[o++]=null;var g=Qr[o];if(Qr[o++]=null,u!==null&&m!==null){var b=u.pending;b===null?m.next=m:(m.next=b.next,b.next=m),u.pending=m}g!==0&&nT(l,m,g)}}function Df(i,o,l,u){Qr[Jl++]=i,Qr[Jl++]=o,Qr[Jl++]=l,Qr[Jl++]=u,xy|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function Ny(i,o,l,u){return Df(i,o,l,u),Mf(i)}function $a(i,o){return Df(i,null,null,o),Mf(i)}function nT(i,o,l){i.lanes|=l;var u=i.alternate;u!==null&&(u.lanes|=l);for(var m=!1,g=i.return;g!==null;)g.childLanes|=l,u=g.alternate,u!==null&&(u.childLanes|=l),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(m=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,m&&o!==null&&(m=31-Ue(l),i=g.hiddenUpdates,u=i[m],u===null?i[m]=[o]:u.push(o),o.lane=l|536870912),g):null}function Mf(i){if(50<gh)throw gh=0,z_=null,Error(r(185));for(var o=i.return;o!==null;)i=o,o=i.return;return i.tag===3?i.stateNode:null}var Zl={};function CO(i,o,l,u){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mr(i,o,l,u){return new CO(i,o,l,u)}function Py(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Os(i,o){var l=i.alternate;return l===null?(l=Mr(i.tag,o,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=o,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,o=i.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function rT(i,o){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=o,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,o=l.dependencies,i.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),i}function Lf(i,o,l,u,m,g){var b=0;if(u=i,typeof i=="function")Py(i)&&(b=1);else if(typeof i=="string")b=ND(i,l,pe.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case N:return i=Mr(31,l,o,m),i.elementType=N,i.lanes=g,i;case R:return qa(l.children,m,g,o);case I:b=8,m|=24;break;case D:return i=Mr(12,l,o,m|2),i.elementType=D,i.lanes=g,i;case j:return i=Mr(13,l,o,m),i.elementType=j,i.lanes=g,i;case G:return i=Mr(19,l,o,m),i.elementType=G,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case V:b=10;break e;case F:b=9;break e;case B:b=11;break e;case x:b=14;break e;case P:b=16,u=null;break e}b=29,l=Error(r(130,i===null?"null":typeof i,"")),u=null}return o=Mr(b,l,o,m),o.elementType=i,o.type=u,o.lanes=g,o}function qa(i,o,l,u){return i=Mr(7,i,u,o),i.lanes=l,i}function ky(i,o,l){return i=Mr(6,i,null,o),i.lanes=l,i}function iT(i){var o=Mr(18,null,null,0);return o.stateNode=i,o}function Oy(i,o,l){return o=Mr(4,i.children!==null?i.children:[],i.key,o),o.lanes=l,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}var sT=new WeakMap;function Xr(i,o){if(typeof i=="object"&&i!==null){var l=sT.get(i);return l!==void 0?l:(o={value:i,source:o,stack:Kt(o)},sT.set(i,o),o)}return{value:i,source:o,stack:Kt(o)}}var ec=[],tc=0,Vf=null,Yu=0,Jr=[],Zr=0,xo=null,es=1,ts="";function Ds(i,o){ec[tc++]=Yu,ec[tc++]=Vf,Vf=i,Yu=o}function oT(i,o,l){Jr[Zr++]=es,Jr[Zr++]=ts,Jr[Zr++]=xo,xo=i;var u=es;i=ts;var m=32-Ue(u)-1;u&=~(1<<m),l+=1;var g=32-Ue(o)+m;if(30<g){var b=m-m%5;g=(u&(1<<b)-1).toString(32),u>>=b,m-=b,es=1<<32-Ue(o)+m|l<<m|u,ts=g+i}else es=1<<g|l<<m|u,ts=i}function Dy(i){i.return!==null&&(Ds(i,1),oT(i,1,0))}function My(i){for(;i===Vf;)Vf=ec[--tc],ec[tc]=null,Yu=ec[--tc],ec[tc]=null;for(;i===xo;)xo=Jr[--Zr],Jr[Zr]=null,ts=Jr[--Zr],Jr[Zr]=null,es=Jr[--Zr],Jr[Zr]=null}function aT(i,o){Jr[Zr++]=es,Jr[Zr++]=ts,Jr[Zr++]=xo,es=o.id,ts=o.overflow,xo=i}var $n=null,$t=null,ot=!1,No=null,ei=!1,Ly=Error(r(519));function Po(i){var o=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Qu(Xr(o,i)),Ly}function lT(i){var o=i.stateNode,l=i.type,u=i.memoizedProps;switch(o[vn]=i,o[Mn]=u,l){case"dialog":Je("cancel",o),Je("close",o);break;case"iframe":case"object":case"embed":Je("load",o);break;case"video":case"audio":for(l=0;l<_h.length;l++)Je(_h[l],o);break;case"source":Je("error",o);break;case"img":case"image":case"link":Je("error",o),Je("load",o);break;case"details":Je("toggle",o);break;case"input":Je("invalid",o),gf(o,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Je("invalid",o);break;case"textarea":Je("invalid",o),So(o,u.value,u.defaultValue,u.children)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||o.textContent===""+l||u.suppressHydrationWarning===!0||CC(o.textContent,l)?(u.popover!=null&&(Je("beforetoggle",o),Je("toggle",o)),u.onScroll!=null&&Je("scroll",o),u.onScrollEnd!=null&&Je("scrollend",o),u.onClick!=null&&(o.onclick=vi),o=!0):o=!1,o||Po(i,!0)}function cT(i){for($n=i.return;$n;)switch($n.tag){case 5:case 31:case 13:ei=!1;return;case 27:case 3:ei=!0;return;default:$n=$n.return}}function nc(i){if(i!==$n)return!1;if(!ot)return cT(i),ot=!0,!1;var o=i.tag,l;if((l=o!==3&&o!==27)&&((l=o===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||ev(i.type,i.memoizedProps)),l=!l),l&&$t&&Po(i),cT(i),o===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));$t=DC(i)}else if(o===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));$t=DC(i)}else o===27?(o=$t,qo(i.type)?(i=sv,sv=null,$t=i):$t=o):$t=$n?ni(i.stateNode.nextSibling):null;return!0}function Ga(){$t=$n=null,ot=!1}function Vy(){var i=No;return i!==null&&(Er===null?Er=i:Er.push.apply(Er,i),No=null),i}function Qu(i){No===null?No=[i]:No.push(i)}var Uy=$(null),Wa=null,Ms=null;function ko(i,o,l){de(Uy,o._currentValue),o._currentValue=l}function Ls(i){i._currentValue=Uy.current,ie(Uy)}function zy(i,o,l){for(;i!==null;){var u=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,u!==null&&(u.childLanes|=o)):u!==null&&(u.childLanes&o)!==o&&(u.childLanes|=o),i===l)break;i=i.return}}function By(i,o,l,u){var m=i.child;for(m!==null&&(m.return=i);m!==null;){var g=m.dependencies;if(g!==null){var b=m.child;g=g.firstContext;e:for(;g!==null;){var O=g;g=m;for(var q=0;q<o.length;q++)if(O.context===o[q]){g.lanes|=l,O=g.alternate,O!==null&&(O.lanes|=l),zy(g.return,l,i),u||(b=null);break e}g=O.next}}else if(m.tag===18){if(b=m.return,b===null)throw Error(r(341));b.lanes|=l,g=b.alternate,g!==null&&(g.lanes|=l),zy(b,l,i),b=null}else b=m.child;if(b!==null)b.return=m;else for(b=m;b!==null;){if(b===i){b=null;break}if(m=b.sibling,m!==null){m.return=b.return,b=m;break}b=b.return}m=b}}function rc(i,o,l,u){i=null;for(var m=o,g=!1;m!==null;){if(!g){if((m.flags&524288)!==0)g=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var b=m.alternate;if(b===null)throw Error(r(387));if(b=b.memoizedProps,b!==null){var O=m.type;Dr(m.pendingProps.value,b.value)||(i!==null?i.push(O):i=[O])}}else if(m===Ne.current){if(b=m.alternate,b===null)throw Error(r(387));b.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(i!==null?i.push(Th):i=[Th])}m=m.return}i!==null&&By(o,i,l,u),o.flags|=262144}function Uf(i){for(i=i.firstContext;i!==null;){if(!Dr(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ka(i){Wa=i,Ms=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function qn(i){return uT(Wa,i)}function zf(i,o){return Wa===null&&Ka(i),uT(i,o)}function uT(i,o){var l=o._currentValue;if(o={context:o,memoizedValue:l,next:null},Ms===null){if(i===null)throw Error(r(308));Ms=o,i.dependencies={lanes:0,firstContext:o},i.flags|=524288}else Ms=Ms.next=o;return l}var RO=typeof AbortController<"u"?AbortController:function(){var i=[],o=this.signal={aborted:!1,addEventListener:function(l,u){i.push(u)}};this.abort=function(){o.aborted=!0,i.forEach(function(l){return l()})}},AO=t.unstable_scheduleCallback,IO=t.unstable_NormalPriority,Sn={$$typeof:V,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fy(){return{controller:new RO,data:new Map,refCount:0}}function Xu(i){i.refCount--,i.refCount===0&&AO(IO,function(){i.controller.abort()})}var Ju=null,jy=0,ic=0,sc=null;function xO(i,o){if(Ju===null){var l=Ju=[];jy=0,ic=q_(),sc={status:"pending",value:void 0,then:function(u){l.push(u)}}}return jy++,o.then(hT,hT),o}function hT(){if(--jy===0&&Ju!==null){sc!==null&&(sc.status="fulfilled");var i=Ju;Ju=null,ic=0,sc=null;for(var o=0;o<i.length;o++)(0,i[o])()}}function NO(i,o){var l=[],u={status:"pending",value:null,reason:null,then:function(m){l.push(m)}};return i.then(function(){u.status="fulfilled",u.value=o;for(var m=0;m<l.length;m++)(0,l[m])(o)},function(m){for(u.status="rejected",u.reason=m,m=0;m<l.length;m++)(0,l[m])(void 0)}),u}var dT=H.S;H.S=function(i,o){Yw=lt(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&xO(i,o),dT!==null&&dT(i,o)};var Ya=$(null);function Hy(){var i=Ya.current;return i!==null?i:Ft.pooledCache}function Bf(i,o){o===null?de(Ya,Ya.current):de(Ya,o.pool)}function fT(){var i=Hy();return i===null?null:{parent:Sn._currentValue,pool:i}}var oc=Error(r(460)),$y=Error(r(474)),Ff=Error(r(542)),jf={then:function(){}};function pT(i){return i=i.status,i==="fulfilled"||i==="rejected"}function mT(i,o,l){switch(l=i[l],l===void 0?i.push(o):l!==o&&(o.then(vi,vi),o=l),o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,yT(i),i;default:if(typeof o.status=="string")o.then(vi,vi);else{if(i=Ft,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=o,i.status="pending",i.then(function(u){if(o.status==="pending"){var m=o;m.status="fulfilled",m.value=u}},function(u){if(o.status==="pending"){var m=o;m.status="rejected",m.reason=u}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,yT(i),i}throw Xa=o,oc}}function Qa(i){try{var o=i._init;return o(i._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Xa=l,oc):l}}var Xa=null;function gT(){if(Xa===null)throw Error(r(459));var i=Xa;return Xa=null,i}function yT(i){if(i===oc||i===Ff)throw Error(r(483))}var ac=null,Zu=0;function Hf(i){var o=Zu;return Zu+=1,ac===null&&(ac=[]),mT(ac,i,o)}function eh(i,o){o=o.props.ref,i.ref=o!==void 0?o:null}function $f(i,o){throw o.$$typeof===E?Error(r(525)):(i=Object.prototype.toString.call(o),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i)))}function _T(i){function o(K,W){if(i){var X=K.deletions;X===null?(K.deletions=[W],K.flags|=16):X.push(W)}}function l(K,W){if(!i)return null;for(;W!==null;)o(K,W),W=W.sibling;return null}function u(K){for(var W=new Map;K!==null;)K.key!==null?W.set(K.key,K):W.set(K.index,K),K=K.sibling;return W}function m(K,W){return K=Os(K,W),K.index=0,K.sibling=null,K}function g(K,W,X){return K.index=X,i?(X=K.alternate,X!==null?(X=X.index,X<W?(K.flags|=67108866,W):X):(K.flags|=67108866,W)):(K.flags|=1048576,W)}function b(K){return i&&K.alternate===null&&(K.flags|=67108866),K}function O(K,W,X,ae){return W===null||W.tag!==6?(W=ky(X,K.mode,ae),W.return=K,W):(W=m(W,X),W.return=K,W)}function q(K,W,X,ae){var Ie=X.type;return Ie===R?se(K,W,X.props.children,ae,X.key):W!==null&&(W.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===P&&Qa(Ie)===W.type)?(W=m(W,X.props),eh(W,X),W.return=K,W):(W=Lf(X.type,X.key,X.props,null,K.mode,ae),eh(W,X),W.return=K,W)}function J(K,W,X,ae){return W===null||W.tag!==4||W.stateNode.containerInfo!==X.containerInfo||W.stateNode.implementation!==X.implementation?(W=Oy(X,K.mode,ae),W.return=K,W):(W=m(W,X.children||[]),W.return=K,W)}function se(K,W,X,ae,Ie){return W===null||W.tag!==7?(W=qa(X,K.mode,ae,Ie),W.return=K,W):(W=m(W,X),W.return=K,W)}function ce(K,W,X){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return W=ky(""+W,K.mode,X),W.return=K,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case T:return X=Lf(W.type,W.key,W.props,null,K.mode,X),eh(X,W),X.return=K,X;case C:return W=Oy(W,K.mode,X),W.return=K,W;case P:return W=Qa(W),ce(K,W,X)}if(ee(W)||S(W))return W=qa(W,K.mode,X,null),W.return=K,W;if(typeof W.then=="function")return ce(K,Hf(W),X);if(W.$$typeof===V)return ce(K,zf(K,W),X);$f(K,W)}return null}function Z(K,W,X,ae){var Ie=W!==null?W.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return Ie!==null?null:O(K,W,""+X,ae);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case T:return X.key===Ie?q(K,W,X,ae):null;case C:return X.key===Ie?J(K,W,X,ae):null;case P:return X=Qa(X),Z(K,W,X,ae)}if(ee(X)||S(X))return Ie!==null?null:se(K,W,X,ae,null);if(typeof X.then=="function")return Z(K,W,Hf(X),ae);if(X.$$typeof===V)return Z(K,W,zf(K,X),ae);$f(K,X)}return null}function re(K,W,X,ae,Ie){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return K=K.get(X)||null,O(W,K,""+ae,Ie);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case T:return K=K.get(ae.key===null?X:ae.key)||null,q(W,K,ae,Ie);case C:return K=K.get(ae.key===null?X:ae.key)||null,J(W,K,ae,Ie);case P:return ae=Qa(ae),re(K,W,X,ae,Ie)}if(ee(ae)||S(ae))return K=K.get(X)||null,se(W,K,ae,Ie,null);if(typeof ae.then=="function")return re(K,W,X,Hf(ae),Ie);if(ae.$$typeof===V)return re(K,W,X,zf(W,ae),Ie);$f(W,ae)}return null}function Te(K,W,X,ae){for(var Ie=null,ht=null,Ce=W,qe=W=0,tt=null;Ce!==null&&qe<X.length;qe++){Ce.index>qe?(tt=Ce,Ce=null):tt=Ce.sibling;var dt=Z(K,Ce,X[qe],ae);if(dt===null){Ce===null&&(Ce=tt);break}i&&Ce&&dt.alternate===null&&o(K,Ce),W=g(dt,W,qe),ht===null?Ie=dt:ht.sibling=dt,ht=dt,Ce=tt}if(qe===X.length)return l(K,Ce),ot&&Ds(K,qe),Ie;if(Ce===null){for(;qe<X.length;qe++)Ce=ce(K,X[qe],ae),Ce!==null&&(W=g(Ce,W,qe),ht===null?Ie=Ce:ht.sibling=Ce,ht=Ce);return ot&&Ds(K,qe),Ie}for(Ce=u(Ce);qe<X.length;qe++)tt=re(Ce,K,qe,X[qe],ae),tt!==null&&(i&&tt.alternate!==null&&Ce.delete(tt.key===null?qe:tt.key),W=g(tt,W,qe),ht===null?Ie=tt:ht.sibling=tt,ht=tt);return i&&Ce.forEach(function(Qo){return o(K,Qo)}),ot&&Ds(K,qe),Ie}function Oe(K,W,X,ae){if(X==null)throw Error(r(151));for(var Ie=null,ht=null,Ce=W,qe=W=0,tt=null,dt=X.next();Ce!==null&&!dt.done;qe++,dt=X.next()){Ce.index>qe?(tt=Ce,Ce=null):tt=Ce.sibling;var Qo=Z(K,Ce,dt.value,ae);if(Qo===null){Ce===null&&(Ce=tt);break}i&&Ce&&Qo.alternate===null&&o(K,Ce),W=g(Qo,W,qe),ht===null?Ie=Qo:ht.sibling=Qo,ht=Qo,Ce=tt}if(dt.done)return l(K,Ce),ot&&Ds(K,qe),Ie;if(Ce===null){for(;!dt.done;qe++,dt=X.next())dt=ce(K,dt.value,ae),dt!==null&&(W=g(dt,W,qe),ht===null?Ie=dt:ht.sibling=dt,ht=dt);return ot&&Ds(K,qe),Ie}for(Ce=u(Ce);!dt.done;qe++,dt=X.next())dt=re(Ce,K,qe,dt.value,ae),dt!==null&&(i&&dt.alternate!==null&&Ce.delete(dt.key===null?qe:dt.key),W=g(dt,W,qe),ht===null?Ie=dt:ht.sibling=dt,ht=dt);return i&&Ce.forEach(function(FD){return o(K,FD)}),ot&&Ds(K,qe),Ie}function zt(K,W,X,ae){if(typeof X=="object"&&X!==null&&X.type===R&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case T:e:{for(var Ie=X.key;W!==null;){if(W.key===Ie){if(Ie=X.type,Ie===R){if(W.tag===7){l(K,W.sibling),ae=m(W,X.props.children),ae.return=K,K=ae;break e}}else if(W.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===P&&Qa(Ie)===W.type){l(K,W.sibling),ae=m(W,X.props),eh(ae,X),ae.return=K,K=ae;break e}l(K,W);break}else o(K,W);W=W.sibling}X.type===R?(ae=qa(X.props.children,K.mode,ae,X.key),ae.return=K,K=ae):(ae=Lf(X.type,X.key,X.props,null,K.mode,ae),eh(ae,X),ae.return=K,K=ae)}return b(K);case C:e:{for(Ie=X.key;W!==null;){if(W.key===Ie)if(W.tag===4&&W.stateNode.containerInfo===X.containerInfo&&W.stateNode.implementation===X.implementation){l(K,W.sibling),ae=m(W,X.children||[]),ae.return=K,K=ae;break e}else{l(K,W);break}else o(K,W);W=W.sibling}ae=Oy(X,K.mode,ae),ae.return=K,K=ae}return b(K);case P:return X=Qa(X),zt(K,W,X,ae)}if(ee(X))return Te(K,W,X,ae);if(S(X)){if(Ie=S(X),typeof Ie!="function")throw Error(r(150));return X=Ie.call(X),Oe(K,W,X,ae)}if(typeof X.then=="function")return zt(K,W,Hf(X),ae);if(X.$$typeof===V)return zt(K,W,zf(K,X),ae);$f(K,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,W!==null&&W.tag===6?(l(K,W.sibling),ae=m(W,X),ae.return=K,K=ae):(l(K,W),ae=ky(X,K.mode,ae),ae.return=K,K=ae),b(K)):l(K,W)}return function(K,W,X,ae){try{Zu=0;var Ie=zt(K,W,X,ae);return ac=null,Ie}catch(Ce){if(Ce===oc||Ce===Ff)throw Ce;var ht=Mr(29,Ce,null,K.mode);return ht.lanes=ae,ht.return=K,ht}finally{}}}var Ja=_T(!0),vT=_T(!1),Oo=!1;function qy(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Gy(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Do(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Mo(i,o,l){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(gt&2)!==0){var m=u.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),u.pending=o,o=Mf(i),nT(i,null,l),o}return Df(i,u,o,l),Mf(i)}function th(i,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194048)!==0)){var u=o.lanes;u&=i.pendingLanes,l|=u,o.lanes=l,Iu(i,l)}}function Wy(i,o){var l=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var m=null,g=null;if(l=l.firstBaseUpdate,l!==null){do{var b={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};g===null?m=g=b:g=g.next=b,l=l.next}while(l!==null);g===null?m=g=o:g=g.next=o}else m=g=o;l={baseState:u.baseState,firstBaseUpdate:m,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=o:i.next=o,l.lastBaseUpdate=o}var Ky=!1;function nh(){if(Ky){var i=sc;if(i!==null)throw i}}function rh(i,o,l,u){Ky=!1;var m=i.updateQueue;Oo=!1;var g=m.firstBaseUpdate,b=m.lastBaseUpdate,O=m.shared.pending;if(O!==null){m.shared.pending=null;var q=O,J=q.next;q.next=null,b===null?g=J:b.next=J,b=q;var se=i.alternate;se!==null&&(se=se.updateQueue,O=se.lastBaseUpdate,O!==b&&(O===null?se.firstBaseUpdate=J:O.next=J,se.lastBaseUpdate=q))}if(g!==null){var ce=m.baseState;b=0,se=J=q=null,O=g;do{var Z=O.lane&-536870913,re=Z!==O.lane;if(re?(et&Z)===Z:(u&Z)===Z){Z!==0&&Z===ic&&(Ky=!0),se!==null&&(se=se.next={lane:0,tag:O.tag,payload:O.payload,callback:null,next:null});e:{var Te=i,Oe=O;Z=o;var zt=l;switch(Oe.tag){case 1:if(Te=Oe.payload,typeof Te=="function"){ce=Te.call(zt,ce,Z);break e}ce=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=Oe.payload,Z=typeof Te=="function"?Te.call(zt,ce,Z):Te,Z==null)break e;ce=_({},ce,Z);break e;case 2:Oo=!0}}Z=O.callback,Z!==null&&(i.flags|=64,re&&(i.flags|=8192),re=m.callbacks,re===null?m.callbacks=[Z]:re.push(Z))}else re={lane:Z,tag:O.tag,payload:O.payload,callback:O.callback,next:null},se===null?(J=se=re,q=ce):se=se.next=re,b|=Z;if(O=O.next,O===null){if(O=m.shared.pending,O===null)break;re=O,O=re.next,re.next=null,m.lastBaseUpdate=re,m.shared.pending=null}}while(!0);se===null&&(q=ce),m.baseState=q,m.firstBaseUpdate=J,m.lastBaseUpdate=se,g===null&&(m.shared.lanes=0),Bo|=b,i.lanes=b,i.memoizedState=ce}}function ET(i,o){if(typeof i!="function")throw Error(r(191,i));i.call(o)}function bT(i,o){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)ET(l[i],o)}var lc=$(null),qf=$(0);function ST(i,o){i=qs,de(qf,i),de(lc,o),qs=i|o.baseLanes}function Yy(){de(qf,qs),de(lc,lc.current)}function Qy(){qs=qf.current,ie(lc),ie(qf)}var Lr=$(null),ti=null;function Lo(i){var o=i.alternate;de(hn,hn.current&1),de(Lr,i),ti===null&&(o===null||lc.current!==null||o.memoizedState!==null)&&(ti=i)}function Xy(i){de(hn,hn.current),de(Lr,i),ti===null&&(ti=i)}function TT(i){i.tag===22?(de(hn,hn.current),de(Lr,i),ti===null&&(ti=i)):Vo()}function Vo(){de(hn,hn.current),de(Lr,Lr.current)}function Vr(i){ie(Lr),ti===i&&(ti=null),ie(hn)}var hn=$(0);function Gf(i){for(var o=i;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||rv(l)||iv(l)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Vs=0,$e=null,Vt=null,Tn=null,Wf=!1,cc=!1,Za=!1,Kf=0,ih=0,uc=null,PO=0;function tn(){throw Error(r(321))}function Jy(i,o){if(o===null)return!1;for(var l=0;l<o.length&&l<i.length;l++)if(!Dr(i[l],o[l]))return!1;return!0}function Zy(i,o,l,u,m,g){return Vs=g,$e=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,H.H=i===null||i.memoizedState===null?ow:p_,Za=!1,g=l(u,m),Za=!1,cc&&(g=CT(o,l,u,m)),wT(i),g}function wT(i){H.H=ah;var o=Vt!==null&&Vt.next!==null;if(Vs=0,Tn=Vt=$e=null,Wf=!1,ih=0,uc=null,o)throw Error(r(300));i===null||wn||(i=i.dependencies,i!==null&&Uf(i)&&(wn=!0))}function CT(i,o,l,u){$e=i;var m=0;do{if(cc&&(uc=null),ih=0,cc=!1,25<=m)throw Error(r(301));if(m+=1,Tn=Vt=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}H.H=aw,g=o(l,u)}while(cc);return g}function kO(){var i=H.H,o=i.useState()[0];return o=typeof o.then=="function"?sh(o):o,i=i.useState()[0],(Vt!==null?Vt.memoizedState:null)!==i&&($e.flags|=1024),o}function e_(){var i=Kf!==0;return Kf=0,i}function t_(i,o,l){o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~l}function n_(i){if(Wf){for(i=i.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}Wf=!1}Vs=0,Tn=Vt=$e=null,cc=!1,ih=Kf=0,uc=null}function cr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tn===null?$e.memoizedState=Tn=i:Tn=Tn.next=i,Tn}function dn(){if(Vt===null){var i=$e.alternate;i=i!==null?i.memoizedState:null}else i=Vt.next;var o=Tn===null?$e.memoizedState:Tn.next;if(o!==null)Tn=o,Vt=i;else{if(i===null)throw $e.alternate===null?Error(r(467)):Error(r(310));Vt=i,i={memoizedState:Vt.memoizedState,baseState:Vt.baseState,baseQueue:Vt.baseQueue,queue:Vt.queue,next:null},Tn===null?$e.memoizedState=Tn=i:Tn=Tn.next=i}return Tn}function Yf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function sh(i){var o=ih;return ih+=1,uc===null&&(uc=[]),i=mT(uc,i,o),o=$e,(Tn===null?o.memoizedState:Tn.next)===null&&(o=o.alternate,H.H=o===null||o.memoizedState===null?ow:p_),i}function Qf(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return sh(i);if(i.$$typeof===V)return qn(i)}throw Error(r(438,String(i)))}function r_(i){var o=null,l=$e.updateQueue;if(l!==null&&(o=l.memoCache),o==null){var u=$e.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(o={data:u.data.map(function(m){return m.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),l===null&&(l=Yf(),$e.updateQueue=l),l.memoCache=o,l=o.data[o.index],l===void 0)for(l=o.data[o.index]=Array(i),u=0;u<i;u++)l[u]=U;return o.index++,l}function Us(i,o){return typeof o=="function"?o(i):o}function Xf(i){var o=dn();return i_(o,Vt,i)}function i_(i,o,l){var u=i.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=l;var m=i.baseQueue,g=u.pending;if(g!==null){if(m!==null){var b=m.next;m.next=g.next,g.next=b}o.baseQueue=m=g,u.pending=null}if(g=i.baseState,m===null)i.memoizedState=g;else{o=m.next;var O=b=null,q=null,J=o,se=!1;do{var ce=J.lane&-536870913;if(ce!==J.lane?(et&ce)===ce:(Vs&ce)===ce){var Z=J.revertLane;if(Z===0)q!==null&&(q=q.next={lane:0,revertLane:0,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),ce===ic&&(se=!0);else if((Vs&Z)===Z){J=J.next,Z===ic&&(se=!0);continue}else ce={lane:0,revertLane:J.revertLane,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},q===null?(O=q=ce,b=g):q=q.next=ce,$e.lanes|=Z,Bo|=Z;ce=J.action,Za&&l(g,ce),g=J.hasEagerState?J.eagerState:l(g,ce)}else Z={lane:ce,revertLane:J.revertLane,gesture:J.gesture,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},q===null?(O=q=Z,b=g):q=q.next=Z,$e.lanes|=ce,Bo|=ce;J=J.next}while(J!==null&&J!==o);if(q===null?b=g:q.next=O,!Dr(g,i.memoizedState)&&(wn=!0,se&&(l=sc,l!==null)))throw l;i.memoizedState=g,i.baseState=b,i.baseQueue=q,u.lastRenderedState=g}return m===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function s_(i){var o=dn(),l=o.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var u=l.dispatch,m=l.pending,g=o.memoizedState;if(m!==null){l.pending=null;var b=m=m.next;do g=i(g,b.action),b=b.next;while(b!==m);Dr(g,o.memoizedState)||(wn=!0),o.memoizedState=g,o.baseQueue===null&&(o.baseState=g),l.lastRenderedState=g}return[g,u]}function RT(i,o,l){var u=$e,m=dn(),g=ot;if(g){if(l===void 0)throw Error(r(407));l=l()}else l=o();var b=!Dr((Vt||m).memoizedState,l);if(b&&(m.memoizedState=l,wn=!0),m=m.queue,l_(xT.bind(null,u,m,i),[i]),m.getSnapshot!==o||b||Tn!==null&&Tn.memoizedState.tag&1){if(u.flags|=2048,hc(9,{destroy:void 0},IT.bind(null,u,m,l,o),null),Ft===null)throw Error(r(349));g||(Vs&127)!==0||AT(u,o,l)}return l}function AT(i,o,l){i.flags|=16384,i={getSnapshot:o,value:l},o=$e.updateQueue,o===null?(o=Yf(),$e.updateQueue=o,o.stores=[i]):(l=o.stores,l===null?o.stores=[i]:l.push(i))}function IT(i,o,l,u){o.value=l,o.getSnapshot=u,NT(o)&&PT(i)}function xT(i,o,l){return l(function(){NT(o)&&PT(i)})}function NT(i){var o=i.getSnapshot;i=i.value;try{var l=o();return!Dr(i,l)}catch{return!0}}function PT(i){var o=$a(i,2);o!==null&&br(o,i,2)}function o_(i){var o=cr();if(typeof i=="function"){var l=i;if(i=l(),Za){we(!0);try{l()}finally{we(!1)}}}return o.memoizedState=o.baseState=i,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Us,lastRenderedState:i},o}function kT(i,o,l,u){return i.baseState=l,i_(i,Vt,typeof u=="function"?u:Us)}function OO(i,o,l,u,m){if(ep(i))throw Error(r(485));if(i=o.action,i!==null){var g={payload:m,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){g.listeners.push(b)}};H.T!==null?l(!0):g.isTransition=!1,u(g),l=o.pending,l===null?(g.next=o.pending=g,OT(o,g)):(g.next=l.next,o.pending=l.next=g)}}function OT(i,o){var l=o.action,u=o.payload,m=i.state;if(o.isTransition){var g=H.T,b={};H.T=b;try{var O=l(m,u),q=H.S;q!==null&&q(b,O),DT(i,o,O)}catch(J){a_(i,o,J)}finally{g!==null&&b.types!==null&&(g.types=b.types),H.T=g}}else try{g=l(m,u),DT(i,o,g)}catch(J){a_(i,o,J)}}function DT(i,o,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){MT(i,o,u)},function(u){return a_(i,o,u)}):MT(i,o,l)}function MT(i,o,l){o.status="fulfilled",o.value=l,LT(o),i.state=l,o=i.pending,o!==null&&(l=o.next,l===o?i.pending=null:(l=l.next,o.next=l,OT(i,l)))}function a_(i,o,l){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do o.status="rejected",o.reason=l,LT(o),o=o.next;while(o!==u)}i.action=null}function LT(i){i=i.listeners;for(var o=0;o<i.length;o++)(0,i[o])()}function VT(i,o){return o}function UT(i,o){if(ot){var l=Ft.formState;if(l!==null){e:{var u=$e;if(ot){if($t){t:{for(var m=$t,g=ei;m.nodeType!==8;){if(!g){m=null;break t}if(m=ni(m.nextSibling),m===null){m=null;break t}}g=m.data,m=g==="F!"||g==="F"?m:null}if(m){$t=ni(m.nextSibling),u=m.data==="F!";break e}}Po(u)}u=!1}u&&(o=l[0])}}return l=cr(),l.memoizedState=l.baseState=o,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:VT,lastRenderedState:o},l.queue=u,l=rw.bind(null,$e,u),u.dispatch=l,u=o_(!1),g=f_.bind(null,$e,!1,u.queue),u=cr(),m={state:o,dispatch:null,action:i,pending:null},u.queue=m,l=OO.bind(null,$e,m,g,l),m.dispatch=l,u.memoizedState=i,[o,l,!1]}function zT(i){var o=dn();return BT(o,Vt,i)}function BT(i,o,l){if(o=i_(i,o,VT)[0],i=Xf(Us)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var u=sh(o)}catch(b){throw b===oc?Ff:b}else u=o;o=dn();var m=o.queue,g=m.dispatch;return l!==o.memoizedState&&($e.flags|=2048,hc(9,{destroy:void 0},DO.bind(null,m,l),null)),[u,g,i]}function DO(i,o){i.action=o}function FT(i){var o=dn(),l=Vt;if(l!==null)return BT(o,l,i);dn(),o=o.memoizedState,l=dn();var u=l.queue.dispatch;return l.memoizedState=i,[o,u,!1]}function hc(i,o,l,u){return i={tag:i,create:l,deps:u,inst:o,next:null},o=$e.updateQueue,o===null&&(o=Yf(),$e.updateQueue=o),l=o.lastEffect,l===null?o.lastEffect=i.next=i:(u=l.next,l.next=i,i.next=u,o.lastEffect=i),i}function jT(){return dn().memoizedState}function Jf(i,o,l,u){var m=cr();$e.flags|=i,m.memoizedState=hc(1|o,{destroy:void 0},l,u===void 0?null:u)}function Zf(i,o,l,u){var m=dn();u=u===void 0?null:u;var g=m.memoizedState.inst;Vt!==null&&u!==null&&Jy(u,Vt.memoizedState.deps)?m.memoizedState=hc(o,g,l,u):($e.flags|=i,m.memoizedState=hc(1|o,g,l,u))}function HT(i,o){Jf(8390656,8,i,o)}function l_(i,o){Zf(2048,8,i,o)}function MO(i){$e.flags|=4;var o=$e.updateQueue;if(o===null)o=Yf(),$e.updateQueue=o,o.events=[i];else{var l=o.events;l===null?o.events=[i]:l.push(i)}}function $T(i){var o=dn().memoizedState;return MO({ref:o,nextImpl:i}),function(){if((gt&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}function qT(i,o){return Zf(4,2,i,o)}function GT(i,o){return Zf(4,4,i,o)}function WT(i,o){if(typeof o=="function"){i=i();var l=o(i);return function(){typeof l=="function"?l():o(null)}}if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function KT(i,o,l){l=l!=null?l.concat([i]):null,Zf(4,4,WT.bind(null,o,i),l)}function c_(){}function YT(i,o){var l=dn();o=o===void 0?null:o;var u=l.memoizedState;return o!==null&&Jy(o,u[1])?u[0]:(l.memoizedState=[i,o],i)}function QT(i,o){var l=dn();o=o===void 0?null:o;var u=l.memoizedState;if(o!==null&&Jy(o,u[1]))return u[0];if(u=i(),Za){we(!0);try{i()}finally{we(!1)}}return l.memoizedState=[u,o],u}function u_(i,o,l){return l===void 0||(Vs&1073741824)!==0&&(et&261930)===0?i.memoizedState=o:(i.memoizedState=l,i=Xw(),$e.lanes|=i,Bo|=i,l)}function XT(i,o,l,u){return Dr(l,o)?l:lc.current!==null?(i=u_(i,l,u),Dr(i,o)||(wn=!0),i):(Vs&42)===0||(Vs&1073741824)!==0&&(et&261930)===0?(wn=!0,i.memoizedState=l):(i=Xw(),$e.lanes|=i,Bo|=i,o)}function JT(i,o,l,u,m){var g=te.p;te.p=g!==0&&8>g?g:8;var b=H.T,O={};H.T=O,f_(i,!1,o,l);try{var q=m(),J=H.S;if(J!==null&&J(O,q),q!==null&&typeof q=="object"&&typeof q.then=="function"){var se=NO(q,u);oh(i,o,se,Br(i))}else oh(i,o,u,Br(i))}catch(ce){oh(i,o,{then:function(){},status:"rejected",reason:ce},Br())}finally{te.p=g,b!==null&&O.types!==null&&(b.types=O.types),H.T=b}}function LO(){}function h_(i,o,l,u){if(i.tag!==5)throw Error(r(476));var m=ZT(i).queue;JT(i,m,o,fe,l===null?LO:function(){return ew(i),l(u)})}function ZT(i){var o=i.memoizedState;if(o!==null)return o;o={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Us,lastRenderedState:fe},next:null};var l={};return o.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Us,lastRenderedState:l},next:null},i.memoizedState=o,i=i.alternate,i!==null&&(i.memoizedState=o),o}function ew(i){var o=ZT(i);o.next===null&&(o=i.alternate.memoizedState),oh(i,o.next.queue,{},Br())}function d_(){return qn(Th)}function tw(){return dn().memoizedState}function nw(){return dn().memoizedState}function VO(i){for(var o=i.return;o!==null;){switch(o.tag){case 24:case 3:var l=Br();i=Do(l);var u=Mo(o,i,l);u!==null&&(br(u,o,l),th(u,o,l)),o={cache:Fy()},i.payload=o;return}o=o.return}}function UO(i,o,l){var u=Br();l={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},ep(i)?iw(o,l):(l=Ny(i,o,l,u),l!==null&&(br(l,i,u),sw(l,o,u)))}function rw(i,o,l){var u=Br();oh(i,o,l,u)}function oh(i,o,l,u){var m={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(ep(i))iw(o,m);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=o.lastRenderedReducer,g!==null))try{var b=o.lastRenderedState,O=g(b,l);if(m.hasEagerState=!0,m.eagerState=O,Dr(O,b))return Df(i,o,m,0),Ft===null&&Of(),!1}catch{}finally{}if(l=Ny(i,o,m,u),l!==null)return br(l,i,u),sw(l,o,u),!0}return!1}function f_(i,o,l,u){if(u={lane:2,revertLane:q_(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},ep(i)){if(o)throw Error(r(479))}else o=Ny(i,l,u,2),o!==null&&br(o,i,2)}function ep(i){var o=i.alternate;return i===$e||o!==null&&o===$e}function iw(i,o){cc=Wf=!0;var l=i.pending;l===null?o.next=o:(o.next=l.next,l.next=o),i.pending=o}function sw(i,o,l){if((l&4194048)!==0){var u=o.lanes;u&=i.pendingLanes,l|=u,o.lanes=l,Iu(i,l)}}var ah={readContext:qn,use:Qf,useCallback:tn,useContext:tn,useEffect:tn,useImperativeHandle:tn,useLayoutEffect:tn,useInsertionEffect:tn,useMemo:tn,useReducer:tn,useRef:tn,useState:tn,useDebugValue:tn,useDeferredValue:tn,useTransition:tn,useSyncExternalStore:tn,useId:tn,useHostTransitionStatus:tn,useFormState:tn,useActionState:tn,useOptimistic:tn,useMemoCache:tn,useCacheRefresh:tn};ah.useEffectEvent=tn;var ow={readContext:qn,use:Qf,useCallback:function(i,o){return cr().memoizedState=[i,o===void 0?null:o],i},useContext:qn,useEffect:HT,useImperativeHandle:function(i,o,l){l=l!=null?l.concat([i]):null,Jf(4194308,4,WT.bind(null,o,i),l)},useLayoutEffect:function(i,o){return Jf(4194308,4,i,o)},useInsertionEffect:function(i,o){Jf(4,2,i,o)},useMemo:function(i,o){var l=cr();o=o===void 0?null:o;var u=i();if(Za){we(!0);try{i()}finally{we(!1)}}return l.memoizedState=[u,o],u},useReducer:function(i,o,l){var u=cr();if(l!==void 0){var m=l(o);if(Za){we(!0);try{l(o)}finally{we(!1)}}}else m=o;return u.memoizedState=u.baseState=m,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:m},u.queue=i,i=i.dispatch=UO.bind(null,$e,i),[u.memoizedState,i]},useRef:function(i){var o=cr();return i={current:i},o.memoizedState=i},useState:function(i){i=o_(i);var o=i.queue,l=rw.bind(null,$e,o);return o.dispatch=l,[i.memoizedState,l]},useDebugValue:c_,useDeferredValue:function(i,o){var l=cr();return u_(l,i,o)},useTransition:function(){var i=o_(!1);return i=JT.bind(null,$e,i.queue,!0,!1),cr().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,o,l){var u=$e,m=cr();if(ot){if(l===void 0)throw Error(r(407));l=l()}else{if(l=o(),Ft===null)throw Error(r(349));(et&127)!==0||AT(u,o,l)}m.memoizedState=l;var g={value:l,getSnapshot:o};return m.queue=g,HT(xT.bind(null,u,g,i),[i]),u.flags|=2048,hc(9,{destroy:void 0},IT.bind(null,u,g,l,o),null),l},useId:function(){var i=cr(),o=Ft.identifierPrefix;if(ot){var l=ts,u=es;l=(u&~(1<<32-Ue(u)-1)).toString(32)+l,o="_"+o+"R_"+l,l=Kf++,0<l&&(o+="H"+l.toString(32)),o+="_"}else l=PO++,o="_"+o+"r_"+l.toString(32)+"_";return i.memoizedState=o},useHostTransitionStatus:d_,useFormState:UT,useActionState:UT,useOptimistic:function(i){var o=cr();o.memoizedState=o.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=l,o=f_.bind(null,$e,!0,l),l.dispatch=o,[i,o]},useMemoCache:r_,useCacheRefresh:function(){return cr().memoizedState=VO.bind(null,$e)},useEffectEvent:function(i){var o=cr(),l={impl:i};return o.memoizedState=l,function(){if((gt&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}},p_={readContext:qn,use:Qf,useCallback:YT,useContext:qn,useEffect:l_,useImperativeHandle:KT,useInsertionEffect:qT,useLayoutEffect:GT,useMemo:QT,useReducer:Xf,useRef:jT,useState:function(){return Xf(Us)},useDebugValue:c_,useDeferredValue:function(i,o){var l=dn();return XT(l,Vt.memoizedState,i,o)},useTransition:function(){var i=Xf(Us)[0],o=dn().memoizedState;return[typeof i=="boolean"?i:sh(i),o]},useSyncExternalStore:RT,useId:tw,useHostTransitionStatus:d_,useFormState:zT,useActionState:zT,useOptimistic:function(i,o){var l=dn();return kT(l,Vt,i,o)},useMemoCache:r_,useCacheRefresh:nw};p_.useEffectEvent=$T;var aw={readContext:qn,use:Qf,useCallback:YT,useContext:qn,useEffect:l_,useImperativeHandle:KT,useInsertionEffect:qT,useLayoutEffect:GT,useMemo:QT,useReducer:s_,useRef:jT,useState:function(){return s_(Us)},useDebugValue:c_,useDeferredValue:function(i,o){var l=dn();return Vt===null?u_(l,i,o):XT(l,Vt.memoizedState,i,o)},useTransition:function(){var i=s_(Us)[0],o=dn().memoizedState;return[typeof i=="boolean"?i:sh(i),o]},useSyncExternalStore:RT,useId:tw,useHostTransitionStatus:d_,useFormState:FT,useActionState:FT,useOptimistic:function(i,o){var l=dn();return Vt!==null?kT(l,Vt,i,o):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:r_,useCacheRefresh:nw};aw.useEffectEvent=$T;function m_(i,o,l,u){o=i.memoizedState,l=l(u,o),l=l==null?o:_({},o,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var g_={enqueueSetState:function(i,o,l){i=i._reactInternals;var u=Br(),m=Do(u);m.payload=o,l!=null&&(m.callback=l),o=Mo(i,m,u),o!==null&&(br(o,i,u),th(o,i,u))},enqueueReplaceState:function(i,o,l){i=i._reactInternals;var u=Br(),m=Do(u);m.tag=1,m.payload=o,l!=null&&(m.callback=l),o=Mo(i,m,u),o!==null&&(br(o,i,u),th(o,i,u))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var l=Br(),u=Do(l);u.tag=2,o!=null&&(u.callback=o),o=Mo(i,u,l),o!==null&&(br(o,i,l),th(o,i,l))}};function lw(i,o,l,u,m,g,b){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,g,b):o.prototype&&o.prototype.isPureReactComponent?!Wu(l,u)||!Wu(m,g):!0}function cw(i,o,l,u){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,u),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,u),o.state!==i&&g_.enqueueReplaceState(o,o.state,null)}function el(i,o){var l=o;if("ref"in o){l={};for(var u in o)u!=="ref"&&(l[u]=o[u])}if(i=i.defaultProps){l===o&&(l=_({},l));for(var m in i)l[m]===void 0&&(l[m]=i[m])}return l}function uw(i){kf(i)}function hw(i){console.error(i)}function dw(i){kf(i)}function tp(i,o){try{var l=i.onUncaughtError;l(o.value,{componentStack:o.stack})}catch(u){setTimeout(function(){throw u})}}function fw(i,o,l){try{var u=i.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function y_(i,o,l){return l=Do(l),l.tag=3,l.payload={element:null},l.callback=function(){tp(i,o)},l}function pw(i){return i=Do(i),i.tag=3,i}function mw(i,o,l,u){var m=l.type.getDerivedStateFromError;if(typeof m=="function"){var g=u.value;i.payload=function(){return m(g)},i.callback=function(){fw(o,l,u)}}var b=l.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(i.callback=function(){fw(o,l,u),typeof m!="function"&&(Fo===null?Fo=new Set([this]):Fo.add(this));var O=u.stack;this.componentDidCatch(u.value,{componentStack:O!==null?O:""})})}function zO(i,o,l,u,m){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(o=l.alternate,o!==null&&rc(o,l,m,!0),l=Lr.current,l!==null){switch(l.tag){case 31:case 13:return ti===null?fp():l.alternate===null&&nn===0&&(nn=3),l.flags&=-257,l.flags|=65536,l.lanes=m,u===jf?l.flags|=16384:(o=l.updateQueue,o===null?l.updateQueue=new Set([u]):o.add(u),j_(i,u,m)),!1;case 22:return l.flags|=65536,u===jf?l.flags|=16384:(o=l.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=o):(l=o.retryQueue,l===null?o.retryQueue=new Set([u]):l.add(u)),j_(i,u,m)),!1}throw Error(r(435,l.tag))}return j_(i,u,m),fp(),!1}if(ot)return o=Lr.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=m,u!==Ly&&(i=Error(r(422),{cause:u}),Qu(Xr(i,l)))):(u!==Ly&&(o=Error(r(423),{cause:u}),Qu(Xr(o,l))),i=i.current.alternate,i.flags|=65536,m&=-m,i.lanes|=m,u=Xr(u,l),m=y_(i.stateNode,u,m),Wy(i,m),nn!==4&&(nn=2)),!1;var g=Error(r(520),{cause:u});if(g=Xr(g,l),mh===null?mh=[g]:mh.push(g),nn!==4&&(nn=2),o===null)return!0;u=Xr(u,l),l=o;do{switch(l.tag){case 3:return l.flags|=65536,i=m&-m,l.lanes|=i,i=y_(l.stateNode,u,i),Wy(l,i),!1;case 1:if(o=l.type,g=l.stateNode,(l.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Fo===null||!Fo.has(g))))return l.flags|=65536,m&=-m,l.lanes|=m,m=pw(m),mw(m,i,l,u),Wy(l,m),!1}l=l.return}while(l!==null);return!1}var __=Error(r(461)),wn=!1;function Gn(i,o,l,u){o.child=i===null?vT(o,null,l,u):Ja(o,i.child,l,u)}function gw(i,o,l,u,m){l=l.render;var g=o.ref;if("ref"in u){var b={};for(var O in u)O!=="ref"&&(b[O]=u[O])}else b=u;return Ka(o),u=Zy(i,o,l,b,g,m),O=e_(),i!==null&&!wn?(t_(i,o,m),zs(i,o,m)):(ot&&O&&Dy(o),o.flags|=1,Gn(i,o,u,m),o.child)}function yw(i,o,l,u,m){if(i===null){var g=l.type;return typeof g=="function"&&!Py(g)&&g.defaultProps===void 0&&l.compare===null?(o.tag=15,o.type=g,_w(i,o,g,u,m)):(i=Lf(l.type,null,u,o,o.mode,m),i.ref=o.ref,i.return=o,o.child=i)}if(g=i.child,!R_(i,m)){var b=g.memoizedProps;if(l=l.compare,l=l!==null?l:Wu,l(b,u)&&i.ref===o.ref)return zs(i,o,m)}return o.flags|=1,i=Os(g,u),i.ref=o.ref,i.return=o,o.child=i}function _w(i,o,l,u,m){if(i!==null){var g=i.memoizedProps;if(Wu(g,u)&&i.ref===o.ref)if(wn=!1,o.pendingProps=u=g,R_(i,m))(i.flags&131072)!==0&&(wn=!0);else return o.lanes=i.lanes,zs(i,o,m)}return v_(i,o,l,u,m)}function vw(i,o,l,u){var m=u.children,g=i!==null?i.memoizedState:null;if(i===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((o.flags&128)!==0){if(g=g!==null?g.baseLanes|l:l,i!==null){for(u=o.child=i.child,m=0;u!==null;)m=m|u.lanes|u.childLanes,u=u.sibling;u=m&~g}else u=0,o.child=null;return Ew(i,o,g,l,u)}if((l&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},i!==null&&Bf(o,g!==null?g.cachePool:null),g!==null?ST(o,g):Yy(),TT(o);else return u=o.lanes=536870912,Ew(i,o,g!==null?g.baseLanes|l:l,l,u)}else g!==null?(Bf(o,g.cachePool),ST(o,g),Vo(),o.memoizedState=null):(i!==null&&Bf(o,null),Yy(),Vo());return Gn(i,o,m,l),o.child}function lh(i,o){return i!==null&&i.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function Ew(i,o,l,u,m){var g=Hy();return g=g===null?null:{parent:Sn._currentValue,pool:g},o.memoizedState={baseLanes:l,cachePool:g},i!==null&&Bf(o,null),Yy(),TT(o),i!==null&&rc(i,o,u,!0),o.childLanes=m,null}function np(i,o){return o=ip({mode:o.mode,children:o.children},i.mode),o.ref=i.ref,i.child=o,o.return=i,o}function bw(i,o,l){return Ja(o,i.child,null,l),i=np(o,o.pendingProps),i.flags|=2,Vr(o),o.memoizedState=null,i}function BO(i,o,l){var u=o.pendingProps,m=(o.flags&128)!==0;if(o.flags&=-129,i===null){if(ot){if(u.mode==="hidden")return i=np(o,u),o.lanes=536870912,lh(null,i);if(Xy(o),(i=$t)?(i=OC(i,ei),i=i!==null&&i.data==="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:xo!==null?{id:es,overflow:ts}:null,retryLane:536870912,hydrationErrors:null},l=iT(i),l.return=o,o.child=l,$n=o,$t=null)):i=null,i===null)throw Po(o);return o.lanes=536870912,null}return np(o,u)}var g=i.memoizedState;if(g!==null){var b=g.dehydrated;if(Xy(o),m)if(o.flags&256)o.flags&=-257,o=bw(i,o,l);else if(o.memoizedState!==null)o.child=i.child,o.flags|=128,o=null;else throw Error(r(558));else if(wn||rc(i,o,l,!1),m=(l&i.childLanes)!==0,wn||m){if(u=Ft,u!==null&&(b=xu(u,l),b!==0&&b!==g.retryLane))throw g.retryLane=b,$a(i,b),br(u,i,b),__;fp(),o=bw(i,o,l)}else i=g.treeContext,$t=ni(b.nextSibling),$n=o,ot=!0,No=null,ei=!1,i!==null&&aT(o,i),o=np(o,u),o.flags|=4096;return o}return i=Os(i.child,{mode:u.mode,children:u.children}),i.ref=o.ref,o.child=i,i.return=o,i}function rp(i,o){var l=o.ref;if(l===null)i!==null&&i.ref!==null&&(o.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(i===null||i.ref!==l)&&(o.flags|=4194816)}}function v_(i,o,l,u,m){return Ka(o),l=Zy(i,o,l,u,void 0,m),u=e_(),i!==null&&!wn?(t_(i,o,m),zs(i,o,m)):(ot&&u&&Dy(o),o.flags|=1,Gn(i,o,l,m),o.child)}function Sw(i,o,l,u,m,g){return Ka(o),o.updateQueue=null,l=CT(o,u,l,m),wT(i),u=e_(),i!==null&&!wn?(t_(i,o,g),zs(i,o,g)):(ot&&u&&Dy(o),o.flags|=1,Gn(i,o,l,g),o.child)}function Tw(i,o,l,u,m){if(Ka(o),o.stateNode===null){var g=Zl,b=l.contextType;typeof b=="object"&&b!==null&&(g=qn(b)),g=new l(u,g),o.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=g_,o.stateNode=g,g._reactInternals=o,g=o.stateNode,g.props=u,g.state=o.memoizedState,g.refs={},qy(o),b=l.contextType,g.context=typeof b=="object"&&b!==null?qn(b):Zl,g.state=o.memoizedState,b=l.getDerivedStateFromProps,typeof b=="function"&&(m_(o,l,b,u),g.state=o.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(b=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),b!==g.state&&g_.enqueueReplaceState(g,g.state,null),rh(o,u,g,m),nh(),g.state=o.memoizedState),typeof g.componentDidMount=="function"&&(o.flags|=4194308),u=!0}else if(i===null){g=o.stateNode;var O=o.memoizedProps,q=el(l,O);g.props=q;var J=g.context,se=l.contextType;b=Zl,typeof se=="object"&&se!==null&&(b=qn(se));var ce=l.getDerivedStateFromProps;se=typeof ce=="function"||typeof g.getSnapshotBeforeUpdate=="function",O=o.pendingProps!==O,se||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(O||J!==b)&&cw(o,g,u,b),Oo=!1;var Z=o.memoizedState;g.state=Z,rh(o,u,g,m),nh(),J=o.memoizedState,O||Z!==J||Oo?(typeof ce=="function"&&(m_(o,l,ce,u),J=o.memoizedState),(q=Oo||lw(o,l,q,u,Z,J,b))?(se||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(o.flags|=4194308)):(typeof g.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=u,o.memoizedState=J),g.props=u,g.state=J,g.context=b,u=q):(typeof g.componentDidMount=="function"&&(o.flags|=4194308),u=!1)}else{g=o.stateNode,Gy(i,o),b=o.memoizedProps,se=el(l,b),g.props=se,ce=o.pendingProps,Z=g.context,J=l.contextType,q=Zl,typeof J=="object"&&J!==null&&(q=qn(J)),O=l.getDerivedStateFromProps,(J=typeof O=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(b!==ce||Z!==q)&&cw(o,g,u,q),Oo=!1,Z=o.memoizedState,g.state=Z,rh(o,u,g,m),nh();var re=o.memoizedState;b!==ce||Z!==re||Oo||i!==null&&i.dependencies!==null&&Uf(i.dependencies)?(typeof O=="function"&&(m_(o,l,O,u),re=o.memoizedState),(se=Oo||lw(o,l,se,u,Z,re,q)||i!==null&&i.dependencies!==null&&Uf(i.dependencies))?(J||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,re,q),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,re,q)),typeof g.componentDidUpdate=="function"&&(o.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof g.componentDidUpdate!="function"||b===i.memoizedProps&&Z===i.memoizedState||(o.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&Z===i.memoizedState||(o.flags|=1024),o.memoizedProps=u,o.memoizedState=re),g.props=u,g.state=re,g.context=q,u=se):(typeof g.componentDidUpdate!="function"||b===i.memoizedProps&&Z===i.memoizedState||(o.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&Z===i.memoizedState||(o.flags|=1024),u=!1)}return g=u,rp(i,o),u=(o.flags&128)!==0,g||u?(g=o.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:g.render(),o.flags|=1,i!==null&&u?(o.child=Ja(o,i.child,null,m),o.child=Ja(o,null,l,m)):Gn(i,o,l,m),o.memoizedState=g.state,i=o.child):i=zs(i,o,m),i}function ww(i,o,l,u){return Ga(),o.flags|=256,Gn(i,o,l,u),o.child}var E_={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function b_(i){return{baseLanes:i,cachePool:fT()}}function S_(i,o,l){return i=i!==null?i.childLanes&~l:0,o&&(i|=zr),i}function Cw(i,o,l){var u=o.pendingProps,m=!1,g=(o.flags&128)!==0,b;if((b=g)||(b=i!==null&&i.memoizedState===null?!1:(hn.current&2)!==0),b&&(m=!0,o.flags&=-129),b=(o.flags&32)!==0,o.flags&=-33,i===null){if(ot){if(m?Lo(o):Vo(),(i=$t)?(i=OC(i,ei),i=i!==null&&i.data!=="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:xo!==null?{id:es,overflow:ts}:null,retryLane:536870912,hydrationErrors:null},l=iT(i),l.return=o,o.child=l,$n=o,$t=null)):i=null,i===null)throw Po(o);return iv(i)?o.lanes=32:o.lanes=536870912,null}var O=u.children;return u=u.fallback,m?(Vo(),m=o.mode,O=ip({mode:"hidden",children:O},m),u=qa(u,m,l,null),O.return=o,u.return=o,O.sibling=u,o.child=O,u=o.child,u.memoizedState=b_(l),u.childLanes=S_(i,b,l),o.memoizedState=E_,lh(null,u)):(Lo(o),T_(o,O))}var q=i.memoizedState;if(q!==null&&(O=q.dehydrated,O!==null)){if(g)o.flags&256?(Lo(o),o.flags&=-257,o=w_(i,o,l)):o.memoizedState!==null?(Vo(),o.child=i.child,o.flags|=128,o=null):(Vo(),O=u.fallback,m=o.mode,u=ip({mode:"visible",children:u.children},m),O=qa(O,m,l,null),O.flags|=2,u.return=o,O.return=o,u.sibling=O,o.child=u,Ja(o,i.child,null,l),u=o.child,u.memoizedState=b_(l),u.childLanes=S_(i,b,l),o.memoizedState=E_,o=lh(null,u));else if(Lo(o),iv(O)){if(b=O.nextSibling&&O.nextSibling.dataset,b)var J=b.dgst;b=J,u=Error(r(419)),u.stack="",u.digest=b,Qu({value:u,source:null,stack:null}),o=w_(i,o,l)}else if(wn||rc(i,o,l,!1),b=(l&i.childLanes)!==0,wn||b){if(b=Ft,b!==null&&(u=xu(b,l),u!==0&&u!==q.retryLane))throw q.retryLane=u,$a(i,u),br(b,i,u),__;rv(O)||fp(),o=w_(i,o,l)}else rv(O)?(o.flags|=192,o.child=i.child,o=null):(i=q.treeContext,$t=ni(O.nextSibling),$n=o,ot=!0,No=null,ei=!1,i!==null&&aT(o,i),o=T_(o,u.children),o.flags|=4096);return o}return m?(Vo(),O=u.fallback,m=o.mode,q=i.child,J=q.sibling,u=Os(q,{mode:"hidden",children:u.children}),u.subtreeFlags=q.subtreeFlags&65011712,J!==null?O=Os(J,O):(O=qa(O,m,l,null),O.flags|=2),O.return=o,u.return=o,u.sibling=O,o.child=u,lh(null,u),u=o.child,O=i.child.memoizedState,O===null?O=b_(l):(m=O.cachePool,m!==null?(q=Sn._currentValue,m=m.parent!==q?{parent:q,pool:q}:m):m=fT(),O={baseLanes:O.baseLanes|l,cachePool:m}),u.memoizedState=O,u.childLanes=S_(i,b,l),o.memoizedState=E_,lh(i.child,u)):(Lo(o),l=i.child,i=l.sibling,l=Os(l,{mode:"visible",children:u.children}),l.return=o,l.sibling=null,i!==null&&(b=o.deletions,b===null?(o.deletions=[i],o.flags|=16):b.push(i)),o.child=l,o.memoizedState=null,l)}function T_(i,o){return o=ip({mode:"visible",children:o},i.mode),o.return=i,i.child=o}function ip(i,o){return i=Mr(22,i,null,o),i.lanes=0,i}function w_(i,o,l){return Ja(o,i.child,null,l),i=T_(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function Rw(i,o,l){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o),zy(i.return,o,l)}function C_(i,o,l,u,m,g){var b=i.memoizedState;b===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:m,treeForkCount:g}:(b.isBackwards=o,b.rendering=null,b.renderingStartTime=0,b.last=u,b.tail=l,b.tailMode=m,b.treeForkCount=g)}function Aw(i,o,l){var u=o.pendingProps,m=u.revealOrder,g=u.tail;u=u.children;var b=hn.current,O=(b&2)!==0;if(O?(b=b&1|2,o.flags|=128):b&=1,de(hn,b),Gn(i,o,u,l),u=ot?Yu:0,!O&&i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Rw(i,l,o);else if(i.tag===19)Rw(i,l,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(m){case"forwards":for(l=o.child,m=null;l!==null;)i=l.alternate,i!==null&&Gf(i)===null&&(m=l),l=l.sibling;l=m,l===null?(m=o.child,o.child=null):(m=l.sibling,l.sibling=null),C_(o,!1,m,l,g,u);break;case"backwards":case"unstable_legacy-backwards":for(l=null,m=o.child,o.child=null;m!==null;){if(i=m.alternate,i!==null&&Gf(i)===null){o.child=m;break}i=m.sibling,m.sibling=l,l=m,m=i}C_(o,!0,l,null,g,u);break;case"together":C_(o,!1,null,null,void 0,u);break;default:o.memoizedState=null}return o.child}function zs(i,o,l){if(i!==null&&(o.dependencies=i.dependencies),Bo|=o.lanes,(l&o.childLanes)===0)if(i!==null){if(rc(i,o,l,!1),(l&o.childLanes)===0)return null}else return null;if(i!==null&&o.child!==i.child)throw Error(r(153));if(o.child!==null){for(i=o.child,l=Os(i,i.pendingProps),o.child=l,l.return=o;i.sibling!==null;)i=i.sibling,l=l.sibling=Os(i,i.pendingProps),l.return=o;l.sibling=null}return o.child}function R_(i,o){return(i.lanes&o)!==0?!0:(i=i.dependencies,!!(i!==null&&Uf(i)))}function FO(i,o,l){switch(o.tag){case 3:it(o,o.stateNode.containerInfo),ko(o,Sn,i.memoizedState.cache),Ga();break;case 27:case 5:ke(o);break;case 4:it(o,o.stateNode.containerInfo);break;case 10:ko(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,Xy(o),null;break;case 13:var u=o.memoizedState;if(u!==null)return u.dehydrated!==null?(Lo(o),o.flags|=128,null):(l&o.child.childLanes)!==0?Cw(i,o,l):(Lo(o),i=zs(i,o,l),i!==null?i.sibling:null);Lo(o);break;case 19:var m=(i.flags&128)!==0;if(u=(l&o.childLanes)!==0,u||(rc(i,o,l,!1),u=(l&o.childLanes)!==0),m){if(u)return Aw(i,o,l);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),de(hn,hn.current),u)break;return null;case 22:return o.lanes=0,vw(i,o,l,o.pendingProps);case 24:ko(o,Sn,i.memoizedState.cache)}return zs(i,o,l)}function Iw(i,o,l){if(i!==null)if(i.memoizedProps!==o.pendingProps)wn=!0;else{if(!R_(i,l)&&(o.flags&128)===0)return wn=!1,FO(i,o,l);wn=(i.flags&131072)!==0}else wn=!1,ot&&(o.flags&1048576)!==0&&oT(o,Yu,o.index);switch(o.lanes=0,o.tag){case 16:e:{var u=o.pendingProps;if(i=Qa(o.elementType),o.type=i,typeof i=="function")Py(i)?(u=el(i,u),o.tag=1,o=Tw(null,o,i,u,l)):(o.tag=0,o=v_(null,o,i,u,l));else{if(i!=null){var m=i.$$typeof;if(m===B){o.tag=11,o=gw(null,o,i,u,l);break e}else if(m===x){o.tag=14,o=yw(null,o,i,u,l);break e}}throw o=Y(i)||i,Error(r(306,o,""))}}return o;case 0:return v_(i,o,o.type,o.pendingProps,l);case 1:return u=o.type,m=el(u,o.pendingProps),Tw(i,o,u,m,l);case 3:e:{if(it(o,o.stateNode.containerInfo),i===null)throw Error(r(387));u=o.pendingProps;var g=o.memoizedState;m=g.element,Gy(i,o),rh(o,u,null,l);var b=o.memoizedState;if(u=b.cache,ko(o,Sn,u),u!==g.cache&&By(o,[Sn],l,!0),nh(),u=b.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:b.cache},o.updateQueue.baseState=g,o.memoizedState=g,o.flags&256){o=ww(i,o,u,l);break e}else if(u!==m){m=Xr(Error(r(424)),o),Qu(m),o=ww(i,o,u,l);break e}else{switch(i=o.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for($t=ni(i.firstChild),$n=o,ot=!0,No=null,ei=!0,l=vT(o,null,u,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Ga(),u===m){o=zs(i,o,l);break e}Gn(i,o,u,l)}o=o.child}return o;case 26:return rp(i,o),i===null?(l=zC(o.type,null,o.pendingProps,null))?o.memoizedState=l:ot||(l=o.type,i=o.pendingProps,u=Ep(ve.current).createElement(l),u[vn]=o,u[Mn]=i,Wn(u,l,i),En(u),o.stateNode=u):o.memoizedState=zC(o.type,i.memoizedProps,o.pendingProps,i.memoizedState),null;case 27:return ke(o),i===null&&ot&&(u=o.stateNode=LC(o.type,o.pendingProps,ve.current),$n=o,ei=!0,m=$t,qo(o.type)?(sv=m,$t=ni(u.firstChild)):$t=m),Gn(i,o,o.pendingProps.children,l),rp(i,o),i===null&&(o.flags|=4194304),o.child;case 5:return i===null&&ot&&((m=u=$t)&&(u=yD(u,o.type,o.pendingProps,ei),u!==null?(o.stateNode=u,$n=o,$t=ni(u.firstChild),ei=!1,m=!0):m=!1),m||Po(o)),ke(o),m=o.type,g=o.pendingProps,b=i!==null?i.memoizedProps:null,u=g.children,ev(m,g)?u=null:b!==null&&ev(m,b)&&(o.flags|=32),o.memoizedState!==null&&(m=Zy(i,o,kO,null,null,l),Th._currentValue=m),rp(i,o),Gn(i,o,u,l),o.child;case 6:return i===null&&ot&&((i=l=$t)&&(l=_D(l,o.pendingProps,ei),l!==null?(o.stateNode=l,$n=o,$t=null,i=!0):i=!1),i||Po(o)),null;case 13:return Cw(i,o,l);case 4:return it(o,o.stateNode.containerInfo),u=o.pendingProps,i===null?o.child=Ja(o,null,u,l):Gn(i,o,u,l),o.child;case 11:return gw(i,o,o.type,o.pendingProps,l);case 7:return Gn(i,o,o.pendingProps,l),o.child;case 8:return Gn(i,o,o.pendingProps.children,l),o.child;case 12:return Gn(i,o,o.pendingProps.children,l),o.child;case 10:return u=o.pendingProps,ko(o,o.type,u.value),Gn(i,o,u.children,l),o.child;case 9:return m=o.type._context,u=o.pendingProps.children,Ka(o),m=qn(m),u=u(m),o.flags|=1,Gn(i,o,u,l),o.child;case 14:return yw(i,o,o.type,o.pendingProps,l);case 15:return _w(i,o,o.type,o.pendingProps,l);case 19:return Aw(i,o,l);case 31:return BO(i,o,l);case 22:return vw(i,o,l,o.pendingProps);case 24:return Ka(o),u=qn(Sn),i===null?(m=Hy(),m===null&&(m=Ft,g=Fy(),m.pooledCache=g,g.refCount++,g!==null&&(m.pooledCacheLanes|=l),m=g),o.memoizedState={parent:u,cache:m},qy(o),ko(o,Sn,m)):((i.lanes&l)!==0&&(Gy(i,o),rh(o,null,null,l),nh()),m=i.memoizedState,g=o.memoizedState,m.parent!==u?(m={parent:u,cache:u},o.memoizedState=m,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=m),ko(o,Sn,u)):(u=g.cache,ko(o,Sn,u),u!==m.cache&&By(o,[Sn],l,!0))),Gn(i,o,o.pendingProps.children,l),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function Bs(i){i.flags|=4}function A_(i,o,l,u,m){if((o=(i.mode&32)!==0)&&(o=!1),o){if(i.flags|=16777216,(m&335544128)===m)if(i.stateNode.complete)i.flags|=8192;else if(tC())i.flags|=8192;else throw Xa=jf,$y}else i.flags&=-16777217}function xw(i,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!$C(o))if(tC())i.flags|=8192;else throw Xa=jf,$y}function sp(i,o){o!==null&&(i.flags|=4),i.flags&16384&&(o=i.tag!==22?hf():536870912,i.lanes|=o,mc|=o)}function ch(i,o){if(!ot)switch(i.tailMode){case"hidden":o=i.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function qt(i){var o=i.alternate!==null&&i.alternate.child===i.child,l=0,u=0;if(o)for(var m=i.child;m!==null;)l|=m.lanes|m.childLanes,u|=m.subtreeFlags&65011712,u|=m.flags&65011712,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)l|=m.lanes|m.childLanes,u|=m.subtreeFlags,u|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=u,i.childLanes=l,o}function jO(i,o,l){var u=o.pendingProps;switch(My(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qt(o),null;case 1:return qt(o),null;case 3:return l=o.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),Ls(Sn),De(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(nc(o)?Bs(o):i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Vy())),qt(o),null;case 26:var m=o.type,g=o.memoizedState;return i===null?(Bs(o),g!==null?(qt(o),xw(o,g)):(qt(o),A_(o,m,null,u,l))):g?g!==i.memoizedState?(Bs(o),qt(o),xw(o,g)):(qt(o),o.flags&=-16777217):(i=i.memoizedProps,i!==u&&Bs(o),qt(o),A_(o,m,i,u,l)),null;case 27:if(Ge(o),l=ve.current,m=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==u&&Bs(o);else{if(!u){if(o.stateNode===null)throw Error(r(166));return qt(o),null}i=pe.current,nc(o)?lT(o):(i=LC(m,u,l),o.stateNode=i,Bs(o))}return qt(o),null;case 5:if(Ge(o),m=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==u&&Bs(o);else{if(!u){if(o.stateNode===null)throw Error(r(166));return qt(o),null}if(g=pe.current,nc(o))lT(o);else{var b=Ep(ve.current);switch(g){case 1:g=b.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:g=b.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":g=b.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":g=b.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":g=b.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof u.is=="string"?b.createElement("select",{is:u.is}):b.createElement("select"),u.multiple?g.multiple=!0:u.size&&(g.size=u.size);break;default:g=typeof u.is=="string"?b.createElement(m,{is:u.is}):b.createElement(m)}}g[vn]=o,g[Mn]=u;e:for(b=o.child;b!==null;){if(b.tag===5||b.tag===6)g.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===o)break e;for(;b.sibling===null;){if(b.return===null||b.return===o)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}o.stateNode=g;e:switch(Wn(g,m,u),m){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Bs(o)}}return qt(o),A_(o,o.type,i===null?null:i.memoizedProps,o.pendingProps,l),null;case 6:if(i&&o.stateNode!=null)i.memoizedProps!==u&&Bs(o);else{if(typeof u!="string"&&o.stateNode===null)throw Error(r(166));if(i=ve.current,nc(o)){if(i=o.stateNode,l=o.memoizedProps,u=null,m=$n,m!==null)switch(m.tag){case 27:case 5:u=m.memoizedProps}i[vn]=o,i=!!(i.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||CC(i.nodeValue,l)),i||Po(o,!0)}else i=Ep(i).createTextNode(u),i[vn]=o,o.stateNode=i}return qt(o),null;case 31:if(l=o.memoizedState,i===null||i.memoizedState!==null){if(u=nc(o),l!==null){if(i===null){if(!u)throw Error(r(318));if(i=o.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[vn]=o}else Ga(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;qt(o),i=!1}else l=Vy(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=l),i=!0;if(!i)return o.flags&256?(Vr(o),o):(Vr(o),null);if((o.flags&128)!==0)throw Error(r(558))}return qt(o),null;case 13:if(u=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(m=nc(o),u!==null&&u.dehydrated!==null){if(i===null){if(!m)throw Error(r(318));if(m=o.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));m[vn]=o}else Ga(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;qt(o),m=!1}else m=Vy(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=m),m=!0;if(!m)return o.flags&256?(Vr(o),o):(Vr(o),null)}return Vr(o),(o.flags&128)!==0?(o.lanes=l,o):(l=u!==null,i=i!==null&&i.memoizedState!==null,l&&(u=o.child,m=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(m=u.alternate.memoizedState.cachePool.pool),g=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==m&&(u.flags|=2048)),l!==i&&l&&(o.child.flags|=8192),sp(o,o.updateQueue),qt(o),null);case 4:return De(),i===null&&Y_(o.stateNode.containerInfo),qt(o),null;case 10:return Ls(o.type),qt(o),null;case 19:if(ie(hn),u=o.memoizedState,u===null)return qt(o),null;if(m=(o.flags&128)!==0,g=u.rendering,g===null)if(m)ch(u,!1);else{if(nn!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(g=Gf(i),g!==null){for(o.flags|=128,ch(u,!1),i=g.updateQueue,o.updateQueue=i,sp(o,i),o.subtreeFlags=0,i=l,l=o.child;l!==null;)rT(l,i),l=l.sibling;return de(hn,hn.current&1|2),ot&&Ds(o,u.treeForkCount),o.child}i=i.sibling}u.tail!==null&&lt()>up&&(o.flags|=128,m=!0,ch(u,!1),o.lanes=4194304)}else{if(!m)if(i=Gf(g),i!==null){if(o.flags|=128,m=!0,i=i.updateQueue,o.updateQueue=i,sp(o,i),ch(u,!0),u.tail===null&&u.tailMode==="hidden"&&!g.alternate&&!ot)return qt(o),null}else 2*lt()-u.renderingStartTime>up&&l!==536870912&&(o.flags|=128,m=!0,ch(u,!1),o.lanes=4194304);u.isBackwards?(g.sibling=o.child,o.child=g):(i=u.last,i!==null?i.sibling=g:o.child=g,u.last=g)}return u.tail!==null?(i=u.tail,u.rendering=i,u.tail=i.sibling,u.renderingStartTime=lt(),i.sibling=null,l=hn.current,de(hn,m?l&1|2:l&1),ot&&Ds(o,u.treeForkCount),i):(qt(o),null);case 22:case 23:return Vr(o),Qy(),u=o.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(o.flags|=8192):u&&(o.flags|=8192),u?(l&536870912)!==0&&(o.flags&128)===0&&(qt(o),o.subtreeFlags&6&&(o.flags|=8192)):qt(o),l=o.updateQueue,l!==null&&sp(o,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),u=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(u=o.memoizedState.cachePool.pool),u!==l&&(o.flags|=2048),i!==null&&ie(Ya),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),o.memoizedState.cache!==l&&(o.flags|=2048),Ls(Sn),qt(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function HO(i,o){switch(My(o),o.tag){case 1:return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return Ls(Sn),De(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 26:case 27:case 5:return Ge(o),null;case 31:if(o.memoizedState!==null){if(Vr(o),o.alternate===null)throw Error(r(340));Ga()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 13:if(Vr(o),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(r(340));Ga()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return ie(hn),null;case 4:return De(),null;case 10:return Ls(o.type),null;case 22:case 23:return Vr(o),Qy(),i!==null&&ie(Ya),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 24:return Ls(Sn),null;case 25:return null;default:return null}}function Nw(i,o){switch(My(o),o.tag){case 3:Ls(Sn),De();break;case 26:case 27:case 5:Ge(o);break;case 4:De();break;case 31:o.memoizedState!==null&&Vr(o);break;case 13:Vr(o);break;case 19:ie(hn);break;case 10:Ls(o.type);break;case 22:case 23:Vr(o),Qy(),i!==null&&ie(Ya);break;case 24:Ls(Sn)}}function uh(i,o){try{var l=o.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var m=u.next;l=m;do{if((l.tag&i)===i){u=void 0;var g=l.create,b=l.inst;u=g(),b.destroy=u}l=l.next}while(l!==m)}}catch(O){xt(o,o.return,O)}}function Uo(i,o,l){try{var u=o.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var g=m.next;u=g;do{if((u.tag&i)===i){var b=u.inst,O=b.destroy;if(O!==void 0){b.destroy=void 0,m=o;var q=l,J=O;try{J()}catch(se){xt(m,q,se)}}}u=u.next}while(u!==g)}}catch(se){xt(o,o.return,se)}}function Pw(i){var o=i.updateQueue;if(o!==null){var l=i.stateNode;try{bT(o,l)}catch(u){xt(i,i.return,u)}}}function kw(i,o,l){l.props=el(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(u){xt(i,o,u)}}function hh(i,o){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof l=="function"?i.refCleanup=l(u):l.current=u}}catch(m){xt(i,o,m)}}function ns(i,o){var l=i.ref,u=i.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(m){xt(i,o,m)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(m){xt(i,o,m)}else l.current=null}function Ow(i){var o=i.type,l=i.memoizedProps,u=i.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break e;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(m){xt(i,i.return,m)}}function I_(i,o,l){try{var u=i.stateNode;hD(u,i.type,l,o),u[Mn]=o}catch(m){xt(i,i.return,m)}}function Dw(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&qo(i.type)||i.tag===4}function x_(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Dw(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&qo(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function N_(i,o,l){var u=i.tag;if(u===5||u===6)i=i.stateNode,o?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,o):(o=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,o.appendChild(i),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=vi));else if(u!==4&&(u===27&&qo(i.type)&&(l=i.stateNode,o=null),i=i.child,i!==null))for(N_(i,o,l),i=i.sibling;i!==null;)N_(i,o,l),i=i.sibling}function op(i,o,l){var u=i.tag;if(u===5||u===6)i=i.stateNode,o?l.insertBefore(i,o):l.appendChild(i);else if(u!==4&&(u===27&&qo(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(op(i,o,l),i=i.sibling;i!==null;)op(i,o,l),i=i.sibling}function Mw(i){var o=i.stateNode,l=i.memoizedProps;try{for(var u=i.type,m=o.attributes;m.length;)o.removeAttributeNode(m[0]);Wn(o,u,l),o[vn]=i,o[Mn]=l}catch(g){xt(i,i.return,g)}}var Fs=!1,Cn=!1,P_=!1,Lw=typeof WeakSet=="function"?WeakSet:Set,Vn=null;function $O(i,o){if(i=i.containerInfo,J_=Ap,i=KS(i),wy(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var m=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{l.nodeType,g.nodeType}catch{l=null;break e}var b=0,O=-1,q=-1,J=0,se=0,ce=i,Z=null;t:for(;;){for(var re;ce!==l||m!==0&&ce.nodeType!==3||(O=b+m),ce!==g||u!==0&&ce.nodeType!==3||(q=b+u),ce.nodeType===3&&(b+=ce.nodeValue.length),(re=ce.firstChild)!==null;)Z=ce,ce=re;for(;;){if(ce===i)break t;if(Z===l&&++J===m&&(O=b),Z===g&&++se===u&&(q=b),(re=ce.nextSibling)!==null)break;ce=Z,Z=ce.parentNode}ce=re}l=O===-1||q===-1?null:{start:O,end:q}}else l=null}l=l||{start:0,end:0}}else l=null;for(Z_={focusedElem:i,selectionRange:l},Ap=!1,Vn=o;Vn!==null;)if(o=Vn,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,Vn=i;else for(;Vn!==null;){switch(o=Vn,g=o.alternate,i=o.flags,o.tag){case 0:if((i&4)!==0&&(i=o.updateQueue,i=i!==null?i.events:null,i!==null))for(l=0;l<i.length;l++)m=i[l],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,l=o,m=g.memoizedProps,g=g.memoizedState,u=l.stateNode;try{var Te=el(l.type,m);i=u.getSnapshotBeforeUpdate(Te,g),u.__reactInternalSnapshotBeforeUpdate=i}catch(Oe){xt(l,l.return,Oe)}}break;case 3:if((i&1024)!==0){if(i=o.stateNode.containerInfo,l=i.nodeType,l===9)nv(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":nv(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=o.sibling,i!==null){i.return=o.return,Vn=i;break}Vn=o.return}}function Vw(i,o,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:Hs(i,l),u&4&&uh(5,l);break;case 1:if(Hs(i,l),u&4)if(i=l.stateNode,o===null)try{i.componentDidMount()}catch(b){xt(l,l.return,b)}else{var m=el(l.type,o.memoizedProps);o=o.memoizedState;try{i.componentDidUpdate(m,o,i.__reactInternalSnapshotBeforeUpdate)}catch(b){xt(l,l.return,b)}}u&64&&Pw(l),u&512&&hh(l,l.return);break;case 3:if(Hs(i,l),u&64&&(i=l.updateQueue,i!==null)){if(o=null,l.child!==null)switch(l.child.tag){case 27:case 5:o=l.child.stateNode;break;case 1:o=l.child.stateNode}try{bT(i,o)}catch(b){xt(l,l.return,b)}}break;case 27:o===null&&u&4&&Mw(l);case 26:case 5:Hs(i,l),o===null&&u&4&&Ow(l),u&512&&hh(l,l.return);break;case 12:Hs(i,l);break;case 31:Hs(i,l),u&4&&Bw(i,l);break;case 13:Hs(i,l),u&4&&Fw(i,l),u&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=ZO.bind(null,l),vD(i,l))));break;case 22:if(u=l.memoizedState!==null||Fs,!u){o=o!==null&&o.memoizedState!==null||Cn,m=Fs;var g=Cn;Fs=u,(Cn=o)&&!g?$s(i,l,(l.subtreeFlags&8772)!==0):Hs(i,l),Fs=m,Cn=g}break;case 30:break;default:Hs(i,l)}}function Uw(i){var o=i.alternate;o!==null&&(i.alternate=null,Uw(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&zl(o)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Qt=null,yr=!1;function js(i,o,l){for(l=l.child;l!==null;)zw(i,o,l),l=l.sibling}function zw(i,o,l){if(yn&&typeof yn.onCommitFiberUnmount=="function")try{yn.onCommitFiberUnmount(Jn,l)}catch{}switch(l.tag){case 26:Cn||ns(l,o),js(i,o,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Cn||ns(l,o);var u=Qt,m=yr;qo(l.type)&&(Qt=l.stateNode,yr=!1),js(i,o,l),Eh(l.stateNode),Qt=u,yr=m;break;case 5:Cn||ns(l,o);case 6:if(u=Qt,m=yr,Qt=null,js(i,o,l),Qt=u,yr=m,Qt!==null)if(yr)try{(Qt.nodeType===9?Qt.body:Qt.nodeName==="HTML"?Qt.ownerDocument.body:Qt).removeChild(l.stateNode)}catch(g){xt(l,o,g)}else try{Qt.removeChild(l.stateNode)}catch(g){xt(l,o,g)}break;case 18:Qt!==null&&(yr?(i=Qt,PC(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),Tc(i)):PC(Qt,l.stateNode));break;case 4:u=Qt,m=yr,Qt=l.stateNode.containerInfo,yr=!0,js(i,o,l),Qt=u,yr=m;break;case 0:case 11:case 14:case 15:Uo(2,l,o),Cn||Uo(4,l,o),js(i,o,l);break;case 1:Cn||(ns(l,o),u=l.stateNode,typeof u.componentWillUnmount=="function"&&kw(l,o,u)),js(i,o,l);break;case 21:js(i,o,l);break;case 22:Cn=(u=Cn)||l.memoizedState!==null,js(i,o,l),Cn=u;break;default:js(i,o,l)}}function Bw(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Tc(i)}catch(l){xt(o,o.return,l)}}}function Fw(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Tc(i)}catch(l){xt(o,o.return,l)}}function qO(i){switch(i.tag){case 31:case 13:case 19:var o=i.stateNode;return o===null&&(o=i.stateNode=new Lw),o;case 22:return i=i.stateNode,o=i._retryCache,o===null&&(o=i._retryCache=new Lw),o;default:throw Error(r(435,i.tag))}}function ap(i,o){var l=qO(i);o.forEach(function(u){if(!l.has(u)){l.add(u);var m=eD.bind(null,i,u);u.then(m,m)}})}function _r(i,o){var l=o.deletions;if(l!==null)for(var u=0;u<l.length;u++){var m=l[u],g=i,b=o,O=b;e:for(;O!==null;){switch(O.tag){case 27:if(qo(O.type)){Qt=O.stateNode,yr=!1;break e}break;case 5:Qt=O.stateNode,yr=!1;break e;case 3:case 4:Qt=O.stateNode.containerInfo,yr=!0;break e}O=O.return}if(Qt===null)throw Error(r(160));zw(g,b,m),Qt=null,yr=!1,g=m.alternate,g!==null&&(g.return=null),m.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)jw(o,i),o=o.sibling}var Ci=null;function jw(i,o){var l=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:_r(o,i),vr(i),u&4&&(Uo(3,i,i.return),uh(3,i),Uo(5,i,i.return));break;case 1:_r(o,i),vr(i),u&512&&(Cn||l===null||ns(l,l.return)),u&64&&Fs&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var m=Ci;if(_r(o,i),vr(i),u&512&&(Cn||l===null||ns(l,l.return)),u&4){var g=l!==null?l.memoizedState:null;if(u=i.memoizedState,l===null)if(u===null)if(i.stateNode===null){e:{u=i.type,l=i.memoizedProps,m=m.ownerDocument||m;t:switch(u){case"title":g=m.getElementsByTagName("title")[0],(!g||g[ji]||g[vn]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=m.createElement(u),m.head.insertBefore(g,m.querySelector("head > title"))),Wn(g,u,l),g[vn]=i,En(g),u=g;break e;case"link":var b=jC("link","href",m).get(u+(l.href||""));if(b){for(var O=0;O<b.length;O++)if(g=b[O],g.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&g.getAttribute("rel")===(l.rel==null?null:l.rel)&&g.getAttribute("title")===(l.title==null?null:l.title)&&g.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){b.splice(O,1);break t}}g=m.createElement(u),Wn(g,u,l),m.head.appendChild(g);break;case"meta":if(b=jC("meta","content",m).get(u+(l.content||""))){for(O=0;O<b.length;O++)if(g=b[O],g.getAttribute("content")===(l.content==null?null:""+l.content)&&g.getAttribute("name")===(l.name==null?null:l.name)&&g.getAttribute("property")===(l.property==null?null:l.property)&&g.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&g.getAttribute("charset")===(l.charSet==null?null:l.charSet)){b.splice(O,1);break t}}g=m.createElement(u),Wn(g,u,l),m.head.appendChild(g);break;default:throw Error(r(468,u))}g[vn]=i,En(g),u=g}i.stateNode=u}else HC(m,i.type,i.stateNode);else i.stateNode=FC(m,u,i.memoizedProps);else g!==u?(g===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):g.count--,u===null?HC(m,i.type,i.stateNode):FC(m,u,i.memoizedProps)):u===null&&i.stateNode!==null&&I_(i,i.memoizedProps,l.memoizedProps)}break;case 27:_r(o,i),vr(i),u&512&&(Cn||l===null||ns(l,l.return)),l!==null&&u&4&&I_(i,i.memoizedProps,l.memoizedProps);break;case 5:if(_r(o,i),vr(i),u&512&&(Cn||l===null||ns(l,l.return)),i.flags&32){m=i.stateNode;try{gr(m,"")}catch(Te){xt(i,i.return,Te)}}u&4&&i.stateNode!=null&&(m=i.memoizedProps,I_(i,m,l!==null?l.memoizedProps:m)),u&1024&&(P_=!0);break;case 6:if(_r(o,i),vr(i),u&4){if(i.stateNode===null)throw Error(r(162));u=i.memoizedProps,l=i.stateNode;try{l.nodeValue=u}catch(Te){xt(i,i.return,Te)}}break;case 3:if(Tp=null,m=Ci,Ci=bp(o.containerInfo),_r(o,i),Ci=m,vr(i),u&4&&l!==null&&l.memoizedState.isDehydrated)try{Tc(o.containerInfo)}catch(Te){xt(i,i.return,Te)}P_&&(P_=!1,Hw(i));break;case 4:u=Ci,Ci=bp(i.stateNode.containerInfo),_r(o,i),vr(i),Ci=u;break;case 12:_r(o,i),vr(i);break;case 31:_r(o,i),vr(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,ap(i,u)));break;case 13:_r(o,i),vr(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(cp=lt()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,ap(i,u)));break;case 22:m=i.memoizedState!==null;var q=l!==null&&l.memoizedState!==null,J=Fs,se=Cn;if(Fs=J||m,Cn=se||q,_r(o,i),Cn=se,Fs=J,vr(i),u&8192)e:for(o=i.stateNode,o._visibility=m?o._visibility&-2:o._visibility|1,m&&(l===null||q||Fs||Cn||tl(i)),l=null,o=i;;){if(o.tag===5||o.tag===26){if(l===null){q=l=o;try{if(g=q.stateNode,m)b=g.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{O=q.stateNode;var ce=q.memoizedProps.style,Z=ce!=null&&ce.hasOwnProperty("display")?ce.display:null;O.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(Te){xt(q,q.return,Te)}}}else if(o.tag===6){if(l===null){q=o;try{q.stateNode.nodeValue=m?"":q.memoizedProps}catch(Te){xt(q,q.return,Te)}}}else if(o.tag===18){if(l===null){q=o;try{var re=q.stateNode;m?kC(re,!0):kC(q.stateNode,!1)}catch(Te){xt(q,q.return,Te)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===i)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break e;for(;o.sibling===null;){if(o.return===null||o.return===i)break e;l===o&&(l=null),o=o.return}l===o&&(l=null),o.sibling.return=o.return,o=o.sibling}u&4&&(u=i.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,ap(i,l))));break;case 19:_r(o,i),vr(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,ap(i,u)));break;case 30:break;case 21:break;default:_r(o,i),vr(i)}}function vr(i){var o=i.flags;if(o&2){try{for(var l,u=i.return;u!==null;){if(Dw(u)){l=u;break}u=u.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var m=l.stateNode,g=x_(i);op(i,g,m);break;case 5:var b=l.stateNode;l.flags&32&&(gr(b,""),l.flags&=-33);var O=x_(i);op(i,O,b);break;case 3:case 4:var q=l.stateNode.containerInfo,J=x_(i);N_(i,J,q);break;default:throw Error(r(161))}}catch(se){xt(i,i.return,se)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function Hw(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var o=i;Hw(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),i=i.sibling}}function Hs(i,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)Vw(i,o.alternate,o),o=o.sibling}function tl(i){for(i=i.child;i!==null;){var o=i;switch(o.tag){case 0:case 11:case 14:case 15:Uo(4,o,o.return),tl(o);break;case 1:ns(o,o.return);var l=o.stateNode;typeof l.componentWillUnmount=="function"&&kw(o,o.return,l),tl(o);break;case 27:Eh(o.stateNode);case 26:case 5:ns(o,o.return),tl(o);break;case 22:o.memoizedState===null&&tl(o);break;case 30:tl(o);break;default:tl(o)}i=i.sibling}}function $s(i,o,l){for(l=l&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var u=o.alternate,m=i,g=o,b=g.flags;switch(g.tag){case 0:case 11:case 15:$s(m,g,l),uh(4,g);break;case 1:if($s(m,g,l),u=g,m=u.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(J){xt(u,u.return,J)}if(u=g,m=u.updateQueue,m!==null){var O=u.stateNode;try{var q=m.shared.hiddenCallbacks;if(q!==null)for(m.shared.hiddenCallbacks=null,m=0;m<q.length;m++)ET(q[m],O)}catch(J){xt(u,u.return,J)}}l&&b&64&&Pw(g),hh(g,g.return);break;case 27:Mw(g);case 26:case 5:$s(m,g,l),l&&u===null&&b&4&&Ow(g),hh(g,g.return);break;case 12:$s(m,g,l);break;case 31:$s(m,g,l),l&&b&4&&Bw(m,g);break;case 13:$s(m,g,l),l&&b&4&&Fw(m,g);break;case 22:g.memoizedState===null&&$s(m,g,l),hh(g,g.return);break;case 30:break;default:$s(m,g,l)}o=o.sibling}}function k_(i,o){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(i=o.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&Xu(l))}function O_(i,o){i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&Xu(i))}function Ri(i,o,l,u){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)$w(i,o,l,u),o=o.sibling}function $w(i,o,l,u){var m=o.flags;switch(o.tag){case 0:case 11:case 15:Ri(i,o,l,u),m&2048&&uh(9,o);break;case 1:Ri(i,o,l,u);break;case 3:Ri(i,o,l,u),m&2048&&(i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&Xu(i)));break;case 12:if(m&2048){Ri(i,o,l,u),i=o.stateNode;try{var g=o.memoizedProps,b=g.id,O=g.onPostCommit;typeof O=="function"&&O(b,o.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(q){xt(o,o.return,q)}}else Ri(i,o,l,u);break;case 31:Ri(i,o,l,u);break;case 13:Ri(i,o,l,u);break;case 23:break;case 22:g=o.stateNode,b=o.alternate,o.memoizedState!==null?g._visibility&2?Ri(i,o,l,u):dh(i,o):g._visibility&2?Ri(i,o,l,u):(g._visibility|=2,dc(i,o,l,u,(o.subtreeFlags&10256)!==0||!1)),m&2048&&k_(b,o);break;case 24:Ri(i,o,l,u),m&2048&&O_(o.alternate,o);break;default:Ri(i,o,l,u)}}function dc(i,o,l,u,m){for(m=m&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var g=i,b=o,O=l,q=u,J=b.flags;switch(b.tag){case 0:case 11:case 15:dc(g,b,O,q,m),uh(8,b);break;case 23:break;case 22:var se=b.stateNode;b.memoizedState!==null?se._visibility&2?dc(g,b,O,q,m):dh(g,b):(se._visibility|=2,dc(g,b,O,q,m)),m&&J&2048&&k_(b.alternate,b);break;case 24:dc(g,b,O,q,m),m&&J&2048&&O_(b.alternate,b);break;default:dc(g,b,O,q,m)}o=o.sibling}}function dh(i,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var l=i,u=o,m=u.flags;switch(u.tag){case 22:dh(l,u),m&2048&&k_(u.alternate,u);break;case 24:dh(l,u),m&2048&&O_(u.alternate,u);break;default:dh(l,u)}o=o.sibling}}var fh=8192;function fc(i,o,l){if(i.subtreeFlags&fh)for(i=i.child;i!==null;)qw(i,o,l),i=i.sibling}function qw(i,o,l){switch(i.tag){case 26:fc(i,o,l),i.flags&fh&&i.memoizedState!==null&&PD(l,Ci,i.memoizedState,i.memoizedProps);break;case 5:fc(i,o,l);break;case 3:case 4:var u=Ci;Ci=bp(i.stateNode.containerInfo),fc(i,o,l),Ci=u;break;case 22:i.memoizedState===null&&(u=i.alternate,u!==null&&u.memoizedState!==null?(u=fh,fh=16777216,fc(i,o,l),fh=u):fc(i,o,l));break;default:fc(i,o,l)}}function Gw(i){var o=i.alternate;if(o!==null&&(i=o.child,i!==null)){o.child=null;do o=i.sibling,i.sibling=null,i=o;while(i!==null)}}function ph(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var l=0;l<o.length;l++){var u=o[l];Vn=u,Kw(u,i)}Gw(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Ww(i),i=i.sibling}function Ww(i){switch(i.tag){case 0:case 11:case 15:ph(i),i.flags&2048&&Uo(9,i,i.return);break;case 3:ph(i);break;case 12:ph(i);break;case 22:var o=i.stateNode;i.memoizedState!==null&&o._visibility&2&&(i.return===null||i.return.tag!==13)?(o._visibility&=-3,lp(i)):ph(i);break;default:ph(i)}}function lp(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var l=0;l<o.length;l++){var u=o[l];Vn=u,Kw(u,i)}Gw(i)}for(i=i.child;i!==null;){switch(o=i,o.tag){case 0:case 11:case 15:Uo(8,o,o.return),lp(o);break;case 22:l=o.stateNode,l._visibility&2&&(l._visibility&=-3,lp(o));break;default:lp(o)}i=i.sibling}}function Kw(i,o){for(;Vn!==null;){var l=Vn;switch(l.tag){case 0:case 11:case 15:Uo(8,l,o);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Xu(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,Vn=u;else e:for(l=i;Vn!==null;){u=Vn;var m=u.sibling,g=u.return;if(Uw(u),u===l){Vn=null;break e}if(m!==null){m.return=g,Vn=m;break e}Vn=g}}}var GO={getCacheForType:function(i){var o=qn(Sn),l=o.data.get(i);return l===void 0&&(l=i(),o.data.set(i,l)),l},cacheSignal:function(){return qn(Sn).controller.signal}},WO=typeof WeakMap=="function"?WeakMap:Map,gt=0,Ft=null,Xe=null,et=0,It=0,Ur=null,zo=!1,pc=!1,D_=!1,qs=0,nn=0,Bo=0,nl=0,M_=0,zr=0,mc=0,mh=null,Er=null,L_=!1,cp=0,Yw=0,up=1/0,hp=null,Fo=null,On=0,jo=null,gc=null,Gs=0,V_=0,U_=null,Qw=null,gh=0,z_=null;function Br(){return(gt&2)!==0&&et!==0?et&-et:H.T!==null?q_():df()}function Xw(){if(zr===0)if((et&536870912)===0||ot){var i=xa;xa<<=1,(xa&3932160)===0&&(xa=262144),zr=i}else zr=536870912;return i=Lr.current,i!==null&&(i.flags|=32),zr}function br(i,o,l){(i===Ft&&(It===2||It===9)||i.cancelPendingCommit!==null)&&(yc(i,0),Ho(i,et,zr,!1)),Na(i,l),((gt&2)===0||i!==Ft)&&(i===Ft&&((gt&2)===0&&(nl|=l),nn===4&&Ho(i,et,zr,!1)),rs(i))}function Jw(i,o,l){if((gt&6)!==0)throw Error(r(327));var u=!l&&(o&127)===0&&(o&i.expiredLanes)===0||gi(i,o),m=u?QO(i,o):F_(i,o,!0),g=u;do{if(m===0){pc&&!u&&Ho(i,o,0,!1);break}else{if(l=i.current.alternate,g&&!KO(l)){m=F_(i,o,!1),g=!1;continue}if(m===2){if(g=o,i.errorRecoveryDisabledLanes&g)var b=0;else b=i.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){o=b;e:{var O=i;m=mh;var q=O.current.memoizedState.isDehydrated;if(q&&(yc(O,b).flags|=256),b=F_(O,b,!1),b!==2){if(D_&&!q){O.errorRecoveryDisabledLanes|=g,nl|=g,m=4;break e}g=Er,Er=m,g!==null&&(Er===null?Er=g:Er.push.apply(Er,g))}m=b}if(g=!1,m!==2)continue}}if(m===1){yc(i,0),Ho(i,o,0,!0);break}e:{switch(u=i,g=m,g){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:Ho(u,o,zr,!zo);break e;case 2:Er=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(m=cp+300-lt(),10<m)){if(Ho(u,o,zr,!zo),zi(u,0,!0)!==0)break e;Gs=o,u.timeoutHandle=xC(Zw.bind(null,u,l,Er,hp,L_,o,zr,nl,mc,zo,g,"Throttled",-0,0),m);break e}Zw(u,l,Er,hp,L_,o,zr,nl,mc,zo,g,null,-0,0)}}break}while(!0);rs(i)}function Zw(i,o,l,u,m,g,b,O,q,J,se,ce,Z,re){if(i.timeoutHandle=-1,ce=o.subtreeFlags,ce&8192||(ce&16785408)===16785408){ce={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:vi},qw(o,g,ce);var Te=(g&62914560)===g?cp-lt():(g&4194048)===g?Yw-lt():0;if(Te=kD(ce,Te),Te!==null){Gs=g,i.cancelPendingCommit=Te(aC.bind(null,i,o,g,l,u,m,b,O,q,se,ce,null,Z,re)),Ho(i,g,b,!J);return}}aC(i,o,g,l,u,m,b,O,q)}function KO(i){for(var o=i;;){var l=o.tag;if((l===0||l===11||l===15)&&o.flags&16384&&(l=o.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var m=l[u],g=m.getSnapshot;m=m.value;try{if(!Dr(g(),m))return!1}catch{return!1}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ho(i,o,l,u){o&=~M_,o&=~nl,i.suspendedLanes|=o,i.pingedLanes&=~o,u&&(i.warmLanes|=o),u=i.expirationTimes;for(var m=o;0<m;){var g=31-Ue(m),b=1<<g;u[g]=-1,m&=~b}l!==0&&Pa(i,l,o)}function dp(){return(gt&6)===0?(yh(0),!1):!0}function B_(){if(Xe!==null){if(It===0)var i=Xe.return;else i=Xe,Ms=Wa=null,n_(i),ac=null,Zu=0,i=Xe;for(;i!==null;)Nw(i.alternate,i),i=i.return;Xe=null}}function yc(i,o){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,pD(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),Gs=0,B_(),Ft=i,Xe=l=Os(i.current,null),et=o,It=0,Ur=null,zo=!1,pc=gi(i,o),D_=!1,mc=zr=M_=nl=Bo=nn=0,Er=mh=null,L_=!1,(o&8)!==0&&(o|=o&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=o;0<u;){var m=31-Ue(u),g=1<<m;o|=i[m],u&=~g}return qs=o,Of(),l}function eC(i,o){$e=null,H.H=ah,o===oc||o===Ff?(o=gT(),It=3):o===$y?(o=gT(),It=4):It=o===__?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Ur=o,Xe===null&&(nn=1,tp(i,Xr(o,i.current)))}function tC(){var i=Lr.current;return i===null?!0:(et&4194048)===et?ti===null:(et&62914560)===et||(et&536870912)!==0?i===ti:!1}function nC(){var i=H.H;return H.H=ah,i===null?ah:i}function rC(){var i=H.A;return H.A=GO,i}function fp(){nn=4,zo||(et&4194048)!==et&&Lr.current!==null||(pc=!0),(Bo&134217727)===0&&(nl&134217727)===0||Ft===null||Ho(Ft,et,zr,!1)}function F_(i,o,l){var u=gt;gt|=2;var m=nC(),g=rC();(Ft!==i||et!==o)&&(hp=null,yc(i,o)),o=!1;var b=nn;e:do try{if(It!==0&&Xe!==null){var O=Xe,q=Ur;switch(It){case 8:B_(),b=6;break e;case 3:case 2:case 9:case 6:Lr.current===null&&(o=!0);var J=It;if(It=0,Ur=null,_c(i,O,q,J),l&&pc){b=0;break e}break;default:J=It,It=0,Ur=null,_c(i,O,q,J)}}YO(),b=nn;break}catch(se){eC(i,se)}while(!0);return o&&i.shellSuspendCounter++,Ms=Wa=null,gt=u,H.H=m,H.A=g,Xe===null&&(Ft=null,et=0,Of()),b}function YO(){for(;Xe!==null;)iC(Xe)}function QO(i,o){var l=gt;gt|=2;var u=nC(),m=rC();Ft!==i||et!==o?(hp=null,up=lt()+500,yc(i,o)):pc=gi(i,o);e:do try{if(It!==0&&Xe!==null){o=Xe;var g=Ur;t:switch(It){case 1:It=0,Ur=null,_c(i,o,g,1);break;case 2:case 9:if(pT(g)){It=0,Ur=null,sC(o);break}o=function(){It!==2&&It!==9||Ft!==i||(It=7),rs(i)},g.then(o,o);break e;case 3:It=7;break e;case 4:It=5;break e;case 7:pT(g)?(It=0,Ur=null,sC(o)):(It=0,Ur=null,_c(i,o,g,7));break;case 5:var b=null;switch(Xe.tag){case 26:b=Xe.memoizedState;case 5:case 27:var O=Xe;if(b?$C(b):O.stateNode.complete){It=0,Ur=null;var q=O.sibling;if(q!==null)Xe=q;else{var J=O.return;J!==null?(Xe=J,pp(J)):Xe=null}break t}}It=0,Ur=null,_c(i,o,g,5);break;case 6:It=0,Ur=null,_c(i,o,g,6);break;case 8:B_(),nn=6;break e;default:throw Error(r(462))}}XO();break}catch(se){eC(i,se)}while(!0);return Ms=Wa=null,H.H=u,H.A=m,gt=l,Xe!==null?0:(Ft=null,et=0,Of(),nn)}function XO(){for(;Xe!==null&&!Pe();)iC(Xe)}function iC(i){var o=Iw(i.alternate,i,qs);i.memoizedProps=i.pendingProps,o===null?pp(i):Xe=o}function sC(i){var o=i,l=o.alternate;switch(o.tag){case 15:case 0:o=Sw(l,o,o.pendingProps,o.type,void 0,et);break;case 11:o=Sw(l,o,o.pendingProps,o.type.render,o.ref,et);break;case 5:n_(o);default:Nw(l,o),o=Xe=rT(o,qs),o=Iw(l,o,qs)}i.memoizedProps=i.pendingProps,o===null?pp(i):Xe=o}function _c(i,o,l,u){Ms=Wa=null,n_(o),ac=null,Zu=0;var m=o.return;try{if(zO(i,m,o,l,et)){nn=1,tp(i,Xr(l,i.current)),Xe=null;return}}catch(g){if(m!==null)throw Xe=m,g;nn=1,tp(i,Xr(l,i.current)),Xe=null;return}o.flags&32768?(ot||u===1?i=!0:pc||(et&536870912)!==0?i=!1:(zo=i=!0,(u===2||u===9||u===3||u===6)&&(u=Lr.current,u!==null&&u.tag===13&&(u.flags|=16384))),oC(o,i)):pp(o)}function pp(i){var o=i;do{if((o.flags&32768)!==0){oC(o,zo);return}i=o.return;var l=jO(o.alternate,o,qs);if(l!==null){Xe=l;return}if(o=o.sibling,o!==null){Xe=o;return}Xe=o=i}while(o!==null);nn===0&&(nn=5)}function oC(i,o){do{var l=HO(i.alternate,i);if(l!==null){l.flags&=32767,Xe=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!o&&(i=i.sibling,i!==null)){Xe=i;return}Xe=i=l}while(i!==null);nn=6,Xe=null}function aC(i,o,l,u,m,g,b,O,q){i.cancelPendingCommit=null;do mp();while(On!==0);if((gt&6)!==0)throw Error(r(327));if(o!==null){if(o===i.current)throw Error(r(177));if(g=o.lanes|o.childLanes,g|=xy,Ey(i,l,g,b,O,q),i===Ft&&(Xe=Ft=null,et=0),gc=o,jo=i,Gs=l,V_=g,U_=m,Qw=u,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,tD(ar,function(){return dC(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||u){u=H.T,H.T=null,m=te.p,te.p=2,b=gt,gt|=4;try{$O(i,o,l)}finally{gt=b,te.p=m,H.T=u}}On=1,lC(),cC(),uC()}}function lC(){if(On===1){On=0;var i=jo,o=gc,l=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||l){l=H.T,H.T=null;var u=te.p;te.p=2;var m=gt;gt|=4;try{jw(o,i);var g=Z_,b=KS(i.containerInfo),O=g.focusedElem,q=g.selectionRange;if(b!==O&&O&&O.ownerDocument&&WS(O.ownerDocument.documentElement,O)){if(q!==null&&wy(O)){var J=q.start,se=q.end;if(se===void 0&&(se=J),"selectionStart"in O)O.selectionStart=J,O.selectionEnd=Math.min(se,O.value.length);else{var ce=O.ownerDocument||document,Z=ce&&ce.defaultView||window;if(Z.getSelection){var re=Z.getSelection(),Te=O.textContent.length,Oe=Math.min(q.start,Te),zt=q.end===void 0?Oe:Math.min(q.end,Te);!re.extend&&Oe>zt&&(b=zt,zt=Oe,Oe=b);var K=GS(O,Oe),W=GS(O,zt);if(K&&W&&(re.rangeCount!==1||re.anchorNode!==K.node||re.anchorOffset!==K.offset||re.focusNode!==W.node||re.focusOffset!==W.offset)){var X=ce.createRange();X.setStart(K.node,K.offset),re.removeAllRanges(),Oe>zt?(re.addRange(X),re.extend(W.node,W.offset)):(X.setEnd(W.node,W.offset),re.addRange(X))}}}}for(ce=[],re=O;re=re.parentNode;)re.nodeType===1&&ce.push({element:re,left:re.scrollLeft,top:re.scrollTop});for(typeof O.focus=="function"&&O.focus(),O=0;O<ce.length;O++){var ae=ce[O];ae.element.scrollLeft=ae.left,ae.element.scrollTop=ae.top}}Ap=!!J_,Z_=J_=null}finally{gt=m,te.p=u,H.T=l}}i.current=o,On=2}}function cC(){if(On===2){On=0;var i=jo,o=gc,l=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||l){l=H.T,H.T=null;var u=te.p;te.p=2;var m=gt;gt|=4;try{Vw(i,o.alternate,o)}finally{gt=m,te.p=u,H.T=l}}On=3}}function uC(){if(On===4||On===3){On=0,Nr();var i=jo,o=gc,l=Gs,u=Qw;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?On=5:(On=0,gc=jo=null,hC(i,i.pendingLanes));var m=i.pendingLanes;if(m===0&&(Fo=null),xs(l),o=o.stateNode,yn&&typeof yn.onCommitFiberRoot=="function")try{yn.onCommitFiberRoot(Jn,o,void 0,(o.current.flags&128)===128)}catch{}if(u!==null){o=H.T,m=te.p,te.p=2,H.T=null;try{for(var g=i.onRecoverableError,b=0;b<u.length;b++){var O=u[b];g(O.value,{componentStack:O.stack})}}finally{H.T=o,te.p=m}}(Gs&3)!==0&&mp(),rs(i),m=i.pendingLanes,(l&261930)!==0&&(m&42)!==0?i===z_?gh++:(gh=0,z_=i):gh=0,yh(0)}}function hC(i,o){(i.pooledCacheLanes&=o)===0&&(o=i.pooledCache,o!=null&&(i.pooledCache=null,Xu(o)))}function mp(){return lC(),cC(),uC(),dC()}function dC(){if(On!==5)return!1;var i=jo,o=V_;V_=0;var l=xs(Gs),u=H.T,m=te.p;try{te.p=32>l?32:l,H.T=null,l=U_,U_=null;var g=jo,b=Gs;if(On=0,gc=jo=null,Gs=0,(gt&6)!==0)throw Error(r(331));var O=gt;if(gt|=4,Ww(g.current),$w(g,g.current,b,l),gt=O,yh(0,!1),yn&&typeof yn.onPostCommitFiberRoot=="function")try{yn.onPostCommitFiberRoot(Jn,g)}catch{}return!0}finally{te.p=m,H.T=u,hC(i,o)}}function fC(i,o,l){o=Xr(l,o),o=y_(i.stateNode,o,2),i=Mo(i,o,2),i!==null&&(Na(i,2),rs(i))}function xt(i,o,l){if(i.tag===3)fC(i,i,l);else for(;o!==null;){if(o.tag===3){fC(o,i,l);break}else if(o.tag===1){var u=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Fo===null||!Fo.has(u))){i=Xr(l,i),l=pw(2),u=Mo(o,l,2),u!==null&&(mw(l,u,o,i),Na(u,2),rs(u));break}}o=o.return}}function j_(i,o,l){var u=i.pingCache;if(u===null){u=i.pingCache=new WO;var m=new Set;u.set(o,m)}else m=u.get(o),m===void 0&&(m=new Set,u.set(o,m));m.has(l)||(D_=!0,m.add(l),i=JO.bind(null,i,o,l),o.then(i,i))}function JO(i,o,l){var u=i.pingCache;u!==null&&u.delete(o),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,Ft===i&&(et&l)===l&&(nn===4||nn===3&&(et&62914560)===et&&300>lt()-cp?(gt&2)===0&&yc(i,0):M_|=l,mc===et&&(mc=0)),rs(i)}function pC(i,o){o===0&&(o=hf()),i=$a(i,o),i!==null&&(Na(i,o),rs(i))}function ZO(i){var o=i.memoizedState,l=0;o!==null&&(l=o.retryLane),pC(i,l)}function eD(i,o){var l=0;switch(i.tag){case 31:case 13:var u=i.stateNode,m=i.memoizedState;m!==null&&(l=m.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(o),pC(i,l)}function tD(i,o){return st(i,o)}var gp=null,vc=null,H_=!1,yp=!1,$_=!1,$o=0;function rs(i){i!==vc&&i.next===null&&(vc===null?gp=vc=i:vc=vc.next=i),yp=!0,H_||(H_=!0,rD())}function yh(i,o){if(!$_&&yp){$_=!0;do for(var l=!1,u=gp;u!==null;){if(i!==0){var m=u.pendingLanes;if(m===0)var g=0;else{var b=u.suspendedLanes,O=u.pingedLanes;g=(1<<31-Ue(42|i)+1)-1,g&=m&~(b&~O),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(l=!0,_C(u,g))}else g=et,g=zi(u,u===Ft?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||gi(u,g)||(l=!0,_C(u,g));u=u.next}while(l);$_=!1}}function nD(){mC()}function mC(){yp=H_=!1;var i=0;$o!==0&&fD()&&(i=$o);for(var o=lt(),l=null,u=gp;u!==null;){var m=u.next,g=gC(u,o);g===0?(u.next=null,l===null?gp=m:l.next=m,m===null&&(vc=l)):(l=u,(i!==0||(g&3)!==0)&&(yp=!0)),u=m}On!==0&&On!==5||yh(i),$o!==0&&($o=0)}function gC(i,o){for(var l=i.suspendedLanes,u=i.pingedLanes,m=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var b=31-Ue(g),O=1<<b,q=m[b];q===-1?((O&l)===0||(O&u)!==0)&&(m[b]=vy(O,o)):q<=o&&(i.expiredLanes|=O),g&=~O}if(o=Ft,l=et,l=zi(i,i===o?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,l===0||i===o&&(It===2||It===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&Mt(u),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||gi(i,l)){if(o=l&-l,o===i.callbackPriority)return o;switch(u!==null&&Mt(u),xs(l)){case 2:case 8:l=pi;break;case 32:l=ar;break;case 268435456:l=pr;break;default:l=ar}return u=yC.bind(null,i),l=st(l,u),i.callbackPriority=o,i.callbackNode=l,o}return u!==null&&u!==null&&Mt(u),i.callbackPriority=2,i.callbackNode=null,2}function yC(i,o){if(On!==0&&On!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(mp()&&i.callbackNode!==l)return null;var u=et;return u=zi(i,i===Ft?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(Jw(i,u,o),gC(i,lt()),i.callbackNode!=null&&i.callbackNode===l?yC.bind(null,i):null)}function _C(i,o){if(mp())return null;Jw(i,o,!0)}function rD(){mD(function(){(gt&6)!==0?st(fi,nD):mC()})}function q_(){if($o===0){var i=ic;i===0&&(i=Vi,Vi<<=1,(Vi&261888)===0&&(Vi=256)),$o=i}return $o}function vC(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Hl(""+i)}function EC(i,o){var l=o.ownerDocument.createElement("input");return l.name=o.name,l.value=o.value,i.id&&l.setAttribute("form",i.id),o.parentNode.insertBefore(l,o),i=new FormData(i),l.parentNode.removeChild(l),i}function iD(i,o,l,u,m){if(o==="submit"&&l&&l.stateNode===m){var g=vC((m[Mn]||null).action),b=u.submitter;b&&(o=(o=b[Mn]||null)?vC(o.formAction):b.getAttribute("formAction"),o!==null&&(g=o,b=null));var O=new Qi("action","action",null,u,m);i.push({event:O,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if($o!==0){var q=b?EC(m,b):new FormData(m);h_(l,{pending:!0,data:q,method:m.method,action:g},null,q)}}else typeof g=="function"&&(O.preventDefault(),q=b?EC(m,b):new FormData(m),h_(l,{pending:!0,data:q,method:m.method,action:g},g,q))},currentTarget:m}]})}}for(var G_=0;G_<Iy.length;G_++){var W_=Iy[G_],sD=W_.toLowerCase(),oD=W_[0].toUpperCase()+W_.slice(1);wi(sD,"on"+oD)}wi(XS,"onAnimationEnd"),wi(JS,"onAnimationIteration"),wi(ZS,"onAnimationStart"),wi("dblclick","onDoubleClick"),wi("focusin","onFocus"),wi("focusout","onBlur"),wi(SO,"onTransitionRun"),wi(TO,"onTransitionStart"),wi(wO,"onTransitionCancel"),wi(eT,"onTransitionEnd"),Gi("onMouseEnter",["mouseout","mouseover"]),Gi("onMouseLeave",["mouseout","mouseover"]),Gi("onPointerEnter",["pointerout","pointerover"]),Gi("onPointerLeave",["pointerout","pointerover"]),qi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),qi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),qi("onBeforeInput",["compositionend","keypress","textInput","paste"]),qi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),qi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),qi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _h="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aD=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(_h));function bC(i,o){o=(o&4)!==0;for(var l=0;l<i.length;l++){var u=i[l],m=u.event;u=u.listeners;e:{var g=void 0;if(o)for(var b=u.length-1;0<=b;b--){var O=u[b],q=O.instance,J=O.currentTarget;if(O=O.listener,q!==g&&m.isPropagationStopped())break e;g=O,m.currentTarget=J;try{g(m)}catch(se){kf(se)}m.currentTarget=null,g=q}else for(b=0;b<u.length;b++){if(O=u[b],q=O.instance,J=O.currentTarget,O=O.listener,q!==g&&m.isPropagationStopped())break e;g=O,m.currentTarget=J;try{g(m)}catch(se){kf(se)}m.currentTarget=null,g=q}}}}function Je(i,o){var l=o[Ul];l===void 0&&(l=o[Ul]=new Set);var u=i+"__bubble";l.has(u)||(SC(o,i,2,!1),l.add(u))}function K_(i,o,l){var u=0;o&&(u|=4),SC(l,i,u,o)}var _p="_reactListening"+Math.random().toString(36).slice(2);function Y_(i){if(!i[_p]){i[_p]=!0,Nu.forEach(function(l){l!=="selectionchange"&&(aD.has(l)||K_(l,!1,i),K_(l,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[_p]||(o[_p]=!0,K_("selectionchange",!1,o))}}function SC(i,o,l,u){switch(XC(o)){case 2:var m=MD;break;case 8:m=LD;break;default:m=uv}l=m.bind(null,o,l,i),m=void 0,!La||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),u?m!==void 0?i.addEventListener(o,l,{capture:!0,passive:m}):i.addEventListener(o,l,!0):m!==void 0?i.addEventListener(o,l,{passive:m}):i.addEventListener(o,l,!1)}function Q_(i,o,l,u,m){var g=u;if((o&1)===0&&(o&2)===0&&u!==null)e:for(;;){if(u===null)return;var b=u.tag;if(b===3||b===4){var O=u.stateNode.containerInfo;if(O===m)break;if(b===4)for(b=u.return;b!==null;){var q=b.tag;if((q===3||q===4)&&b.stateNode.containerInfo===m)return;b=b.return}for(;O!==null;){if(b=Hi(O),b===null)return;if(q=b.tag,q===5||q===6||q===26||q===27){u=g=b;continue e}O=O.parentNode}}u=u.return}Co(function(){var J=g,se=Wr(l),ce=[];e:{var Z=tT.get(i);if(Z!==void 0){var re=Qi,Te=i;switch(i){case"keypress":if(Ua(l)===0)break e;case"keydown":case"keyup":re=xf;break;case"focusin":Te="focus",re=Ba;break;case"focusout":Te="blur",re=Ba;break;case"beforeblur":case"afterblur":re=Ba;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=Hu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=Ef;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=v;break;case XS:case JS:case ZS:re=Sf;break;case eT:re=M;break;case"scroll":case"scrollend":re=ju;break;case"wheel":re=ne;break;case"copy":case"cut":case"paste":re=Tf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=ks;break;case"toggle":case"beforetoggle":re=He}var Oe=(o&4)!==0,zt=!Oe&&(i==="scroll"||i==="scrollend"),K=Oe?Z!==null?Z+"Capture":null:Z;Oe=[];for(var W=J,X;W!==null;){var ae=W;if(X=ae.stateNode,ae=ae.tag,ae!==5&&ae!==26&&ae!==27||X===null||K===null||(ae=Ei(W,K),ae!=null&&Oe.push(vh(W,ae,X))),zt)break;W=W.return}0<Oe.length&&(Z=new re(Z,Te,null,l,se),ce.push({event:Z,listeners:Oe}))}}if((o&7)===0){e:{if(Z=i==="mouseover"||i==="pointerover",re=i==="mouseout"||i==="pointerout",Z&&l!==zu&&(Te=l.relatedTarget||l.fromElement)&&(Hi(Te)||Te[Fi]))break e;if((re||Z)&&(Z=se.window===se?se:(Z=se.ownerDocument)?Z.defaultView||Z.parentWindow:window,re?(Te=l.relatedTarget||l.toElement,re=J,Te=Te?Hi(Te):null,Te!==null&&(zt=a(Te),Oe=Te.tag,Te!==zt||Oe!==5&&Oe!==27&&Oe!==6)&&(Te=null)):(re=null,Te=J),re!==Te)){if(Oe=Hu,ae="onMouseLeave",K="onMouseEnter",W="mouse",(i==="pointerout"||i==="pointerover")&&(Oe=ks,ae="onPointerLeave",K="onPointerEnter",W="pointer"),zt=re==null?Z:kr(re),X=Te==null?Z:kr(Te),Z=new Oe(ae,W+"leave",re,l,se),Z.target=zt,Z.relatedTarget=X,ae=null,Hi(se)===J&&(Oe=new Oe(K,W+"enter",Te,l,se),Oe.target=X,Oe.relatedTarget=zt,ae=Oe),zt=ae,re&&Te)t:{for(Oe=lD,K=re,W=Te,X=0,ae=K;ae;ae=Oe(ae))X++;ae=0;for(var Ie=W;Ie;Ie=Oe(Ie))ae++;for(;0<X-ae;)K=Oe(K),X--;for(;0<ae-X;)W=Oe(W),ae--;for(;X--;){if(K===W||W!==null&&K===W.alternate){Oe=K;break t}K=Oe(K),W=Oe(W)}Oe=null}else Oe=null;re!==null&&TC(ce,Z,re,Oe,!1),Te!==null&&zt!==null&&TC(ce,zt,Te,Oe,!0)}}e:{if(Z=J?kr(J):window,re=Z.nodeName&&Z.nodeName.toLowerCase(),re==="select"||re==="input"&&Z.type==="file")var ht=BS;else if(US(Z))if(FS)ht=vO;else{ht=yO;var Ce=gO}else re=Z.nodeName,!re||re.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?J&&jl(J.elementType)&&(ht=BS):ht=_O;if(ht&&(ht=ht(i,J))){zS(ce,ht,l,se);break e}Ce&&Ce(i,Z,J),i==="focusout"&&J&&Z.type==="number"&&J.memoizedProps.value!=null&&Lu(Z,"number",Z.value)}switch(Ce=J?kr(J):window,i){case"focusin":(US(Ce)||Ce.contentEditable==="true")&&(Ql=Ce,Cy=J,Ku=null);break;case"focusout":Ku=Cy=Ql=null;break;case"mousedown":Ry=!0;break;case"contextmenu":case"mouseup":case"dragend":Ry=!1,YS(ce,l,se);break;case"selectionchange":if(bO)break;case"keydown":case"keyup":YS(ce,l,se)}var qe;if(mt)e:{switch(i){case"compositionstart":var tt="onCompositionStart";break e;case"compositionend":tt="onCompositionEnd";break e;case"compositionupdate":tt="onCompositionUpdate";break e}tt=void 0}else Yl?Fa(i,l)&&(tt="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(tt="onCompositionStart");tt&&(Zi&&l.locale!=="ko"&&(Yl||tt!=="onCompositionStart"?tt==="onCompositionEnd"&&Yl&&(qe=Fu()):(Yi=se,Bu="value"in Yi?Yi.value:Yi.textContent,Yl=!0)),Ce=vp(J,tt),0<Ce.length&&(tt=new Ji(tt,i,null,l,se),ce.push({event:tt,listeners:Ce}),qe?tt.data=qe:(qe=Kl(l),qe!==null&&(tt.data=qe)))),(qe=Yr?dO(i,l):fO(i,l))&&(tt=vp(J,"onBeforeInput"),0<tt.length&&(Ce=new Ji("onBeforeInput","beforeinput",null,l,se),ce.push({event:Ce,listeners:tt}),Ce.data=qe)),iD(ce,i,J,l,se)}bC(ce,o)})}function vh(i,o,l){return{instance:i,listener:o,currentTarget:l}}function vp(i,o){for(var l=o+"Capture",u=[];i!==null;){var m=i,g=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||g===null||(m=Ei(i,l),m!=null&&u.unshift(vh(i,m,g)),m=Ei(i,o),m!=null&&u.push(vh(i,m,g))),i.tag===3)return u;i=i.return}return[]}function lD(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function TC(i,o,l,u,m){for(var g=o._reactName,b=[];l!==null&&l!==u;){var O=l,q=O.alternate,J=O.stateNode;if(O=O.tag,q!==null&&q===u)break;O!==5&&O!==26&&O!==27||J===null||(q=J,m?(J=Ei(l,g),J!=null&&b.unshift(vh(l,J,q))):m||(J=Ei(l,g),J!=null&&b.push(vh(l,J,q)))),l=l.return}b.length!==0&&i.push({event:o,listeners:b})}var cD=/\r\n?/g,uD=/\u0000|\uFFFD/g;function wC(i){return(typeof i=="string"?i:""+i).replace(cD,`
`).replace(uD,"")}function CC(i,o){return o=wC(o),wC(i)===o}function Ut(i,o,l,u,m,g){switch(l){case"children":typeof u=="string"?o==="body"||o==="textarea"&&u===""||gr(i,u):(typeof u=="number"||typeof u=="bigint")&&o!=="body"&&gr(i,""+u);break;case"className":Or(i,"class",u);break;case"tabIndex":Or(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Or(i,l,u);break;case"style":Uu(i,u,g);break;case"data":if(o!=="object"){Or(i,"data",u);break}case"src":case"href":if(u===""&&(o!=="a"||l!=="href")){i.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(l);break}u=Hl(""+u),i.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(l==="formAction"?(o!=="input"&&Ut(i,o,"name",m.name,m,null),Ut(i,o,"formEncType",m.formEncType,m,null),Ut(i,o,"formMethod",m.formMethod,m,null),Ut(i,o,"formTarget",m.formTarget,m,null)):(Ut(i,o,"encType",m.encType,m,null),Ut(i,o,"method",m.method,m,null),Ut(i,o,"target",m.target,m,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(l);break}u=Hl(""+u),i.setAttribute(l,u);break;case"onClick":u!=null&&(i.onclick=vi);break;case"onScroll":u!=null&&Je("scroll",i);break;case"onScrollEnd":u!=null&&Je("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(l=u.__html,l!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}l=Hl(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(l,""+u):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":u===!0?i.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(l,u):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(l,u):i.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(l):i.setAttribute(l,u);break;case"popover":Je("beforetoggle",i),Je("toggle",i),Bl(i,"popover",u);break;case"xlinkActuate":bn(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":bn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":bn(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":bn(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":bn(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":bn(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":bn(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":bn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":bn(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Bl(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=vf.get(l)||l,Bl(i,l,u))}}function X_(i,o,l,u,m,g){switch(l){case"style":Uu(i,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(l=u.__html,l!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"children":typeof u=="string"?gr(i,u):(typeof u=="number"||typeof u=="bigint")&&gr(i,""+u);break;case"onScroll":u!=null&&Je("scroll",i);break;case"onScrollEnd":u!=null&&Je("scrollend",i);break;case"onClick":u!=null&&(i.onclick=vi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Pu.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(m=l.endsWith("Capture"),o=l.slice(2,m?l.length-7:void 0),g=i[Mn]||null,g=g!=null?g[l]:null,typeof g=="function"&&i.removeEventListener(o,g,m),typeof u=="function")){typeof g!="function"&&g!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(o,u,m);break e}l in i?i[l]=u:u===!0?i.setAttribute(l,""):Bl(i,l,u)}}}function Wn(i,o,l){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Je("error",i),Je("load",i);var u=!1,m=!1,g;for(g in l)if(l.hasOwnProperty(g)){var b=l[g];if(b!=null)switch(g){case"src":u=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Ut(i,o,g,b,l,null)}}m&&Ut(i,o,"srcSet",l.srcSet,l,null),u&&Ut(i,o,"src",l.src,l,null);return;case"input":Je("invalid",i);var O=g=b=m=null,q=null,J=null;for(u in l)if(l.hasOwnProperty(u)){var se=l[u];if(se!=null)switch(u){case"name":m=se;break;case"type":b=se;break;case"checked":q=se;break;case"defaultChecked":J=se;break;case"value":g=se;break;case"defaultValue":O=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(r(137,o));break;default:Ut(i,o,u,se,l,null)}}gf(i,g,O,q,J,b,m,!1);return;case"select":Je("invalid",i),u=b=g=null;for(m in l)if(l.hasOwnProperty(m)&&(O=l[m],O!=null))switch(m){case"value":g=O;break;case"defaultValue":b=O;break;case"multiple":u=O;default:Ut(i,o,m,O,l,null)}o=g,l=b,i.multiple=!!u,o!=null?bo(i,!!u,o,!1):l!=null&&bo(i,!!u,l,!0);return;case"textarea":Je("invalid",i),g=m=u=null;for(b in l)if(l.hasOwnProperty(b)&&(O=l[b],O!=null))switch(b){case"value":u=O;break;case"defaultValue":m=O;break;case"children":g=O;break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(r(91));break;default:Ut(i,o,b,O,l,null)}So(i,u,m,g);return;case"option":for(q in l)if(l.hasOwnProperty(q)&&(u=l[q],u!=null))switch(q){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Ut(i,o,q,u,l,null)}return;case"dialog":Je("beforetoggle",i),Je("toggle",i),Je("cancel",i),Je("close",i);break;case"iframe":case"object":Je("load",i);break;case"video":case"audio":for(u=0;u<_h.length;u++)Je(_h[u],i);break;case"image":Je("error",i),Je("load",i);break;case"details":Je("toggle",i);break;case"embed":case"source":case"link":Je("error",i),Je("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(J in l)if(l.hasOwnProperty(J)&&(u=l[J],u!=null))switch(J){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Ut(i,o,J,u,l,null)}return;default:if(jl(o)){for(se in l)l.hasOwnProperty(se)&&(u=l[se],u!==void 0&&X_(i,o,se,u,l,void 0));return}}for(O in l)l.hasOwnProperty(O)&&(u=l[O],u!=null&&Ut(i,o,O,u,l,null))}function hD(i,o,l,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,g=null,b=null,O=null,q=null,J=null,se=null;for(re in l){var ce=l[re];if(l.hasOwnProperty(re)&&ce!=null)switch(re){case"checked":break;case"value":break;case"defaultValue":q=ce;default:u.hasOwnProperty(re)||Ut(i,o,re,null,u,ce)}}for(var Z in u){var re=u[Z];if(ce=l[Z],u.hasOwnProperty(Z)&&(re!=null||ce!=null))switch(Z){case"type":g=re;break;case"name":m=re;break;case"checked":J=re;break;case"defaultChecked":se=re;break;case"value":b=re;break;case"defaultValue":O=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(r(137,o));break;default:re!==ce&&Ut(i,o,Z,re,u,ce)}}Fl(i,b,O,q,J,se,g,m);return;case"select":re=b=O=Z=null;for(g in l)if(q=l[g],l.hasOwnProperty(g)&&q!=null)switch(g){case"value":break;case"multiple":re=q;default:u.hasOwnProperty(g)||Ut(i,o,g,null,u,q)}for(m in u)if(g=u[m],q=l[m],u.hasOwnProperty(m)&&(g!=null||q!=null))switch(m){case"value":Z=g;break;case"defaultValue":O=g;break;case"multiple":b=g;default:g!==q&&Ut(i,o,m,g,u,q)}o=O,l=b,u=re,Z!=null?bo(i,!!l,Z,!1):!!u!=!!l&&(o!=null?bo(i,!!l,o,!0):bo(i,!!l,l?[]:"",!1));return;case"textarea":re=Z=null;for(O in l)if(m=l[O],l.hasOwnProperty(O)&&m!=null&&!u.hasOwnProperty(O))switch(O){case"value":break;case"children":break;default:Ut(i,o,O,null,u,m)}for(b in u)if(m=u[b],g=l[b],u.hasOwnProperty(b)&&(m!=null||g!=null))switch(b){case"value":Z=m;break;case"defaultValue":re=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(r(91));break;default:m!==g&&Ut(i,o,b,m,u,g)}yf(i,Z,re);return;case"option":for(var Te in l)if(Z=l[Te],l.hasOwnProperty(Te)&&Z!=null&&!u.hasOwnProperty(Te))switch(Te){case"selected":i.selected=!1;break;default:Ut(i,o,Te,null,u,Z)}for(q in u)if(Z=u[q],re=l[q],u.hasOwnProperty(q)&&Z!==re&&(Z!=null||re!=null))switch(q){case"selected":i.selected=Z&&typeof Z!="function"&&typeof Z!="symbol";break;default:Ut(i,o,q,Z,u,re)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Oe in l)Z=l[Oe],l.hasOwnProperty(Oe)&&Z!=null&&!u.hasOwnProperty(Oe)&&Ut(i,o,Oe,null,u,Z);for(J in u)if(Z=u[J],re=l[J],u.hasOwnProperty(J)&&Z!==re&&(Z!=null||re!=null))switch(J){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(137,o));break;default:Ut(i,o,J,Z,u,re)}return;default:if(jl(o)){for(var zt in l)Z=l[zt],l.hasOwnProperty(zt)&&Z!==void 0&&!u.hasOwnProperty(zt)&&X_(i,o,zt,void 0,u,Z);for(se in u)Z=u[se],re=l[se],!u.hasOwnProperty(se)||Z===re||Z===void 0&&re===void 0||X_(i,o,se,Z,u,re);return}}for(var K in l)Z=l[K],l.hasOwnProperty(K)&&Z!=null&&!u.hasOwnProperty(K)&&Ut(i,o,K,null,u,Z);for(ce in u)Z=u[ce],re=l[ce],!u.hasOwnProperty(ce)||Z===re||Z==null&&re==null||Ut(i,o,ce,Z,u,re)}function RC(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function dD(){if(typeof performance.getEntriesByType=="function"){for(var i=0,o=0,l=performance.getEntriesByType("resource"),u=0;u<l.length;u++){var m=l[u],g=m.transferSize,b=m.initiatorType,O=m.duration;if(g&&O&&RC(b)){for(b=0,O=m.responseEnd,u+=1;u<l.length;u++){var q=l[u],J=q.startTime;if(J>O)break;var se=q.transferSize,ce=q.initiatorType;se&&RC(ce)&&(q=q.responseEnd,b+=se*(q<O?1:(O-J)/(q-J)))}if(--u,o+=8*(g+b)/(m.duration/1e3),i++,10<i)break}}if(0<i)return o/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var J_=null,Z_=null;function Ep(i){return i.nodeType===9?i:i.ownerDocument}function AC(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function IC(i,o){if(i===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&o==="foreignObject"?0:i}function ev(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var tv=null;function fD(){var i=window.event;return i&&i.type==="popstate"?i===tv?!1:(tv=i,!0):(tv=null,!1)}var xC=typeof setTimeout=="function"?setTimeout:void 0,pD=typeof clearTimeout=="function"?clearTimeout:void 0,NC=typeof Promise=="function"?Promise:void 0,mD=typeof queueMicrotask=="function"?queueMicrotask:typeof NC<"u"?function(i){return NC.resolve(null).then(i).catch(gD)}:xC;function gD(i){setTimeout(function(){throw i})}function qo(i){return i==="head"}function PC(i,o){var l=o,u=0;do{var m=l.nextSibling;if(i.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"||l==="/&"){if(u===0){i.removeChild(m),Tc(o);return}u--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")u++;else if(l==="html")Eh(i.ownerDocument.documentElement);else if(l==="head"){l=i.ownerDocument.head,Eh(l);for(var g=l.firstChild;g;){var b=g.nextSibling,O=g.nodeName;g[ji]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&g.rel.toLowerCase()==="stylesheet"||l.removeChild(g),g=b}}else l==="body"&&Eh(i.ownerDocument.body);l=m}while(l);Tc(o)}function kC(i,o){var l=i;i=0;do{var u=l.nextSibling;if(l.nodeType===1?o?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(o?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),u&&u.nodeType===8)if(l=u.data,l==="/$"){if(i===0)break;i--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||i++;l=u}while(l)}function nv(i){var o=i.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var l=o;switch(o=o.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":nv(l),zl(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function yD(i,o,l,u){for(;i.nodeType===1;){var m=l;if(i.nodeName.toLowerCase()!==o.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[ji])switch(o){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==m.rel||i.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||i.getAttribute("title")!==(m.title==null?null:m.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(m.src==null?null:m.src)||i.getAttribute("type")!==(m.type==null?null:m.type)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(o==="input"&&i.type==="hidden"){var g=m.name==null?null:""+m.name;if(m.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=ni(i.nextSibling),i===null)break}return null}function _D(i,o,l){if(o==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=ni(i.nextSibling),i===null))return null;return i}function OC(i,o){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=ni(i.nextSibling),i===null))return null;return i}function rv(i){return i.data==="$?"||i.data==="$~"}function iv(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function vD(i,o){var l=i.ownerDocument;if(i.data==="$~")i._reactRetry=o;else if(i.data!=="$?"||l.readyState!=="loading")o();else{var u=function(){o(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function ni(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return i}var sv=null;function DC(i){i=i.nextSibling;for(var o=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"||l==="/&"){if(o===0)return ni(i.nextSibling);o--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||o++}i=i.nextSibling}return null}function MC(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(o===0)return i;o--}else l!=="/$"&&l!=="/&"||o++}i=i.previousSibling}return null}function LC(i,o,l){switch(o=Ep(l),i){case"html":if(i=o.documentElement,!i)throw Error(r(452));return i;case"head":if(i=o.head,!i)throw Error(r(453));return i;case"body":if(i=o.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Eh(i){for(var o=i.attributes;o.length;)i.removeAttributeNode(o[0]);zl(i)}var ri=new Map,VC=new Set;function bp(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Ws=te.d;te.d={f:ED,r:bD,D:SD,C:TD,L:wD,m:CD,X:AD,S:RD,M:ID};function ED(){var i=Ws.f(),o=dp();return i||o}function bD(i){var o=Gr(i);o!==null&&o.tag===5&&o.type==="form"?ew(o):Ws.r(i)}var Ec=typeof document>"u"?null:document;function UC(i,o,l){var u=Ec;if(u&&typeof o=="string"&&o){var m=mr(o);m='link[rel="'+i+'"][href="'+m+'"]',typeof l=="string"&&(m+='[crossorigin="'+l+'"]'),VC.has(m)||(VC.add(m),i={rel:i,crossOrigin:l,href:o},u.querySelector(m)===null&&(o=u.createElement("link"),Wn(o,"link",i),En(o),u.head.appendChild(o)))}}function SD(i){Ws.D(i),UC("dns-prefetch",i,null)}function TD(i,o){Ws.C(i,o),UC("preconnect",i,o)}function wD(i,o,l){Ws.L(i,o,l);var u=Ec;if(u&&i&&o){var m='link[rel="preload"][as="'+mr(o)+'"]';o==="image"&&l&&l.imageSrcSet?(m+='[imagesrcset="'+mr(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(m+='[imagesizes="'+mr(l.imageSizes)+'"]')):m+='[href="'+mr(i)+'"]';var g=m;switch(o){case"style":g=bc(i);break;case"script":g=Sc(i)}ri.has(g)||(i=_({rel:"preload",href:o==="image"&&l&&l.imageSrcSet?void 0:i,as:o},l),ri.set(g,i),u.querySelector(m)!==null||o==="style"&&u.querySelector(bh(g))||o==="script"&&u.querySelector(Sh(g))||(o=u.createElement("link"),Wn(o,"link",i),En(o),u.head.appendChild(o)))}}function CD(i,o){Ws.m(i,o);var l=Ec;if(l&&i){var u=o&&typeof o.as=="string"?o.as:"script",m='link[rel="modulepreload"][as="'+mr(u)+'"][href="'+mr(i)+'"]',g=m;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Sc(i)}if(!ri.has(g)&&(i=_({rel:"modulepreload",href:i},o),ri.set(g,i),l.querySelector(m)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Sh(g)))return}u=l.createElement("link"),Wn(u,"link",i),En(u),l.head.appendChild(u)}}}function RD(i,o,l){Ws.S(i,o,l);var u=Ec;if(u&&i){var m=$i(u).hoistableStyles,g=bc(i);o=o||"default";var b=m.get(g);if(!b){var O={loading:0,preload:null};if(b=u.querySelector(bh(g)))O.loading=5;else{i=_({rel:"stylesheet",href:i,"data-precedence":o},l),(l=ri.get(g))&&ov(i,l);var q=b=u.createElement("link");En(q),Wn(q,"link",i),q._p=new Promise(function(J,se){q.onload=J,q.onerror=se}),q.addEventListener("load",function(){O.loading|=1}),q.addEventListener("error",function(){O.loading|=2}),O.loading|=4,Sp(b,o,u)}b={type:"stylesheet",instance:b,count:1,state:O},m.set(g,b)}}}function AD(i,o){Ws.X(i,o);var l=Ec;if(l&&i){var u=$i(l).hoistableScripts,m=Sc(i),g=u.get(m);g||(g=l.querySelector(Sh(m)),g||(i=_({src:i,async:!0},o),(o=ri.get(m))&&av(i,o),g=l.createElement("script"),En(g),Wn(g,"link",i),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(m,g))}}function ID(i,o){Ws.M(i,o);var l=Ec;if(l&&i){var u=$i(l).hoistableScripts,m=Sc(i),g=u.get(m);g||(g=l.querySelector(Sh(m)),g||(i=_({src:i,async:!0,type:"module"},o),(o=ri.get(m))&&av(i,o),g=l.createElement("script"),En(g),Wn(g,"link",i),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(m,g))}}function zC(i,o,l,u){var m=(m=ve.current)?bp(m):null;if(!m)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(o=bc(l.href),l=$i(m).hoistableStyles,u=l.get(o),u||(u={type:"style",instance:null,count:0,state:null},l.set(o,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=bc(l.href);var g=$i(m).hoistableStyles,b=g.get(i);if(b||(m=m.ownerDocument||m,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,b),(g=m.querySelector(bh(i)))&&!g._p&&(b.instance=g,b.state.loading=5),ri.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},ri.set(i,l),g||xD(m,i,l,b.state))),o&&u===null)throw Error(r(528,""));return b}if(o&&u!==null)throw Error(r(529,""));return null;case"script":return o=l.async,l=l.src,typeof l=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Sc(l),l=$i(m).hoistableScripts,u=l.get(o),u||(u={type:"script",instance:null,count:0,state:null},l.set(o,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function bc(i){return'href="'+mr(i)+'"'}function bh(i){return'link[rel="stylesheet"]['+i+"]"}function BC(i){return _({},i,{"data-precedence":i.precedence,precedence:null})}function xD(i,o,l,u){i.querySelector('link[rel="preload"][as="style"]['+o+"]")?u.loading=1:(o=i.createElement("link"),u.preload=o,o.addEventListener("load",function(){return u.loading|=1}),o.addEventListener("error",function(){return u.loading|=2}),Wn(o,"link",l),En(o),i.head.appendChild(o))}function Sc(i){return'[src="'+mr(i)+'"]'}function Sh(i){return"script[async]"+i}function FC(i,o,l){if(o.count++,o.instance===null)switch(o.type){case"style":var u=i.querySelector('style[data-href~="'+mr(l.href)+'"]');if(u)return o.instance=u,En(u),u;var m=_({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),En(u),Wn(u,"style",m),Sp(u,l.precedence,i),o.instance=u;case"stylesheet":m=bc(l.href);var g=i.querySelector(bh(m));if(g)return o.state.loading|=4,o.instance=g,En(g),g;u=BC(l),(m=ri.get(m))&&ov(u,m),g=(i.ownerDocument||i).createElement("link"),En(g);var b=g;return b._p=new Promise(function(O,q){b.onload=O,b.onerror=q}),Wn(g,"link",u),o.state.loading|=4,Sp(g,l.precedence,i),o.instance=g;case"script":return g=Sc(l.src),(m=i.querySelector(Sh(g)))?(o.instance=m,En(m),m):(u=l,(m=ri.get(g))&&(u=_({},l),av(u,m)),i=i.ownerDocument||i,m=i.createElement("script"),En(m),Wn(m,"link",u),i.head.appendChild(m),o.instance=m);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(u=o.instance,o.state.loading|=4,Sp(u,l.precedence,i));return o.instance}function Sp(i,o,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=u.length?u[u.length-1]:null,g=m,b=0;b<u.length;b++){var O=u[b];if(O.dataset.precedence===o)g=O;else if(g!==m)break}g?g.parentNode.insertBefore(i,g.nextSibling):(o=l.nodeType===9?l.head:l,o.insertBefore(i,o.firstChild))}function ov(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.title==null&&(i.title=o.title)}function av(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.integrity==null&&(i.integrity=o.integrity)}var Tp=null;function jC(i,o,l){if(Tp===null){var u=new Map,m=Tp=new Map;m.set(l,u)}else m=Tp,u=m.get(l),u||(u=new Map,m.set(l,u));if(u.has(i))return u;for(u.set(i,null),l=l.getElementsByTagName(i),m=0;m<l.length;m++){var g=l[m];if(!(g[ji]||g[vn]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var b=g.getAttribute(o)||"";b=i+b;var O=u.get(b);O?O.push(g):u.set(b,[g])}}return u}function HC(i,o,l){i=i.ownerDocument||i,i.head.insertBefore(l,o==="title"?i.querySelector("head > title"):null)}function ND(i,o,l){if(l===1||o.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return i=o.disabled,typeof o.precedence=="string"&&i==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function $C(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function PD(i,o,l,u){if(l.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var m=bc(u.href),g=o.querySelector(bh(m));if(g){o=g._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(i.count++,i=wp.bind(i),o.then(i,i)),l.state.loading|=4,l.instance=g,En(g);return}g=o.ownerDocument||o,u=BC(u),(m=ri.get(m))&&ov(u,m),g=g.createElement("link"),En(g);var b=g;b._p=new Promise(function(O,q){b.onload=O,b.onerror=q}),Wn(g,"link",u),l.instance=g}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(l,o),(o=l.state.preload)&&(l.state.loading&3)===0&&(i.count++,l=wp.bind(i),o.addEventListener("load",l),o.addEventListener("error",l))}}var lv=0;function kD(i,o){return i.stylesheets&&i.count===0&&Rp(i,i.stylesheets),0<i.count||0<i.imgCount?function(l){var u=setTimeout(function(){if(i.stylesheets&&Rp(i,i.stylesheets),i.unsuspend){var g=i.unsuspend;i.unsuspend=null,g()}},6e4+o);0<i.imgBytes&&lv===0&&(lv=62500*dD());var m=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Rp(i,i.stylesheets),i.unsuspend)){var g=i.unsuspend;i.unsuspend=null,g()}},(i.imgBytes>lv?50:800)+o);return i.unsuspend=l,function(){i.unsuspend=null,clearTimeout(u),clearTimeout(m)}}:null}function wp(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Rp(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Cp=null;function Rp(i,o){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Cp=new Map,o.forEach(OD,i),Cp=null,wp.call(i))}function OD(i,o){if(!(o.state.loading&4)){var l=Cp.get(i);if(l)var u=l.get(null);else{l=new Map,Cp.set(i,l);for(var m=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<m.length;g++){var b=m[g];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(l.set(b.dataset.precedence,b),u=b)}u&&l.set(null,u)}m=o.instance,b=m.getAttribute("data-precedence"),g=l.get(b)||u,g===u&&l.set(null,m),l.set(b,m),this.count++,u=wp.bind(this),m.addEventListener("load",u),m.addEventListener("error",u),g?g.parentNode.insertBefore(m,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(m,i.firstChild)),o.state.loading|=4}}var Th={$$typeof:V,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function DD(i,o,l,u,m,g,b,O,q){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Bi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bi(0),this.hiddenUpdates=Bi(null),this.identifierPrefix=u,this.onUncaughtError=m,this.onCaughtError=g,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=q,this.incompleteTransitions=new Map}function qC(i,o,l,u,m,g,b,O,q,J,se,ce){return i=new DD(i,o,l,b,q,J,se,ce,O),o=1,g===!0&&(o|=24),g=Mr(3,null,null,o),i.current=g,g.stateNode=i,o=Fy(),o.refCount++,i.pooledCache=o,o.refCount++,g.memoizedState={element:u,isDehydrated:l,cache:o},qy(g),i}function GC(i){return i?(i=Zl,i):Zl}function WC(i,o,l,u,m,g){m=GC(m),u.context===null?u.context=m:u.pendingContext=m,u=Do(o),u.payload={element:l},g=g===void 0?null:g,g!==null&&(u.callback=g),l=Mo(i,u,o),l!==null&&(br(l,i,o),th(l,i,o))}function KC(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<o?l:o}}function cv(i,o){KC(i,o),(i=i.alternate)&&KC(i,o)}function YC(i){if(i.tag===13||i.tag===31){var o=$a(i,67108864);o!==null&&br(o,i,67108864),cv(i,67108864)}}function QC(i){if(i.tag===13||i.tag===31){var o=Br();o=ka(o);var l=$a(i,o);l!==null&&br(l,i,o),cv(i,o)}}var Ap=!0;function MD(i,o,l,u){var m=H.T;H.T=null;var g=te.p;try{te.p=2,uv(i,o,l,u)}finally{te.p=g,H.T=m}}function LD(i,o,l,u){var m=H.T;H.T=null;var g=te.p;try{te.p=8,uv(i,o,l,u)}finally{te.p=g,H.T=m}}function uv(i,o,l,u){if(Ap){var m=hv(u);if(m===null)Q_(i,o,u,Ip,l),JC(i,u);else if(UD(m,i,o,l,u))u.stopPropagation();else if(JC(i,u),o&4&&-1<VD.indexOf(i)){for(;m!==null;){var g=Gr(m);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var b=Ui(g.pendingLanes);if(b!==0){var O=g;for(O.pendingLanes|=2,O.entangledLanes|=2;b;){var q=1<<31-Ue(b);O.entanglements[1]|=q,b&=~q}rs(g),(gt&6)===0&&(up=lt()+500,yh(0))}}break;case 31:case 13:O=$a(g,2),O!==null&&br(O,g,2),dp(),cv(g,2)}if(g=hv(u),g===null&&Q_(i,o,u,Ip,l),g===m)break;m=g}m!==null&&u.stopPropagation()}else Q_(i,o,u,null,l)}}function hv(i){return i=Wr(i),dv(i)}var Ip=null;function dv(i){if(Ip=null,i=Hi(i),i!==null){var o=a(i);if(o===null)i=null;else{var l=o.tag;if(l===13){if(i=c(o),i!==null)return i;i=null}else if(l===31){if(i=h(o),i!==null)return i;i=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Ip=i,null}function XC(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(fr()){case fi:return 2;case pi:return 8;case ar:case Li:return 32;case pr:return 268435456;default:return 32}default:return 32}}var fv=!1,Go=null,Wo=null,Ko=null,wh=new Map,Ch=new Map,Yo=[],VD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function JC(i,o){switch(i){case"focusin":case"focusout":Go=null;break;case"dragenter":case"dragleave":Wo=null;break;case"mouseover":case"mouseout":Ko=null;break;case"pointerover":case"pointerout":wh.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ch.delete(o.pointerId)}}function Rh(i,o,l,u,m,g){return i===null||i.nativeEvent!==g?(i={blockedOn:o,domEventName:l,eventSystemFlags:u,nativeEvent:g,targetContainers:[m]},o!==null&&(o=Gr(o),o!==null&&YC(o)),i):(i.eventSystemFlags|=u,o=i.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),i)}function UD(i,o,l,u,m){switch(o){case"focusin":return Go=Rh(Go,i,o,l,u,m),!0;case"dragenter":return Wo=Rh(Wo,i,o,l,u,m),!0;case"mouseover":return Ko=Rh(Ko,i,o,l,u,m),!0;case"pointerover":var g=m.pointerId;return wh.set(g,Rh(wh.get(g)||null,i,o,l,u,m)),!0;case"gotpointercapture":return g=m.pointerId,Ch.set(g,Rh(Ch.get(g)||null,i,o,l,u,m)),!0}return!1}function ZC(i){var o=Hi(i.target);if(o!==null){var l=a(o);if(l!==null){if(o=l.tag,o===13){if(o=c(l),o!==null){i.blockedOn=o,yi(i.priority,function(){QC(l)});return}}else if(o===31){if(o=h(l),o!==null){i.blockedOn=o,yi(i.priority,function(){QC(l)});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function xp(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var l=hv(i.nativeEvent);if(l===null){l=i.nativeEvent;var u=new l.constructor(l.type,l);zu=u,l.target.dispatchEvent(u),zu=null}else return o=Gr(l),o!==null&&YC(o),i.blockedOn=l,!1;o.shift()}return!0}function e1(i,o,l){xp(i)&&l.delete(o)}function zD(){fv=!1,Go!==null&&xp(Go)&&(Go=null),Wo!==null&&xp(Wo)&&(Wo=null),Ko!==null&&xp(Ko)&&(Ko=null),wh.forEach(e1),Ch.forEach(e1)}function Np(i,o){i.blockedOn===o&&(i.blockedOn=null,fv||(fv=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,zD)))}var Pp=null;function t1(i){Pp!==i&&(Pp=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Pp===i&&(Pp=null);for(var o=0;o<i.length;o+=3){var l=i[o],u=i[o+1],m=i[o+2];if(typeof u!="function"){if(dv(u||l)===null)continue;break}var g=Gr(l);g!==null&&(i.splice(o,3),o-=3,h_(g,{pending:!0,data:m,method:l.method,action:u},u,m))}}))}function Tc(i){function o(q){return Np(q,i)}Go!==null&&Np(Go,i),Wo!==null&&Np(Wo,i),Ko!==null&&Np(Ko,i),wh.forEach(o),Ch.forEach(o);for(var l=0;l<Yo.length;l++){var u=Yo[l];u.blockedOn===i&&(u.blockedOn=null)}for(;0<Yo.length&&(l=Yo[0],l.blockedOn===null);)ZC(l),l.blockedOn===null&&Yo.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var m=l[u],g=l[u+1],b=m[Mn]||null;if(typeof g=="function")b||t1(l);else if(b){var O=null;if(g&&g.hasAttribute("formAction")){if(m=g,b=g[Mn]||null)O=b.formAction;else if(dv(m)!==null)continue}else O=b.action;typeof O=="function"?l[u+1]=O:(l.splice(u,3),u-=3),t1(l)}}}function n1(){function i(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(b){return m=b})},focusReset:"manual",scroll:"manual"})}function o(){m!==null&&(m(),m=null),u||setTimeout(l,20)}function l(){if(!u&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,m=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(l,100),function(){u=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),m!==null&&(m(),m=null)}}}function pv(i){this._internalRoot=i}kp.prototype.render=pv.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(r(409));var l=o.current,u=Br();WC(l,u,i,o,null,null)},kp.prototype.unmount=pv.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;WC(i.current,2,null,i,null,null),dp(),o[Fi]=null}};function kp(i){this._internalRoot=i}kp.prototype.unstable_scheduleHydration=function(i){if(i){var o=df();i={blockedOn:null,target:i,priority:o};for(var l=0;l<Yo.length&&o!==0&&o<Yo[l].priority;l++);Yo.splice(l,0,i),l===0&&ZC(i)}};var r1=e.version;if(r1!=="19.2.0")throw Error(r(527,r1,"19.2.0"));te.findDOMNode=function(i){var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=f(o),i=i!==null?y(i):null,i=i===null?null:i.stateNode,i};var BD={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Op=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Op.isDisabled&&Op.supportsFiber)try{Jn=Op.inject(BD),yn=Op}catch{}}return Ih.createRoot=function(i,o){if(!s(i))throw Error(r(299));var l=!1,u="",m=uw,g=hw,b=dw;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(u=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(g=o.onCaughtError),o.onRecoverableError!==void 0&&(b=o.onRecoverableError)),o=qC(i,1,!1,null,null,l,u,null,m,g,b,n1),i[Fi]=o.current,Y_(i),new pv(o)},Ih.hydrateRoot=function(i,o,l){if(!s(i))throw Error(r(299));var u=!1,m="",g=uw,b=hw,O=dw,q=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(g=l.onUncaughtError),l.onCaughtError!==void 0&&(b=l.onCaughtError),l.onRecoverableError!==void 0&&(O=l.onRecoverableError),l.formState!==void 0&&(q=l.formState)),o=qC(i,1,!0,o,l??null,u,m,q,g,b,O,n1),o.context=GC(null),l=o.current,u=Br(),u=ka(u),m=Do(u),m.callback=null,Mo(l,m,u),l=u,o.current.lanes=l,Na(o,l),rs(o),i[Fi]=o.current,Y_(i),new kp(o)},Ih.version="19.2.0",Ih}var f1;function QD(){if(f1)return yv.exports;f1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),yv.exports=YD(),yv.exports}var XD=QD();const JD=yE(XD),md={black:"#000",white:"#fff"},wc={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},Cc={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Rc={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},Ac={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Ic={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},xh={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},ZD={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function oo(t,...e){const n=new URL(`https://mui.com/production-error/?code=${t}`);return e.forEach(r=>n.searchParams.append("args[]",r)),`Minified MUI error #${t}; visit ${n} for the full message.`}const vE="$$material";function gm(){return gm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gm.apply(null,arguments)}function eM(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function tM(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var nM=(function(){function t(n){var r=this;this._insertTag=function(s){var a;r.tags.length===0?r.insertionPoint?a=r.insertionPoint.nextSibling:r.prepend?a=r.container.firstChild:a=r.before:a=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(s,a),r.tags.push(s)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(tM(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var a=eM(s);try{a.insertRule(r,a.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var s;return(s=r.parentNode)==null?void 0:s.removeChild(r)}),this.tags=[],this.ctr=0},t})(),tr="-ms-",ym="-moz-",yt="-webkit-",WI="comm",EE="rule",bE="decl",rM="@import",KI="@keyframes",iM="@layer",sM=Math.abs,dg=String.fromCharCode,oM=Object.assign;function aM(t,e){return Kn(t,0)^45?(((e<<2^Kn(t,0))<<2^Kn(t,1))<<2^Kn(t,2))<<2^Kn(t,3):0}function YI(t){return t.trim()}function lM(t,e){return(t=e.exec(t))?t[0]:t}function _t(t,e,n){return t.replace(e,n)}function i0(t,e){return t.indexOf(e)}function Kn(t,e){return t.charCodeAt(e)|0}function gd(t,e,n){return t.slice(e,n)}function as(t){return t.length}function SE(t){return t.length}function Dp(t,e){return e.push(t),t}function cM(t,e){return t.map(e).join("")}var fg=1,Wc=1,QI=0,xr=0,An=0,hu="";function pg(t,e,n,r,s,a,c){return{value:t,root:e,parent:n,type:r,props:s,children:a,line:fg,column:Wc,length:c,return:""}}function Nh(t,e){return oM(pg("",null,null,"",null,null,0),t,{length:-t.length},e)}function uM(){return An}function hM(){return An=xr>0?Kn(hu,--xr):0,Wc--,An===10&&(Wc=1,fg--),An}function $r(){return An=xr<QI?Kn(hu,xr++):0,Wc++,An===10&&(Wc=1,fg++),An}function ds(){return Kn(hu,xr)}function Jp(){return xr}function Ud(t,e){return gd(hu,t,e)}function yd(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function XI(t){return fg=Wc=1,QI=as(hu=t),xr=0,[]}function JI(t){return hu="",t}function Zp(t){return YI(Ud(xr-1,s0(t===91?t+2:t===40?t+1:t)))}function dM(t){for(;(An=ds())&&An<33;)$r();return yd(t)>2||yd(An)>3?"":" "}function fM(t,e){for(;--e&&$r()&&!(An<48||An>102||An>57&&An<65||An>70&&An<97););return Ud(t,Jp()+(e<6&&ds()==32&&$r()==32))}function s0(t){for(;$r();)switch(An){case t:return xr;case 34:case 39:t!==34&&t!==39&&s0(An);break;case 40:t===41&&s0(t);break;case 92:$r();break}return xr}function pM(t,e){for(;$r()&&t+An!==57;)if(t+An===84&&ds()===47)break;return"/*"+Ud(e,xr-1)+"*"+dg(t===47?t:$r())}function mM(t){for(;!yd(ds());)$r();return Ud(t,xr)}function gM(t){return JI(em("",null,null,null,[""],t=XI(t),0,[0],t))}function em(t,e,n,r,s,a,c,h,d){for(var f=0,y=0,_=c,E=0,T=0,C=0,R=1,I=1,D=1,F=0,V="",B=s,j=a,G=r,x=V;I;)switch(C=F,F=$r()){case 40:if(C!=108&&Kn(x,_-1)==58){i0(x+=_t(Zp(F),"&","&\f"),"&\f")!=-1&&(D=-1);break}case 34:case 39:case 91:x+=Zp(F);break;case 9:case 10:case 13:case 32:x+=dM(C);break;case 92:x+=fM(Jp()-1,7);continue;case 47:switch(ds()){case 42:case 47:Dp(yM(pM($r(),Jp()),e,n),d);break;default:x+="/"}break;case 123*R:h[f++]=as(x)*D;case 125*R:case 59:case 0:switch(F){case 0:case 125:I=0;case 59+y:D==-1&&(x=_t(x,/\f/g,"")),T>0&&as(x)-_&&Dp(T>32?m1(x+";",r,n,_-1):m1(_t(x," ","")+";",r,n,_-2),d);break;case 59:x+=";";default:if(Dp(G=p1(x,e,n,f,y,s,h,V,B=[],j=[],_),a),F===123)if(y===0)em(x,e,G,G,B,a,_,h,j);else switch(E===99&&Kn(x,3)===110?100:E){case 100:case 108:case 109:case 115:em(t,G,G,r&&Dp(p1(t,G,G,0,0,s,h,V,s,B=[],_),j),s,j,_,h,r?B:j);break;default:em(x,G,G,G,[""],j,0,h,j)}}f=y=T=0,R=D=1,V=x="",_=c;break;case 58:_=1+as(x),T=C;default:if(R<1){if(F==123)--R;else if(F==125&&R++==0&&hM()==125)continue}switch(x+=dg(F),F*R){case 38:D=y>0?1:(x+="\f",-1);break;case 44:h[f++]=(as(x)-1)*D,D=1;break;case 64:ds()===45&&(x+=Zp($r())),E=ds(),y=_=as(V=x+=mM(Jp())),F++;break;case 45:C===45&&as(x)==2&&(R=0)}}return a}function p1(t,e,n,r,s,a,c,h,d,f,y){for(var _=s-1,E=s===0?a:[""],T=SE(E),C=0,R=0,I=0;C<r;++C)for(var D=0,F=gd(t,_+1,_=sM(R=c[C])),V=t;D<T;++D)(V=YI(R>0?E[D]+" "+F:_t(F,/&\f/g,E[D])))&&(d[I++]=V);return pg(t,e,n,s===0?EE:h,d,f,y)}function yM(t,e,n){return pg(t,e,n,WI,dg(uM()),gd(t,2,-2),0)}function m1(t,e,n,r){return pg(t,e,n,bE,gd(t,0,r),gd(t,r+1,-1),r)}function Uc(t,e){for(var n="",r=SE(t),s=0;s<r;s++)n+=e(t[s],s,t,e)||"";return n}function _M(t,e,n,r){switch(t.type){case iM:if(t.children.length)break;case rM:case bE:return t.return=t.return||t.value;case WI:return"";case KI:return t.return=t.value+"{"+Uc(t.children,r)+"}";case EE:t.value=t.props.join(",")}return as(n=Uc(t.children,r))?t.return=t.value+"{"+n+"}":""}function vM(t){var e=SE(t);return function(n,r,s,a){for(var c="",h=0;h<e;h++)c+=t[h](n,r,s,a)||"";return c}}function EM(t){return function(e){e.root||(e=e.return)&&t(e)}}function ZI(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var bM=function(e,n,r){for(var s=0,a=0;s=a,a=ds(),s===38&&a===12&&(n[r]=1),!yd(a);)$r();return Ud(e,xr)},SM=function(e,n){var r=-1,s=44;do switch(yd(s)){case 0:s===38&&ds()===12&&(n[r]=1),e[r]+=bM(xr-1,n,r);break;case 2:e[r]+=Zp(s);break;case 4:if(s===44){e[++r]=ds()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=dg(s)}while(s=$r());return e},TM=function(e,n){return JI(SM(XI(e),n))},g1=new WeakMap,wM=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,s=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!g1.get(r))&&!s){g1.set(e,!0);for(var a=[],c=TM(n,a),h=r.props,d=0,f=0;d<c.length;d++)for(var y=0;y<h.length;y++,f++)e.props[f]=a[d]?c[d].replace(/&\f/g,h[y]):h[y]+" "+c[d]}}},CM=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function ex(t,e){switch(aM(t,e)){case 5103:return yt+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return yt+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return yt+t+ym+t+tr+t+t;case 6828:case 4268:return yt+t+tr+t+t;case 6165:return yt+t+tr+"flex-"+t+t;case 5187:return yt+t+_t(t,/(\w+).+(:[^]+)/,yt+"box-$1$2"+tr+"flex-$1$2")+t;case 5443:return yt+t+tr+"flex-item-"+_t(t,/flex-|-self/,"")+t;case 4675:return yt+t+tr+"flex-line-pack"+_t(t,/align-content|flex-|-self/,"")+t;case 5548:return yt+t+tr+_t(t,"shrink","negative")+t;case 5292:return yt+t+tr+_t(t,"basis","preferred-size")+t;case 6060:return yt+"box-"+_t(t,"-grow","")+yt+t+tr+_t(t,"grow","positive")+t;case 4554:return yt+_t(t,/([^-])(transform)/g,"$1"+yt+"$2")+t;case 6187:return _t(_t(_t(t,/(zoom-|grab)/,yt+"$1"),/(image-set)/,yt+"$1"),t,"")+t;case 5495:case 3959:return _t(t,/(image-set\([^]*)/,yt+"$1$`$1");case 4968:return _t(_t(t,/(.+:)(flex-)?(.*)/,yt+"box-pack:$3"+tr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+yt+t+t;case 4095:case 3583:case 4068:case 2532:return _t(t,/(.+)-inline(.+)/,yt+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(as(t)-1-e>6)switch(Kn(t,e+1)){case 109:if(Kn(t,e+4)!==45)break;case 102:return _t(t,/(.+:)(.+)-([^]+)/,"$1"+yt+"$2-$3$1"+ym+(Kn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~i0(t,"stretch")?ex(_t(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Kn(t,e+1)!==115)break;case 6444:switch(Kn(t,as(t)-3-(~i0(t,"!important")&&10))){case 107:return _t(t,":",":"+yt)+t;case 101:return _t(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+yt+(Kn(t,14)===45?"inline-":"")+"box$3$1"+yt+"$2$3$1"+tr+"$2box$3")+t}break;case 5936:switch(Kn(t,e+11)){case 114:return yt+t+tr+_t(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return yt+t+tr+_t(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return yt+t+tr+_t(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return yt+t+tr+t+t}return t}var RM=function(e,n,r,s){if(e.length>-1&&!e.return)switch(e.type){case bE:e.return=ex(e.value,e.length);break;case KI:return Uc([Nh(e,{value:_t(e.value,"@","@"+yt)})],s);case EE:if(e.length)return cM(e.props,function(a){switch(lM(a,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Uc([Nh(e,{props:[_t(a,/:(read-\w+)/,":"+ym+"$1")]})],s);case"::placeholder":return Uc([Nh(e,{props:[_t(a,/:(plac\w+)/,":"+yt+"input-$1")]}),Nh(e,{props:[_t(a,/:(plac\w+)/,":"+ym+"$1")]}),Nh(e,{props:[_t(a,/:(plac\w+)/,tr+"input-$1")]})],s)}return""})}},AM=[RM],IM=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(R){var I=R.getAttribute("data-emotion");I.indexOf(" ")!==-1&&(document.head.appendChild(R),R.setAttribute("data-s",""))})}var s=e.stylisPlugins||AM,a={},c,h=[];c=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(R){for(var I=R.getAttribute("data-emotion").split(" "),D=1;D<I.length;D++)a[I[D]]=!0;h.push(R)});var d,f=[wM,CM];{var y,_=[_M,EM(function(R){y.insert(R)})],E=vM(f.concat(s,_)),T=function(I){return Uc(gM(I),E)};d=function(I,D,F,V){y=F,T(I?I+"{"+D.styles+"}":D.styles),V&&(C.inserted[D.name]=!0)}}var C={key:n,sheet:new nM({key:n,container:c,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:d};return C.sheet.hydrate(h),C},bv={exports:{}},Tt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y1;function xM(){if(y1)return Tt;y1=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,n=t?Symbol.for("react.portal"):60106,r=t?Symbol.for("react.fragment"):60107,s=t?Symbol.for("react.strict_mode"):60108,a=t?Symbol.for("react.profiler"):60114,c=t?Symbol.for("react.provider"):60109,h=t?Symbol.for("react.context"):60110,d=t?Symbol.for("react.async_mode"):60111,f=t?Symbol.for("react.concurrent_mode"):60111,y=t?Symbol.for("react.forward_ref"):60112,_=t?Symbol.for("react.suspense"):60113,E=t?Symbol.for("react.suspense_list"):60120,T=t?Symbol.for("react.memo"):60115,C=t?Symbol.for("react.lazy"):60116,R=t?Symbol.for("react.block"):60121,I=t?Symbol.for("react.fundamental"):60117,D=t?Symbol.for("react.responder"):60118,F=t?Symbol.for("react.scope"):60119;function V(j){if(typeof j=="object"&&j!==null){var G=j.$$typeof;switch(G){case e:switch(j=j.type,j){case d:case f:case r:case a:case s:case _:return j;default:switch(j=j&&j.$$typeof,j){case h:case y:case C:case T:case c:return j;default:return G}}case n:return G}}}function B(j){return V(j)===f}return Tt.AsyncMode=d,Tt.ConcurrentMode=f,Tt.ContextConsumer=h,Tt.ContextProvider=c,Tt.Element=e,Tt.ForwardRef=y,Tt.Fragment=r,Tt.Lazy=C,Tt.Memo=T,Tt.Portal=n,Tt.Profiler=a,Tt.StrictMode=s,Tt.Suspense=_,Tt.isAsyncMode=function(j){return B(j)||V(j)===d},Tt.isConcurrentMode=B,Tt.isContextConsumer=function(j){return V(j)===h},Tt.isContextProvider=function(j){return V(j)===c},Tt.isElement=function(j){return typeof j=="object"&&j!==null&&j.$$typeof===e},Tt.isForwardRef=function(j){return V(j)===y},Tt.isFragment=function(j){return V(j)===r},Tt.isLazy=function(j){return V(j)===C},Tt.isMemo=function(j){return V(j)===T},Tt.isPortal=function(j){return V(j)===n},Tt.isProfiler=function(j){return V(j)===a},Tt.isStrictMode=function(j){return V(j)===s},Tt.isSuspense=function(j){return V(j)===_},Tt.isValidElementType=function(j){return typeof j=="string"||typeof j=="function"||j===r||j===f||j===a||j===s||j===_||j===E||typeof j=="object"&&j!==null&&(j.$$typeof===C||j.$$typeof===T||j.$$typeof===c||j.$$typeof===h||j.$$typeof===y||j.$$typeof===I||j.$$typeof===D||j.$$typeof===F||j.$$typeof===R)},Tt.typeOf=V,Tt}var _1;function NM(){return _1||(_1=1,bv.exports=xM()),bv.exports}var Sv,v1;function PM(){if(v1)return Sv;v1=1;var t=NM(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};a[t.ForwardRef]=r,a[t.Memo]=s;function c(C){return t.isMemo(C)?s:a[C.$$typeof]||e}var h=Object.defineProperty,d=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,y=Object.getOwnPropertyDescriptor,_=Object.getPrototypeOf,E=Object.prototype;function T(C,R,I){if(typeof R!="string"){if(E){var D=_(R);D&&D!==E&&T(C,D,I)}var F=d(R);f&&(F=F.concat(f(R)));for(var V=c(C),B=c(R),j=0;j<F.length;++j){var G=F[j];if(!n[G]&&!(I&&I[G])&&!(B&&B[G])&&!(V&&V[G])){var x=y(R,G);try{h(C,G,x)}catch{}}}}return C}return Sv=T,Sv}PM();var kM=!0;function tx(t,e,n){var r="";return n.split(" ").forEach(function(s){t[s]!==void 0?e.push(t[s]+";"):s&&(r+=s+" ")}),r}var TE=function(e,n,r){var s=e.key+"-"+n.name;(r===!1||kM===!1)&&e.registered[s]===void 0&&(e.registered[s]=n.styles)},wE=function(e,n,r){TE(e,n,r);var s=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var a=n;do e.insert(n===a?"."+s:"",a,e.sheet,!0),a=a.next;while(a!==void 0)}};function OM(t){for(var e=0,n,r=0,s=t.length;s>=4;++r,s-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(s){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var DM={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},MM=/[A-Z]|^ms/g,LM=/_EMO_([^_]+?)_([^]*?)_EMO_/g,nx=function(e){return e.charCodeAt(1)===45},E1=function(e){return e!=null&&typeof e!="boolean"},Tv=ZI(function(t){return nx(t)?t:t.replace(MM,"-$&").toLowerCase()}),b1=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(LM,function(r,s,a){return ls={name:s,styles:a,next:ls},s})}return DM[e]!==1&&!nx(e)&&typeof n=="number"&&n!==0?n+"px":n};function _d(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var s=n;if(s.anim===1)return ls={name:s.name,styles:s.styles,next:ls},s.name;var a=n;if(a.styles!==void 0){var c=a.next;if(c!==void 0)for(;c!==void 0;)ls={name:c.name,styles:c.styles,next:ls},c=c.next;var h=a.styles+";";return h}return VM(t,e,n)}case"function":{if(t!==void 0){var d=ls,f=n(t);return ls=d,_d(t,e,f)}break}}var y=n;if(e==null)return y;var _=e[y];return _!==void 0?_:y}function VM(t,e,n){var r="";if(Array.isArray(n))for(var s=0;s<n.length;s++)r+=_d(t,e,n[s])+";";else for(var a in n){var c=n[a];if(typeof c!="object"){var h=c;e!=null&&e[h]!==void 0?r+=a+"{"+e[h]+"}":E1(h)&&(r+=Tv(a)+":"+b1(a,h)+";")}else if(Array.isArray(c)&&typeof c[0]=="string"&&(e==null||e[c[0]]===void 0))for(var d=0;d<c.length;d++)E1(c[d])&&(r+=Tv(a)+":"+b1(a,c[d])+";");else{var f=_d(t,e,c);switch(a){case"animation":case"animationName":{r+=Tv(a)+":"+f+";";break}default:r+=a+"{"+f+"}"}}}return r}var S1=/label:\s*([^\s;{]+)\s*(;|$)/g,ls;function zd(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,s="";ls=void 0;var a=t[0];if(a==null||a.raw===void 0)r=!1,s+=_d(n,e,a);else{var c=a;s+=c[0]}for(var h=1;h<t.length;h++)if(s+=_d(n,e,t[h]),r){var d=a;s+=d[h]}S1.lastIndex=0;for(var f="",y;(y=S1.exec(s))!==null;)f+="-"+y[1];var _=OM(s)+f;return{name:_,styles:s,next:ls}}var UM=function(e){return e()},rx=r0.useInsertionEffect?r0.useInsertionEffect:!1,ix=rx||UM,T1=rx||A.useLayoutEffect,sx=A.createContext(typeof HTMLElement<"u"?IM({key:"css"}):null);sx.Provider;var CE=function(e){return A.forwardRef(function(n,r){var s=A.useContext(sx);return e(n,s,r)})},mg=A.createContext({}),RE={}.hasOwnProperty,o0="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",zM=function(e,n){var r={};for(var s in n)RE.call(n,s)&&(r[s]=n[s]);return r[o0]=e,r},BM=function(e){var n=e.cache,r=e.serialized,s=e.isStringTag;return TE(n,r,s),ix(function(){return wE(n,r,s)}),null},FM=CE(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var s=t[o0],a=[r],c="";typeof t.className=="string"?c=tx(e.registered,a,t.className):t.className!=null&&(c=t.className+" ");var h=zd(a,void 0,A.useContext(mg));c+=e.key+"-"+h.name;var d={};for(var f in t)RE.call(t,f)&&f!=="css"&&f!==o0&&(d[f]=t[f]);return d.className=c,n&&(d.ref=n),A.createElement(A.Fragment,null,A.createElement(BM,{cache:e,serialized:h,isStringTag:typeof s=="string"}),A.createElement(s,d))}),jM=FM,w1=function(e,n){var r=arguments;if(n==null||!RE.call(n,"css"))return A.createElement.apply(void 0,r);var s=r.length,a=new Array(s);a[0]=jM,a[1]=zM(e,n);for(var c=2;c<s;c++)a[c]=r[c];return A.createElement.apply(null,a)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(w1||(w1={}));var HM=CE(function(t,e){var n=t.styles,r=zd([n],void 0,A.useContext(mg)),s=A.useRef();return T1(function(){var a=e.key+"-global",c=new e.sheet.constructor({key:a,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),h=!1,d=document.querySelector('style[data-emotion="'+a+" "+r.name+'"]');return e.sheet.tags.length&&(c.before=e.sheet.tags[0]),d!==null&&(h=!0,d.setAttribute("data-emotion",a),c.hydrate([d])),s.current=[c,h],function(){c.flush()}},[e]),T1(function(){var a=s.current,c=a[0],h=a[1];if(h){a[1]=!1;return}if(r.next!==void 0&&wE(e,r.next,!0),c.tags.length){var d=c.tags[c.tags.length-1].nextElementSibling;c.before=d,c.flush()}e.insert("",r,c,!1)},[e,r.name]),null});function AE(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return zd(e)}function Bd(){var t=AE.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var $M=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|popover|popoverTarget|popoverTargetAction|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,qM=ZI(function(t){return $M.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),GM=qM,WM=function(e){return e!=="theme"},C1=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?GM:WM},R1=function(e,n,r){var s;if(n){var a=n.shouldForwardProp;s=e.__emotion_forwardProp&&a?function(c){return e.__emotion_forwardProp(c)&&a(c)}:a}return typeof s!="function"&&r&&(s=e.__emotion_forwardProp),s},KM=function(e){var n=e.cache,r=e.serialized,s=e.isStringTag;return TE(n,r,s),ix(function(){return wE(n,r,s)}),null},YM=function t(e,n){var r=e.__emotion_real===e,s=r&&e.__emotion_base||e,a,c;n!==void 0&&(a=n.label,c=n.target);var h=R1(e,n,r),d=h||C1(s),f=!d("as");return function(){var y=arguments,_=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(a!==void 0&&_.push("label:"+a+";"),y[0]==null||y[0].raw===void 0)_.push.apply(_,y);else{var E=y[0];_.push(E[0]);for(var T=y.length,C=1;C<T;C++)_.push(y[C],E[C])}var R=CE(function(I,D,F){var V=f&&I.as||s,B="",j=[],G=I;if(I.theme==null){G={};for(var x in I)G[x]=I[x];G.theme=A.useContext(mg)}typeof I.className=="string"?B=tx(D.registered,j,I.className):I.className!=null&&(B=I.className+" ");var P=zd(_.concat(j),D.registered,G);B+=D.key+"-"+P.name,c!==void 0&&(B+=" "+c);var N=f&&h===void 0?C1(V):d,U={};for(var L in I)f&&L==="as"||N(L)&&(U[L]=I[L]);return U.className=B,F&&(U.ref=F),A.createElement(A.Fragment,null,A.createElement(KM,{cache:D,serialized:P,isStringTag:typeof V=="string"}),A.createElement(V,U))});return R.displayName=a!==void 0?a:"Styled("+(typeof s=="string"?s:s.displayName||s.name||"Component")+")",R.defaultProps=e.defaultProps,R.__emotion_real=R,R.__emotion_base=s,R.__emotion_styles=_,R.__emotion_forwardProp=h,Object.defineProperty(R,"toString",{value:function(){return"."+c}}),R.withComponent=function(I,D){var F=t(I,gm({},n,D,{shouldForwardProp:R1(R,D,!0)}));return F.apply(void 0,_)},R}},QM=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],a0=YM.bind(null);QM.forEach(function(t){a0[t]=a0(t)});function XM(t){return t==null||Object.keys(t).length===0}function JM(t){const{styles:e,defaultTheme:n={}}=t,r=typeof e=="function"?s=>e(XM(s)?n:s):e;return z.jsx(HM,{styles:r})}function ZM(t,e){return a0(t,e)}function eL(t,e){Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))}const A1=[];function ia(t){return A1[0]=t,zd(A1)}var wv={exports:{}},Bt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I1;function tL(){if(I1)return Bt;I1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),y=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),E=Symbol.for("react.view_transition"),T=Symbol.for("react.client.reference");function C(R){if(typeof R=="object"&&R!==null){var I=R.$$typeof;switch(I){case t:switch(R=R.type,R){case n:case s:case r:case d:case f:case E:return R;default:switch(R=R&&R.$$typeof,R){case c:case h:case _:case y:return R;case a:return R;default:return I}}case e:return I}}}return Bt.ContextConsumer=a,Bt.ContextProvider=c,Bt.Element=t,Bt.ForwardRef=h,Bt.Fragment=n,Bt.Lazy=_,Bt.Memo=y,Bt.Portal=e,Bt.Profiler=s,Bt.StrictMode=r,Bt.Suspense=d,Bt.SuspenseList=f,Bt.isContextConsumer=function(R){return C(R)===a},Bt.isContextProvider=function(R){return C(R)===c},Bt.isElement=function(R){return typeof R=="object"&&R!==null&&R.$$typeof===t},Bt.isForwardRef=function(R){return C(R)===h},Bt.isFragment=function(R){return C(R)===n},Bt.isLazy=function(R){return C(R)===_},Bt.isMemo=function(R){return C(R)===y},Bt.isPortal=function(R){return C(R)===e},Bt.isProfiler=function(R){return C(R)===s},Bt.isStrictMode=function(R){return C(R)===r},Bt.isSuspense=function(R){return C(R)===d},Bt.isSuspenseList=function(R){return C(R)===f},Bt.isValidElementType=function(R){return typeof R=="string"||typeof R=="function"||R===n||R===s||R===r||R===d||R===f||typeof R=="object"&&R!==null&&(R.$$typeof===_||R.$$typeof===y||R.$$typeof===c||R.$$typeof===a||R.$$typeof===h||R.$$typeof===T||R.getModuleId!==void 0)},Bt.typeOf=C,Bt}var x1;function nL(){return x1||(x1=1,wv.exports=tL()),wv.exports}var ox=nL();function cs(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function ax(t){if(A.isValidElement(t)||ox.isValidElementType(t)||!cs(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=ax(t[n])}),e}function ir(t,e,n={clone:!0}){const r=n.clone?{...t}:t;return cs(t)&&cs(e)&&Object.keys(e).forEach(s=>{A.isValidElement(e[s])||ox.isValidElementType(e[s])?r[s]=e[s]:cs(e[s])&&Object.prototype.hasOwnProperty.call(t,s)&&cs(t[s])?r[s]=ir(t[s],e[s],n):n.clone?r[s]=cs(e[s])?ax(e[s]):e[s]:r[s]=e[s]}),r}const rL=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>({...n,[r.key]:r.val}),{})};function iL(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5,...s}=t,a=rL(e),c=Object.keys(a);function h(E){return`@media (min-width:${typeof e[E]=="number"?e[E]:E}${n})`}function d(E){return`@media (max-width:${(typeof e[E]=="number"?e[E]:E)-r/100}${n})`}function f(E,T){const C=c.indexOf(T);return`@media (min-width:${typeof e[E]=="number"?e[E]:E}${n}) and (max-width:${(C!==-1&&typeof e[c[C]]=="number"?e[c[C]]:T)-r/100}${n})`}function y(E){return c.indexOf(E)+1<c.length?f(E,c[c.indexOf(E)+1]):h(E)}function _(E){const T=c.indexOf(E);return T===0?h(c[1]):T===c.length-1?d(c[T]):f(E,c[c.indexOf(E)+1]).replace("@media","@media not all and")}return{keys:c,values:a,up:h,down:d,between:f,only:y,not:_,unit:n,...s}}function N1(t,e){if(!t.containerQueries)return e;const n=Object.keys(e).filter(r=>r.startsWith("@container")).sort((r,s)=>{const a=/min-width:\s*([0-9.]+)/;return+(r.match(a)?.[1]||0)-+(s.match(a)?.[1]||0)});return n.length?n.reduce((r,s)=>{const a=e[s];return delete r[s],r[s]=a,r},{...e}):e}function sL(t,e){return e==="@"||e.startsWith("@")&&(t.some(n=>e.startsWith(`@${n}`))||!!e.match(/^@\d/))}function oL(t,e){const n=e.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,s]=n,a=Number.isNaN(+r)?r||0:+r;return t.containerQueries(s).up(a)}function aL(t){const e=(a,c)=>a.replace("@media",c?`@container ${c}`:"@container");function n(a,c){a.up=(...h)=>e(t.breakpoints.up(...h),c),a.down=(...h)=>e(t.breakpoints.down(...h),c),a.between=(...h)=>e(t.breakpoints.between(...h),c),a.only=(...h)=>e(t.breakpoints.only(...h),c),a.not=(...h)=>{const d=e(t.breakpoints.not(...h),c);return d.includes("not all and")?d.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):d}}const r={},s=a=>(n(r,a),r);return n(s),{...t,containerQueries:s}}const lL={borderRadius:4};function Jh(t,e){return e?ir(t,e,{clone:!1}):t}const gg={xs:0,sm:600,md:900,lg:1200,xl:1536},P1={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${gg[t]}px)`},cL={containerQueries:t=>({up:e=>{let n=typeof e=="number"?e:gg[e]||e;return typeof n=="number"&&(n=`${n}px`),t?`@container ${t} (min-width:${n})`:`@container (min-width:${n})`}})};function ao(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const a=r.breakpoints||P1;return e.reduce((c,h,d)=>(c[a.up(a.keys[d])]=n(e[d]),c),{})}if(typeof e=="object"){const a=r.breakpoints||P1;return Object.keys(e).reduce((c,h)=>{if(sL(a.keys,h)){const d=oL(r.containerQueries?r:cL,h);d&&(c[d]=n(e[h],h))}else if(Object.keys(a.values||gg).includes(h)){const d=a.up(h);c[d]=n(e[h],h)}else{const d=h;c[d]=e[d]}return c},{})}return n(e)}function uL(t={}){return t.keys?.reduce((n,r)=>{const s=t.up(r);return n[s]={},n},{})||{}}function k1(t,e){return t.reduce((n,r)=>{const s=n[r];return(!s||Object.keys(s).length===0)&&delete n[r],n},e)}function Re(t){if(typeof t!="string")throw new Error(oo(7));return t.charAt(0).toUpperCase()+t.slice(1)}function yg(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((s,a)=>s&&s[a]?s[a]:null,t);if(r!=null)return r}return e.split(".").reduce((r,s)=>r&&r[s]!=null?r[s]:null,t)}function _m(t,e,n,r=n){let s;return typeof t=="function"?s=t(n):Array.isArray(t)?s=t[n]||r:s=yg(t,n)||r,e&&(s=e(s,r,t)),s}function gn(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:s}=t,a=c=>{if(c[e]==null)return null;const h=c[e],d=c.theme,f=yg(d,r)||{};return ao(c,h,_=>{let E=_m(f,s,_);return _===E&&typeof _=="string"&&(E=_m(f,s,`${e}${_==="default"?"":Re(_)}`,_)),n===!1?E:{[n]:E}})};return a.propTypes={},a.filterProps=[e],a}function hL(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const dL={m:"margin",p:"padding"},fL={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},O1={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},pL=hL(t=>{if(t.length>2)if(O1[t])t=O1[t];else return[t];const[e,n]=t.split(""),r=dL[e],s=fL[n]||"";return Array.isArray(s)?s.map(a=>r+a):[r+s]}),IE=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],xE=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...IE,...xE];function Fd(t,e,n,r){const s=yg(t,e,!0)??n;return typeof s=="number"||typeof s=="string"?a=>typeof a=="string"?a:typeof s=="string"?s.startsWith("var(")&&a===0?0:s.startsWith("var(")&&a===1?s:`calc(${a} * ${s})`:s*a:Array.isArray(s)?a=>{if(typeof a=="string")return a;const c=Math.abs(a),h=s[c];return a>=0?h:typeof h=="number"?-h:typeof h=="string"&&h.startsWith("var(")?`calc(-1 * ${h})`:`-${h}`}:typeof s=="function"?s:()=>{}}function NE(t){return Fd(t,"spacing",8)}function jd(t,e){return typeof e=="string"||e==null?e:t(e)}function mL(t,e){return n=>t.reduce((r,s)=>(r[s]=jd(e,n),r),{})}function gL(t,e,n,r){if(!e.includes(n))return null;const s=pL(n),a=mL(s,r),c=t[n];return ao(t,c,a)}function lx(t,e){const n=NE(t.theme);return Object.keys(t).map(r=>gL(t,e,r,n)).reduce(Jh,{})}function rn(t){return lx(t,IE)}rn.propTypes={};rn.filterProps=IE;function sn(t){return lx(t,xE)}sn.propTypes={};sn.filterProps=xE;function cx(t=8,e=NE({spacing:t})){if(t.mui)return t;const n=(...r)=>(r.length===0?[1]:r).map(a=>{const c=e(a);return typeof c=="number"?`${c}px`:c}).join(" ");return n.mui=!0,n}function _g(...t){const e=t.reduce((r,s)=>(s.filterProps.forEach(a=>{r[a]=s}),r),{}),n=r=>Object.keys(r).reduce((s,a)=>e[a]?Jh(s,e[a](r)):s,{});return n.propTypes={},n.filterProps=t.reduce((r,s)=>r.concat(s.filterProps),[]),n}function si(t){return typeof t!="number"?t:`${t}px solid`}function di(t,e){return gn({prop:t,themeKey:"borders",transform:e})}const yL=di("border",si),_L=di("borderTop",si),vL=di("borderRight",si),EL=di("borderBottom",si),bL=di("borderLeft",si),SL=di("borderColor"),TL=di("borderTopColor"),wL=di("borderRightColor"),CL=di("borderBottomColor"),RL=di("borderLeftColor"),AL=di("outline",si),IL=di("outlineColor"),vg=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=Fd(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:jd(e,r)});return ao(t,t.borderRadius,n)}return null};vg.propTypes={};vg.filterProps=["borderRadius"];_g(yL,_L,vL,EL,bL,SL,TL,wL,CL,RL,vg,AL,IL);const Eg=t=>{if(t.gap!==void 0&&t.gap!==null){const e=Fd(t.theme,"spacing",8),n=r=>({gap:jd(e,r)});return ao(t,t.gap,n)}return null};Eg.propTypes={};Eg.filterProps=["gap"];const bg=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=Fd(t.theme,"spacing",8),n=r=>({columnGap:jd(e,r)});return ao(t,t.columnGap,n)}return null};bg.propTypes={};bg.filterProps=["columnGap"];const Sg=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=Fd(t.theme,"spacing",8),n=r=>({rowGap:jd(e,r)});return ao(t,t.rowGap,n)}return null};Sg.propTypes={};Sg.filterProps=["rowGap"];const xL=gn({prop:"gridColumn"}),NL=gn({prop:"gridRow"}),PL=gn({prop:"gridAutoFlow"}),kL=gn({prop:"gridAutoColumns"}),OL=gn({prop:"gridAutoRows"}),DL=gn({prop:"gridTemplateColumns"}),ML=gn({prop:"gridTemplateRows"}),LL=gn({prop:"gridTemplateAreas"}),VL=gn({prop:"gridArea"});_g(Eg,bg,Sg,xL,NL,PL,kL,OL,DL,ML,LL,VL);function zc(t,e){return e==="grey"?e:t}const UL=gn({prop:"color",themeKey:"palette",transform:zc}),zL=gn({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:zc}),BL=gn({prop:"backgroundColor",themeKey:"palette",transform:zc});_g(UL,zL,BL);function Fr(t){return t<=1&&t!==0?`${t*100}%`:t}const FL=gn({prop:"width",transform:Fr}),PE=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{const r=t.theme?.breakpoints?.values?.[n]||gg[n];return r?t.theme?.breakpoints?.unit!=="px"?{maxWidth:`${r}${t.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:Fr(n)}};return ao(t,t.maxWidth,e)}return null};PE.filterProps=["maxWidth"];const jL=gn({prop:"minWidth",transform:Fr}),HL=gn({prop:"height",transform:Fr}),$L=gn({prop:"maxHeight",transform:Fr}),qL=gn({prop:"minHeight",transform:Fr});gn({prop:"size",cssProperty:"width",transform:Fr});gn({prop:"size",cssProperty:"height",transform:Fr});const GL=gn({prop:"boxSizing"});_g(FL,PE,jL,HL,$L,qL,GL);const Hd={border:{themeKey:"borders",transform:si},borderTop:{themeKey:"borders",transform:si},borderRight:{themeKey:"borders",transform:si},borderBottom:{themeKey:"borders",transform:si},borderLeft:{themeKey:"borders",transform:si},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:si},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:vg},color:{themeKey:"palette",transform:zc},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:zc},backgroundColor:{themeKey:"palette",transform:zc},p:{style:sn},pt:{style:sn},pr:{style:sn},pb:{style:sn},pl:{style:sn},px:{style:sn},py:{style:sn},padding:{style:sn},paddingTop:{style:sn},paddingRight:{style:sn},paddingBottom:{style:sn},paddingLeft:{style:sn},paddingX:{style:sn},paddingY:{style:sn},paddingInline:{style:sn},paddingInlineStart:{style:sn},paddingInlineEnd:{style:sn},paddingBlock:{style:sn},paddingBlockStart:{style:sn},paddingBlockEnd:{style:sn},m:{style:rn},mt:{style:rn},mr:{style:rn},mb:{style:rn},ml:{style:rn},mx:{style:rn},my:{style:rn},margin:{style:rn},marginTop:{style:rn},marginRight:{style:rn},marginBottom:{style:rn},marginLeft:{style:rn},marginX:{style:rn},marginY:{style:rn},marginInline:{style:rn},marginInlineStart:{style:rn},marginInlineEnd:{style:rn},marginBlock:{style:rn},marginBlockStart:{style:rn},marginBlockEnd:{style:rn},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Eg},rowGap:{style:Sg},columnGap:{style:bg},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Fr},maxWidth:{style:PE},minWidth:{transform:Fr},height:{transform:Fr},maxHeight:{transform:Fr},minHeight:{transform:Fr},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function WL(...t){const e=t.reduce((r,s)=>r.concat(Object.keys(s)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function KL(t,e){return typeof t=="function"?t(e):t}function YL(){function t(n,r,s,a){const c={[n]:r,theme:s},h=a[n];if(!h)return{[n]:r};const{cssProperty:d=n,themeKey:f,transform:y,style:_}=h;if(r==null)return null;if(f==="typography"&&r==="inherit")return{[n]:r};const E=yg(s,f)||{};return _?_(c):ao(c,r,C=>{let R=_m(E,y,C);return C===R&&typeof C=="string"&&(R=_m(E,y,`${n}${C==="default"?"":Re(C)}`,C)),d===!1?R:{[d]:R}})}function e(n){const{sx:r,theme:s={},nested:a}=n||{};if(!r)return null;const c=s.unstable_sxConfig??Hd;function h(d){let f=d;if(typeof d=="function")f=d(s);else if(typeof d!="object")return d;if(!f)return null;const y=uL(s.breakpoints),_=Object.keys(y);let E=y;return Object.keys(f).forEach(T=>{const C=KL(f[T],s);if(C!=null)if(typeof C=="object")if(c[T])E=Jh(E,t(T,C,s,c));else{const R=ao({theme:s},C,I=>({[T]:I}));WL(R,C)?E[T]=e({sx:C,theme:s,nested:!0}):E=Jh(E,R)}else E=Jh(E,t(T,C,s,c))}),!a&&s.modularCssLayers?{"@layer sx":N1(s,k1(_,E))}:N1(s,k1(_,E))}return Array.isArray(r)?r.map(h):h(r)}return e}const Kc=YL();Kc.filterProps=["sx"];function QL(t,e){const n=this;if(n.vars){if(!n.colorSchemes?.[t]||typeof n.getColorSchemeSelector!="function")return{};let r=n.getColorSchemeSelector(t);return r==="&"?e:((r.includes("data-")||r.includes("."))&&(r=`*:where(${r.replace(/\s*&$/,"")}) &`),{[r]:e})}return n.palette.mode===t?e:{}}function kE(t={},...e){const{breakpoints:n={},palette:r={},spacing:s,shape:a={},...c}=t,h=iL(n),d=cx(s);let f=ir({breakpoints:h,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:d,shape:{...lL,...a}},c);return f=aL(f),f.applyStyles=QL,f=e.reduce((y,_)=>ir(y,_),f),f.unstable_sxConfig={...Hd,...c?.unstable_sxConfig},f.unstable_sx=function(_){return Kc({sx:_,theme:this})},f}function XL(t){return Object.keys(t).length===0}function JL(t=null){const e=A.useContext(mg);return!e||XL(e)?t:e}const ZL=kE();function ux(t=ZL){return JL(t)}function Cv(t){const e=ia(t);return t!==e&&e.styles?(e.styles.match(/^@layer\s+[^{]*$/)||(e.styles=`@layer global{${e.styles}}`),e):t}function e4({styles:t,themeId:e,defaultTheme:n={}}){const r=ux(n),s=e&&r[e]||r;let a=typeof t=="function"?t(s):t;return s.modularCssLayers&&(Array.isArray(a)?a=a.map(c=>Cv(typeof c=="function"?c(s):c)):a=Cv(a)),z.jsx(JM,{styles:a})}const t4=t=>{const e={systemProps:{},otherProps:{}},n=t?.theme?.unstable_sxConfig??Hd;return Object.keys(t).forEach(r=>{n[r]?e.systemProps[r]=t[r]:e.otherProps[r]=t[r]}),e};function n4(t){const{sx:e,...n}=t,{systemProps:r,otherProps:s}=t4(n);let a;return Array.isArray(e)?a=[r,...e]:typeof e=="function"?a=(...c)=>{const h=e(...c);return cs(h)?{...r,...h}:r}:a={...r,...e},{...s,sx:a}}const D1=t=>t,r4=()=>{let t=D1;return{configure(e){t=e},generate(e){return t(e)},reset(){t=D1}}},i4=r4();function hx(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=hx(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Fe(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=hx(t))&&(r&&(r+=" "),r+=e);return r}const s4={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Et(t,e,n="Mui"){const r=s4[e];return r?`${n}-${r}`:`${i4.generate(t)}-${e}`}function bt(t,e,n="Mui"){const r={};return e.forEach(s=>{r[s]=Et(t,s,n)}),r}function dx(t){const{variants:e,...n}=t,r={variants:e,style:ia(n),isProcessed:!0};return r.style===n||e&&e.forEach(s=>{typeof s.style!="function"&&(s.style=ia(s.style))}),r}const o4=kE();function Rv(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function ul(t,e){return e&&t&&typeof t=="object"&&t.styles&&!t.styles.startsWith("@layer")&&(t.styles=`@layer ${e}{${String(t.styles)}}`),t}function a4(t){return t?(e,n)=>n[t]:null}function l4(t,e,n){t.theme=h4(t.theme)?n:t.theme[e]||t.theme}function tm(t,e,n){const r=typeof e=="function"?e(t):e;if(Array.isArray(r))return r.flatMap(s=>tm(t,s,n));if(Array.isArray(r?.variants)){let s;if(r.isProcessed)s=n?ul(r.style,n):r.style;else{const{variants:a,...c}=r;s=n?ul(ia(c),n):c}return fx(t,r.variants,[s],n)}return r?.isProcessed?n?ul(ia(r.style),n):r.style:n?ul(ia(r),n):r}function fx(t,e,n=[],r=void 0){let s;e:for(let a=0;a<e.length;a+=1){const c=e[a];if(typeof c.props=="function"){if(s??={...t,...t.ownerState,ownerState:t.ownerState},!c.props(s))continue}else for(const h in c.props)if(t[h]!==c.props[h]&&t.ownerState?.[h]!==c.props[h])continue e;typeof c.style=="function"?(s??={...t,...t.ownerState,ownerState:t.ownerState},n.push(r?ul(ia(c.style(s)),r):c.style(s))):n.push(r?ul(ia(c.style),r):c.style)}return n}function c4(t={}){const{themeId:e,defaultTheme:n=o4,rootShouldForwardProp:r=Rv,slotShouldForwardProp:s=Rv}=t;function a(h){l4(h,e,n)}return(h,d={})=>{eL(h,G=>G.filter(x=>x!==Kc));const{name:f,slot:y,skipVariantsResolver:_,skipSx:E,overridesResolver:T=a4(f4(y)),...C}=d,R=f&&f.startsWith("Mui")||y?"components":"custom",I=_!==void 0?_:y&&y!=="Root"&&y!=="root"||!1,D=E||!1;let F=Rv;y==="Root"||y==="root"?F=r:y?F=s:d4(h)&&(F=void 0);const V=ZM(h,{shouldForwardProp:F,label:u4(),...C}),B=G=>{if(G.__emotion_real===G)return G;if(typeof G=="function")return function(P){return tm(P,G,P.theme.modularCssLayers?R:void 0)};if(cs(G)){const x=dx(G);return function(N){return x.variants?tm(N,x,N.theme.modularCssLayers?R:void 0):N.theme.modularCssLayers?ul(x.style,R):x.style}}return G},j=(...G)=>{const x=[],P=G.map(B),N=[];if(x.push(a),f&&T&&N.push(function(k){const ee=k.theme.components?.[f]?.styleOverrides;if(!ee)return null;const H={};for(const te in ee)H[te]=tm(k,ee[te],k.theme.modularCssLayers?"theme":void 0);return T(k,H)}),f&&!I&&N.push(function(k){const ee=k.theme?.components?.[f]?.variants;return ee?fx(k,ee,[],k.theme.modularCssLayers?"theme":void 0):null}),D||N.push(Kc),Array.isArray(P[0])){const S=P.shift(),k=new Array(x.length).fill(""),Y=new Array(N.length).fill("");let ee;ee=[...k,...S,...Y],ee.raw=[...k,...S.raw,...Y],x.unshift(ee)}const U=[...x,...P,...N],L=V(...U);return h.muiName&&(L.muiName=h.muiName),L};return V.withConfig&&(j.withConfig=V.withConfig),j}}function u4(t,e){return void 0}function h4(t){for(const e in t)return!1;return!0}function d4(t){return typeof t=="string"&&t.charCodeAt(0)>96}function f4(t){return t&&t.charAt(0).toLowerCase()+t.slice(1)}function vm(t,e,n=!1){const r={...e};for(const s in t)if(Object.prototype.hasOwnProperty.call(t,s)){const a=s;if(a==="components"||a==="slots")r[a]={...t[a],...r[a]};else if(a==="componentsProps"||a==="slotProps"){const c=t[a],h=e[a];if(!h)r[a]=c||{};else if(!c)r[a]=h;else{r[a]={...h};for(const d in c)if(Object.prototype.hasOwnProperty.call(c,d)){const f=d;r[a][f]=vm(c[f],h[f],n)}}}else a==="className"&&n&&e.className?r.className=Fe(t?.className,e?.className):a==="style"&&n&&e.style?r.style={...t?.style,...e?.style}:r[a]===void 0&&(r[a]=t[a])}return r}const El=typeof window<"u"?A.useLayoutEffect:A.useEffect;function p4(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}function OE(t,e=0,n=1){return p4(t,e,n)}function m4(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,s)=>s<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function da(t){if(t.type)return t;if(t.charAt(0)==="#")return da(m4(t));const e=t.indexOf("("),n=t.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(oo(9,t));let r=t.substring(e+1,t.length-1),s;if(n==="color"){if(r=r.split(" "),s=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(s))throw new Error(oo(10,s))}else r=r.split(",");return r=r.map(a=>parseFloat(a)),{type:n,values:r,colorSpace:s}}const g4=t=>{const e=da(t);return e.values.slice(0,3).map((n,r)=>e.type.includes("hsl")&&r!==0?`${n}%`:n).join(" ")},Bh=(t,e)=>{try{return g4(t)}catch{return t}};function Tg(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.includes("rgb")?r=r.map((s,a)=>a<3?parseInt(s,10):s):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.includes("color")?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function px(t){t=da(t);const{values:e}=t,n=e[0],r=e[1]/100,s=e[2]/100,a=r*Math.min(s,1-s),c=(f,y=(f+n/30)%12)=>s-a*Math.max(Math.min(y-3,9-y,1),-1);let h="rgb";const d=[Math.round(c(0)*255),Math.round(c(8)*255),Math.round(c(4)*255)];return t.type==="hsla"&&(h+="a",d.push(e[3])),Tg({type:h,values:d})}function l0(t){t=da(t);let e=t.type==="hsl"||t.type==="hsla"?da(px(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function y4(t,e){const n=l0(t),r=l0(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function Em(t,e){return t=da(t),e=OE(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,Tg(t)}function rl(t,e,n){try{return Em(t,e)}catch{return t}}function wg(t,e){if(t=da(t),e=OE(e),t.type.includes("hsl"))t.values[2]*=1-e;else if(t.type.includes("rgb")||t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]*=1-e;return Tg(t)}function Nt(t,e,n){try{return wg(t,e)}catch{return t}}function Cg(t,e){if(t=da(t),e=OE(e),t.type.includes("hsl"))t.values[2]+=(100-t.values[2])*e;else if(t.type.includes("rgb"))for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return Tg(t)}function Pt(t,e,n){try{return Cg(t,e)}catch{return t}}function c0(t,e=.15){return l0(t)>.5?wg(t,e):Cg(t,e)}function Mp(t,e,n){try{return c0(t,e)}catch{return t}}const _4=A.createContext(),v4=()=>A.useContext(_4)??!1,E4=A.createContext(void 0);function b4(t){const{theme:e,name:n,props:r}=t;if(!e||!e.components||!e.components[n])return r;const s=e.components[n];return s.defaultProps?vm(s.defaultProps,r,e.components.mergeClassNameAndStyle):!s.styleOverrides&&!s.variants?vm(s,r,e.components.mergeClassNameAndStyle):r}function S4({props:t,name:e}){const n=A.useContext(E4);return b4({props:t,name:e,theme:{components:n}})}let M1=0;function T4(t){const[e,n]=A.useState(t),r=t||e;return A.useEffect(()=>{e==null&&(M1+=1,n(`mui-${M1}`))},[e]),r}const w4={...r0},L1=w4.useId;function Rg(t){if(L1!==void 0){const e=L1();return t??e}return T4(t)}const V1={theme:void 0};function C4(t){let e,n;return function(s){let a=e;return(a===void 0||s.theme!==n)&&(V1.theme=s.theme,a=dx(t(V1)),e=a,n=s.theme),a}}function R4(t=""){function e(...r){if(!r.length)return"";const s=r[0];return typeof s=="string"&&!s.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${t?`${t}-`:""}${s}${e(...r.slice(1))})`:`, ${s}`}return(r,...s)=>`var(--${t?`${t}-`:""}${r}${e(...s)})`}const U1=(t,e,n,r=[])=>{let s=t;e.forEach((a,c)=>{c===e.length-1?Array.isArray(s)?s[Number(a)]=n:s&&typeof s=="object"&&(s[a]=n):s&&typeof s=="object"&&(s[a]||(s[a]=r.includes(a)?[]:{}),s=s[a])})},A4=(t,e,n)=>{function r(s,a=[],c=[]){Object.entries(s).forEach(([h,d])=>{(!n||n&&!n([...a,h]))&&d!=null&&(typeof d=="object"&&Object.keys(d).length>0?r(d,[...a,h],Array.isArray(d)?[...c,h]:c):e([...a,h],d,c))})}r(t)},I4=(t,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>t.includes(r))||t[t.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function Av(t,e){const{prefix:n,shouldSkipGeneratingVar:r}=e||{},s={},a={},c={};return A4(t,(h,d,f)=>{if((typeof d=="string"||typeof d=="number")&&(!r||!r(h,d))){const y=`--${n?`${n}-`:""}${h.join("-")}`,_=I4(h,d);Object.assign(s,{[y]:_}),U1(a,h,`var(${y})`,f),U1(c,h,`var(${y}, ${_})`,f)}},h=>h[0]==="vars"),{css:s,vars:a,varsWithDefaults:c}}function x4(t,e={}){const{getSelector:n=D,disableCssColorScheme:r,colorSchemeSelector:s,enableContrastVars:a}=e,{colorSchemes:c={},components:h,defaultColorScheme:d="light",...f}=t,{vars:y,css:_,varsWithDefaults:E}=Av(f,e);let T=E;const C={},{[d]:R,...I}=c;if(Object.entries(I||{}).forEach(([B,j])=>{const{vars:G,css:x,varsWithDefaults:P}=Av(j,e);T=ir(T,P),C[B]={css:x,vars:G}}),R){const{css:B,vars:j,varsWithDefaults:G}=Av(R,e);T=ir(T,G),C[d]={css:B,vars:j}}function D(B,j){let G=s;if(s==="class"&&(G=".%s"),s==="data"&&(G="[data-%s]"),s?.startsWith("data-")&&!s.includes("%s")&&(G=`[${s}="%s"]`),B){if(G==="media")return t.defaultColorScheme===B?":root":{[`@media (prefers-color-scheme: ${c[B]?.palette?.mode||B})`]:{":root":j}};if(G)return t.defaultColorScheme===B?`:root, ${G.replace("%s",String(B))}`:G.replace("%s",String(B))}return":root"}return{vars:T,generateThemeVars:()=>{let B={...y};return Object.entries(C).forEach(([,{vars:j}])=>{B=ir(B,j)}),B},generateStyleSheets:()=>{const B=[],j=t.defaultColorScheme||"light";function G(N,U){Object.keys(U).length&&B.push(typeof N=="string"?{[N]:{...U}}:N)}G(n(void 0,{..._}),_);const{[j]:x,...P}=C;if(x){const{css:N}=x,U=c[j]?.palette?.mode,L=!r&&U?{colorScheme:U,...N}:{...N};G(n(j,{...L}),L)}return Object.entries(P).forEach(([N,{css:U}])=>{const L=c[N]?.palette?.mode,S=!r&&L?{colorScheme:L,...U}:{...U};G(n(N,{...S}),S)}),a&&B.push({":root":{"--__l-threshold":"0.7","--__l":"clamp(0, (l / var(--__l-threshold) - 1) * -infinity, 1)","--__a":"clamp(0.87, (l / var(--__l-threshold) - 1) * -infinity, 1)"}}),B}}}function N4(t){return function(n){return t==="media"?`@media (prefers-color-scheme: ${n})`:t?t.startsWith("data-")&&!t.includes("%s")?`[${t}="${n}"] &`:t==="class"?`.${n} &`:t==="data"?`[data-${n}] &`:`${t.replace("%s",n)} &`:"&"}}function St(t,e,n=void 0){const r={};for(const s in t){const a=t[s];let c="",h=!0;for(let d=0;d<a.length;d+=1){const f=a[d];f&&(c+=(h===!0?"":" ")+e(f),h=!1,n&&n[f]&&(c+=" "+n[f]))}r[s]=c}return r}function Iv(t,e){return A.isValidElement(t)&&e.indexOf(t.type.muiName??t.type?._payload?.value?.muiName)!==-1}function mx(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:md.white,default:md.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const gx=mx();function yx(){return{text:{primary:md.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:md.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const u0=yx();function z1(t,e,n,r){const s=r.light||r,a=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=Cg(t.main,s):e==="dark"&&(t.dark=wg(t.main,a)))}function B1(t,e,n,r,s){const a=s.light||s,c=s.dark||s*1.5;e[n]||(e.hasOwnProperty(r)?e[n]=e[r]:n==="light"?e.light=`color-mix(in ${t}, ${e.main}, #fff ${(a*100).toFixed(0)}%)`:n==="dark"&&(e.dark=`color-mix(in ${t}, ${e.main}, #000 ${(c*100).toFixed(0)}%)`))}function P4(t="light"){return t==="dark"?{main:Rc[200],light:Rc[50],dark:Rc[400]}:{main:Rc[700],light:Rc[400],dark:Rc[800]}}function k4(t="light"){return t==="dark"?{main:Cc[200],light:Cc[50],dark:Cc[400]}:{main:Cc[500],light:Cc[300],dark:Cc[700]}}function O4(t="light"){return t==="dark"?{main:wc[500],light:wc[300],dark:wc[700]}:{main:wc[700],light:wc[400],dark:wc[800]}}function D4(t="light"){return t==="dark"?{main:Ac[400],light:Ac[300],dark:Ac[700]}:{main:Ac[700],light:Ac[500],dark:Ac[900]}}function M4(t="light"){return t==="dark"?{main:Ic[400],light:Ic[300],dark:Ic[700]}:{main:Ic[800],light:Ic[500],dark:Ic[900]}}function L4(t="light"){return t==="dark"?{main:xh[400],light:xh[300],dark:xh[700]}:{main:"#ed6c02",light:xh[500],dark:xh[900]}}function V4(t){return`oklch(from ${t} var(--__l) 0 h / var(--__a))`}function DE(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2,colorSpace:s,...a}=t,c=t.primary||P4(e),h=t.secondary||k4(e),d=t.error||O4(e),f=t.info||D4(e),y=t.success||M4(e),_=t.warning||L4(e);function E(I){return s?V4(I):y4(I,u0.text.primary)>=n?u0.text.primary:gx.text.primary}const T=({color:I,name:D,mainShade:F=500,lightShade:V=300,darkShade:B=700})=>{if(I={...I},!I.main&&I[F]&&(I.main=I[F]),!I.hasOwnProperty("main"))throw new Error(oo(11,D?` (${D})`:"",F));if(typeof I.main!="string")throw new Error(oo(12,D?` (${D})`:"",JSON.stringify(I.main)));return s?(B1(s,I,"light",V,r),B1(s,I,"dark",B,r)):(z1(I,"light",V,r),z1(I,"dark",B,r)),I.contrastText||(I.contrastText=E(I.main)),I};let C;return e==="light"?C=mx():e==="dark"&&(C=yx()),ir({common:{...md},mode:e,primary:T({color:c,name:"primary"}),secondary:T({color:h,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:T({color:d,name:"error"}),warning:T({color:_,name:"warning"}),info:T({color:f,name:"info"}),success:T({color:y,name:"success"}),grey:ZD,contrastThreshold:n,getContrastText:E,augmentColor:T,tonalOffset:r,...C},a)}function U4(t){const e={};return Object.entries(t).forEach(r=>{const[s,a]=r;typeof a=="object"&&(e[s]=`${a.fontStyle?`${a.fontStyle} `:""}${a.fontVariant?`${a.fontVariant} `:""}${a.fontWeight?`${a.fontWeight} `:""}${a.fontStretch?`${a.fontStretch} `:""}${a.fontSize||""}${a.lineHeight?`/${a.lineHeight} `:""}${a.fontFamily||""}`)}),e}function z4(t,e){return{toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}},...e}}function B4(t){return Math.round(t*1e5)/1e5}const F1={textTransform:"uppercase"},j1='"Roboto", "Helvetica", "Arial", sans-serif';function F4(t,e){const{fontFamily:n=j1,fontSize:r=14,fontWeightLight:s=300,fontWeightRegular:a=400,fontWeightMedium:c=500,fontWeightBold:h=700,htmlFontSize:d=16,allVariants:f,pxToRem:y,..._}=typeof e=="function"?e(t):e,E=r/14,T=y||(I=>`${I/d*E}rem`),C=(I,D,F,V,B)=>({fontFamily:n,fontWeight:I,fontSize:T(D),lineHeight:F,...n===j1?{letterSpacing:`${B4(V/D)}em`}:{},...B,...f}),R={h1:C(s,96,1.167,-1.5),h2:C(s,60,1.2,-.5),h3:C(a,48,1.167,0),h4:C(a,34,1.235,.25),h5:C(a,24,1.334,0),h6:C(c,20,1.6,.15),subtitle1:C(a,16,1.75,.15),subtitle2:C(c,14,1.57,.1),body1:C(a,16,1.5,.15),body2:C(a,14,1.43,.15),button:C(c,14,1.75,.4,F1),caption:C(a,12,1.66,.4),overline:C(a,12,2.66,1,F1),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return ir({htmlFontSize:d,pxToRem:T,fontFamily:n,fontSize:r,fontWeightLight:s,fontWeightRegular:a,fontWeightMedium:c,fontWeightBold:h,...R},_,{clone:!1})}const j4=.2,H4=.14,$4=.12;function Xt(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${j4})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${H4})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${$4})`].join(",")}const q4=["none",Xt(0,2,1,-1,0,1,1,0,0,1,3,0),Xt(0,3,1,-2,0,2,2,0,0,1,5,0),Xt(0,3,3,-2,0,3,4,0,0,1,8,0),Xt(0,2,4,-1,0,4,5,0,0,1,10,0),Xt(0,3,5,-1,0,5,8,0,0,1,14,0),Xt(0,3,5,-1,0,6,10,0,0,1,18,0),Xt(0,4,5,-2,0,7,10,1,0,2,16,1),Xt(0,5,5,-3,0,8,10,1,0,3,14,2),Xt(0,5,6,-3,0,9,12,1,0,3,16,2),Xt(0,6,6,-3,0,10,14,1,0,4,18,3),Xt(0,6,7,-4,0,11,15,1,0,4,20,3),Xt(0,7,8,-4,0,12,17,2,0,5,22,4),Xt(0,7,8,-4,0,13,19,2,0,5,24,4),Xt(0,7,9,-4,0,14,21,2,0,5,26,4),Xt(0,8,9,-5,0,15,22,2,0,6,28,5),Xt(0,8,10,-5,0,16,24,2,0,6,30,5),Xt(0,8,11,-5,0,17,26,2,0,6,32,5),Xt(0,9,11,-5,0,18,28,2,0,7,34,6),Xt(0,9,12,-6,0,19,29,2,0,7,36,6),Xt(0,10,13,-6,0,20,31,3,0,8,38,7),Xt(0,10,13,-6,0,21,33,3,0,8,40,7),Xt(0,10,14,-6,0,22,35,3,0,8,42,7),Xt(0,11,14,-7,0,23,36,3,0,9,44,8),Xt(0,11,15,-7,0,24,38,3,0,9,46,8)],G4={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},W4={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function H1(t){return`${Math.round(t)}ms`}function K4(t){if(!t)return 0;const e=t/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function Y4(t){const e={...G4,...t.easing},n={...W4,...t.duration};return{getAutoHeightDuration:K4,create:(s=["all"],a={})=>{const{duration:c=n.standard,easing:h=e.easeInOut,delay:d=0,...f}=a;return(Array.isArray(s)?s:[s]).map(y=>`${y} ${typeof c=="string"?c:H1(c)} ${h} ${typeof d=="string"?d:H1(d)}`).join(",")},...t,easing:e,duration:n}}const Q4={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function X4(t){return cs(t)||typeof t>"u"||typeof t=="string"||typeof t=="boolean"||typeof t=="number"||Array.isArray(t)}function _x(t={}){const e={...t};function n(r){const s=Object.entries(r);for(let a=0;a<s.length;a++){const[c,h]=s[a];!X4(h)||c.startsWith("unstable_")?delete r[c]:cs(h)&&(r[c]={...h},n(r[c]))}}return n(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function $1(t){return typeof t=="number"?`${(t*100).toFixed(0)}%`:`calc((${t}) * 100%)`}const J4=t=>{if(!Number.isNaN(+t))return+t;const e=t.match(/\d*\.?\d+/g);if(!e)return 0;let n=0;for(let r=0;r<e.length;r+=1)n+=+e[r];return n};function Z4(t){Object.assign(t,{alpha(e,n){const r=this||t;return r.colorSpace?`oklch(from ${e} l c h / ${typeof n=="string"?`calc(${n})`:n})`:r.vars?`rgba(${e.replace(/var\(--([^,\s)]+)(?:,[^)]+)?\)+/g,"var(--$1Channel)")} / ${typeof n=="string"?`calc(${n})`:n})`:Em(e,J4(n))},lighten(e,n){const r=this||t;return r.colorSpace?`color-mix(in ${r.colorSpace}, ${e}, #fff ${$1(n)})`:Cg(e,n)},darken(e,n){const r=this||t;return r.colorSpace?`color-mix(in ${r.colorSpace}, ${e}, #000 ${$1(n)})`:wg(e,n)}})}function h0(t={},...e){const{breakpoints:n,mixins:r={},spacing:s,palette:a={},transitions:c={},typography:h={},shape:d,colorSpace:f,...y}=t;if(t.vars&&t.generateThemeVars===void 0)throw new Error(oo(20));const _=DE({...a,colorSpace:f}),E=kE(t);let T=ir(E,{mixins:z4(E.breakpoints,r),palette:_,shadows:q4.slice(),typography:F4(_,h),transitions:Y4(c),zIndex:{...Q4}});return T=ir(T,y),T=e.reduce((C,R)=>ir(C,R),T),T.unstable_sxConfig={...Hd,...y?.unstable_sxConfig},T.unstable_sx=function(R){return Kc({sx:R,theme:this})},T.toRuntimeSource=_x,Z4(T),T}function d0(t){let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,Math.round(e*10)/1e3}const e5=[...Array(25)].map((t,e)=>{if(e===0)return"none";const n=d0(e);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`});function vx(t){return{inputPlaceholder:t==="dark"?.5:.42,inputUnderline:t==="dark"?.7:.42,switchTrackDisabled:t==="dark"?.2:.12,switchTrack:t==="dark"?.3:.38}}function Ex(t){return t==="dark"?e5:[]}function t5(t){const{palette:e={mode:"light"},opacity:n,overlays:r,colorSpace:s,...a}=t,c=DE({...e,colorSpace:s});return{palette:c,opacity:{...vx(c.mode),...n},overlays:r||Ex(c.mode),...a}}function n5(t){return!!t[0].match(/(cssVarPrefix|colorSchemeSelector|modularCssLayers|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!t[0].match(/sxConfig$/)||t[0]==="palette"&&!!t[1]?.match(/(mode|contrastThreshold|tonalOffset)/)}const r5=t=>[...[...Array(25)].map((e,n)=>`--${t?`${t}-`:""}overlays-${n}`),`--${t?`${t}-`:""}palette-AppBar-darkBg`,`--${t?`${t}-`:""}palette-AppBar-darkColor`],i5=t=>(e,n)=>{const r=t.rootSelector||":root",s=t.colorSchemeSelector;let a=s;if(s==="class"&&(a=".%s"),s==="data"&&(a="[data-%s]"),s?.startsWith("data-")&&!s.includes("%s")&&(a=`[${s}="%s"]`),t.defaultColorScheme===e){if(e==="dark"){const c={};return r5(t.cssVarPrefix).forEach(h=>{c[h]=n[h],delete n[h]}),a==="media"?{[r]:n,"@media (prefers-color-scheme: dark)":{[r]:c}}:a?{[a.replace("%s",e)]:c,[`${r}, ${a.replace("%s",e)}`]:n}:{[r]:{...n,...c}}}if(a&&a!=="media")return`${r}, ${a.replace("%s",String(e))}`}else if(e){if(a==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:n}};if(a)return a.replace("%s",String(e))}return r};function s5(t,e){e.forEach(n=>{t[n]||(t[n]={})})}function oe(t,e,n){!t[e]&&n&&(t[e]=n)}function Fh(t){return typeof t!="string"||!t.startsWith("hsl")?t:px(t)}function Ks(t,e){`${e}Channel`in t||(t[`${e}Channel`]=Bh(Fh(t[e])))}function o5(t){return typeof t=="number"?`${t}px`:typeof t=="string"||typeof t=="function"||Array.isArray(t)?t:"8px"}const is=t=>{try{return t()}catch{}},a5=(t="mui")=>R4(t);function xv(t,e,n,r,s){if(!n)return;n=n===!0?{}:n;const a=s==="dark"?"dark":"light";if(!r){e[s]=t5({...n,palette:{mode:a,...n?.palette},colorSpace:t});return}const{palette:c,...h}=h0({...r,palette:{mode:a,...n?.palette},colorSpace:t});return e[s]={...n,palette:c,opacity:{...vx(a),...n?.opacity},overlays:n?.overlays||Ex(a)},h}function l5(t={},...e){const{colorSchemes:n={light:!0},defaultColorScheme:r,disableCssColorScheme:s=!1,cssVarPrefix:a="mui",nativeColor:c=!1,shouldSkipGeneratingVar:h=n5,colorSchemeSelector:d=n.light&&n.dark?"media":void 0,rootSelector:f=":root",...y}=t,_=Object.keys(n)[0],E=r||(n.light&&_!=="light"?"light":_),T=a5(a),{[E]:C,light:R,dark:I,...D}=n,F={...D};let V=C;if((E==="dark"&&!("dark"in n)||E==="light"&&!("light"in n))&&(V=!0),!V)throw new Error(oo(21,E));let B;c&&(B="oklch");const j=xv(B,F,V,y,E);R&&!F.light&&xv(B,F,R,void 0,"light"),I&&!F.dark&&xv(B,F,I,void 0,"dark");let G={defaultColorScheme:E,...j,cssVarPrefix:a,colorSchemeSelector:d,rootSelector:f,getCssVar:T,colorSchemes:F,font:{...U4(j.typography),...j.font},spacing:o5(y.spacing)};Object.keys(G.colorSchemes).forEach(L=>{const S=G.colorSchemes[L].palette,k=ee=>{const H=ee.split("-"),te=H[1],fe=H[2];return T(ee,S[te][fe])};S.mode==="light"&&(oe(S.common,"background","#fff"),oe(S.common,"onBackground","#000")),S.mode==="dark"&&(oe(S.common,"background","#000"),oe(S.common,"onBackground","#fff"));function Y(ee,H,te){if(B){let fe;return ee===rl&&(fe=`transparent ${((1-te)*100).toFixed(0)}%`),ee===Nt&&(fe=`#000 ${(te*100).toFixed(0)}%`),ee===Pt&&(fe=`#fff ${(te*100).toFixed(0)}%`),`color-mix(in ${B}, ${H}, ${fe})`}return ee(H,te)}if(s5(S,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),S.mode==="light"){oe(S.Alert,"errorColor",Y(Nt,S.error.light,.6)),oe(S.Alert,"infoColor",Y(Nt,S.info.light,.6)),oe(S.Alert,"successColor",Y(Nt,S.success.light,.6)),oe(S.Alert,"warningColor",Y(Nt,S.warning.light,.6)),oe(S.Alert,"errorFilledBg",k("palette-error-main")),oe(S.Alert,"infoFilledBg",k("palette-info-main")),oe(S.Alert,"successFilledBg",k("palette-success-main")),oe(S.Alert,"warningFilledBg",k("palette-warning-main")),oe(S.Alert,"errorFilledColor",is(()=>S.getContrastText(S.error.main))),oe(S.Alert,"infoFilledColor",is(()=>S.getContrastText(S.info.main))),oe(S.Alert,"successFilledColor",is(()=>S.getContrastText(S.success.main))),oe(S.Alert,"warningFilledColor",is(()=>S.getContrastText(S.warning.main))),oe(S.Alert,"errorStandardBg",Y(Pt,S.error.light,.9)),oe(S.Alert,"infoStandardBg",Y(Pt,S.info.light,.9)),oe(S.Alert,"successStandardBg",Y(Pt,S.success.light,.9)),oe(S.Alert,"warningStandardBg",Y(Pt,S.warning.light,.9)),oe(S.Alert,"errorIconColor",k("palette-error-main")),oe(S.Alert,"infoIconColor",k("palette-info-main")),oe(S.Alert,"successIconColor",k("palette-success-main")),oe(S.Alert,"warningIconColor",k("palette-warning-main")),oe(S.AppBar,"defaultBg",k("palette-grey-100")),oe(S.Avatar,"defaultBg",k("palette-grey-400")),oe(S.Button,"inheritContainedBg",k("palette-grey-300")),oe(S.Button,"inheritContainedHoverBg",k("palette-grey-A100")),oe(S.Chip,"defaultBorder",k("palette-grey-400")),oe(S.Chip,"defaultAvatarColor",k("palette-grey-700")),oe(S.Chip,"defaultIconColor",k("palette-grey-700")),oe(S.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),oe(S.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),oe(S.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),oe(S.LinearProgress,"primaryBg",Y(Pt,S.primary.main,.62)),oe(S.LinearProgress,"secondaryBg",Y(Pt,S.secondary.main,.62)),oe(S.LinearProgress,"errorBg",Y(Pt,S.error.main,.62)),oe(S.LinearProgress,"infoBg",Y(Pt,S.info.main,.62)),oe(S.LinearProgress,"successBg",Y(Pt,S.success.main,.62)),oe(S.LinearProgress,"warningBg",Y(Pt,S.warning.main,.62)),oe(S.Skeleton,"bg",B?Y(rl,S.text.primary,.11):`rgba(${k("palette-text-primaryChannel")} / 0.11)`),oe(S.Slider,"primaryTrack",Y(Pt,S.primary.main,.62)),oe(S.Slider,"secondaryTrack",Y(Pt,S.secondary.main,.62)),oe(S.Slider,"errorTrack",Y(Pt,S.error.main,.62)),oe(S.Slider,"infoTrack",Y(Pt,S.info.main,.62)),oe(S.Slider,"successTrack",Y(Pt,S.success.main,.62)),oe(S.Slider,"warningTrack",Y(Pt,S.warning.main,.62));const ee=B?Y(Nt,S.background.default,.6825):Mp(S.background.default,.8);oe(S.SnackbarContent,"bg",ee),oe(S.SnackbarContent,"color",is(()=>B?u0.text.primary:S.getContrastText(ee))),oe(S.SpeedDialAction,"fabHoverBg",Mp(S.background.paper,.15)),oe(S.StepConnector,"border",k("palette-grey-400")),oe(S.StepContent,"border",k("palette-grey-400")),oe(S.Switch,"defaultColor",k("palette-common-white")),oe(S.Switch,"defaultDisabledColor",k("palette-grey-100")),oe(S.Switch,"primaryDisabledColor",Y(Pt,S.primary.main,.62)),oe(S.Switch,"secondaryDisabledColor",Y(Pt,S.secondary.main,.62)),oe(S.Switch,"errorDisabledColor",Y(Pt,S.error.main,.62)),oe(S.Switch,"infoDisabledColor",Y(Pt,S.info.main,.62)),oe(S.Switch,"successDisabledColor",Y(Pt,S.success.main,.62)),oe(S.Switch,"warningDisabledColor",Y(Pt,S.warning.main,.62)),oe(S.TableCell,"border",Y(Pt,Y(rl,S.divider,1),.88)),oe(S.Tooltip,"bg",Y(rl,S.grey[700],.92))}if(S.mode==="dark"){oe(S.Alert,"errorColor",Y(Pt,S.error.light,.6)),oe(S.Alert,"infoColor",Y(Pt,S.info.light,.6)),oe(S.Alert,"successColor",Y(Pt,S.success.light,.6)),oe(S.Alert,"warningColor",Y(Pt,S.warning.light,.6)),oe(S.Alert,"errorFilledBg",k("palette-error-dark")),oe(S.Alert,"infoFilledBg",k("palette-info-dark")),oe(S.Alert,"successFilledBg",k("palette-success-dark")),oe(S.Alert,"warningFilledBg",k("palette-warning-dark")),oe(S.Alert,"errorFilledColor",is(()=>S.getContrastText(S.error.dark))),oe(S.Alert,"infoFilledColor",is(()=>S.getContrastText(S.info.dark))),oe(S.Alert,"successFilledColor",is(()=>S.getContrastText(S.success.dark))),oe(S.Alert,"warningFilledColor",is(()=>S.getContrastText(S.warning.dark))),oe(S.Alert,"errorStandardBg",Y(Nt,S.error.light,.9)),oe(S.Alert,"infoStandardBg",Y(Nt,S.info.light,.9)),oe(S.Alert,"successStandardBg",Y(Nt,S.success.light,.9)),oe(S.Alert,"warningStandardBg",Y(Nt,S.warning.light,.9)),oe(S.Alert,"errorIconColor",k("palette-error-main")),oe(S.Alert,"infoIconColor",k("palette-info-main")),oe(S.Alert,"successIconColor",k("palette-success-main")),oe(S.Alert,"warningIconColor",k("palette-warning-main")),oe(S.AppBar,"defaultBg",k("palette-grey-900")),oe(S.AppBar,"darkBg",k("palette-background-paper")),oe(S.AppBar,"darkColor",k("palette-text-primary")),oe(S.Avatar,"defaultBg",k("palette-grey-600")),oe(S.Button,"inheritContainedBg",k("palette-grey-800")),oe(S.Button,"inheritContainedHoverBg",k("palette-grey-700")),oe(S.Chip,"defaultBorder",k("palette-grey-700")),oe(S.Chip,"defaultAvatarColor",k("palette-grey-300")),oe(S.Chip,"defaultIconColor",k("palette-grey-300")),oe(S.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),oe(S.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),oe(S.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),oe(S.LinearProgress,"primaryBg",Y(Nt,S.primary.main,.5)),oe(S.LinearProgress,"secondaryBg",Y(Nt,S.secondary.main,.5)),oe(S.LinearProgress,"errorBg",Y(Nt,S.error.main,.5)),oe(S.LinearProgress,"infoBg",Y(Nt,S.info.main,.5)),oe(S.LinearProgress,"successBg",Y(Nt,S.success.main,.5)),oe(S.LinearProgress,"warningBg",Y(Nt,S.warning.main,.5)),oe(S.Skeleton,"bg",B?Y(rl,S.text.primary,.13):`rgba(${k("palette-text-primaryChannel")} / 0.13)`),oe(S.Slider,"primaryTrack",Y(Nt,S.primary.main,.5)),oe(S.Slider,"secondaryTrack",Y(Nt,S.secondary.main,.5)),oe(S.Slider,"errorTrack",Y(Nt,S.error.main,.5)),oe(S.Slider,"infoTrack",Y(Nt,S.info.main,.5)),oe(S.Slider,"successTrack",Y(Nt,S.success.main,.5)),oe(S.Slider,"warningTrack",Y(Nt,S.warning.main,.5));const ee=B?Y(Pt,S.background.default,.985):Mp(S.background.default,.98);oe(S.SnackbarContent,"bg",ee),oe(S.SnackbarContent,"color",is(()=>B?gx.text.primary:S.getContrastText(ee))),oe(S.SpeedDialAction,"fabHoverBg",Mp(S.background.paper,.15)),oe(S.StepConnector,"border",k("palette-grey-600")),oe(S.StepContent,"border",k("palette-grey-600")),oe(S.Switch,"defaultColor",k("palette-grey-300")),oe(S.Switch,"defaultDisabledColor",k("palette-grey-600")),oe(S.Switch,"primaryDisabledColor",Y(Nt,S.primary.main,.55)),oe(S.Switch,"secondaryDisabledColor",Y(Nt,S.secondary.main,.55)),oe(S.Switch,"errorDisabledColor",Y(Nt,S.error.main,.55)),oe(S.Switch,"infoDisabledColor",Y(Nt,S.info.main,.55)),oe(S.Switch,"successDisabledColor",Y(Nt,S.success.main,.55)),oe(S.Switch,"warningDisabledColor",Y(Nt,S.warning.main,.55)),oe(S.TableCell,"border",Y(Nt,Y(rl,S.divider,1),.68)),oe(S.Tooltip,"bg",Y(rl,S.grey[700],.92))}Ks(S.background,"default"),Ks(S.background,"paper"),Ks(S.common,"background"),Ks(S.common,"onBackground"),Ks(S,"divider"),Object.keys(S).forEach(ee=>{const H=S[ee];ee!=="tonalOffset"&&H&&typeof H=="object"&&(H.main&&oe(S[ee],"mainChannel",Bh(Fh(H.main))),H.light&&oe(S[ee],"lightChannel",Bh(Fh(H.light))),H.dark&&oe(S[ee],"darkChannel",Bh(Fh(H.dark))),H.contrastText&&oe(S[ee],"contrastTextChannel",Bh(Fh(H.contrastText))),ee==="text"&&(Ks(S[ee],"primary"),Ks(S[ee],"secondary")),ee==="action"&&(H.active&&Ks(S[ee],"active"),H.selected&&Ks(S[ee],"selected")))})}),G=e.reduce((L,S)=>ir(L,S),G);const x={prefix:a,disableCssColorScheme:s,shouldSkipGeneratingVar:h,getSelector:i5(G),enableContrastVars:c},{vars:P,generateThemeVars:N,generateStyleSheets:U}=x4(G,x);return G.vars=P,Object.entries(G.colorSchemes[G.defaultColorScheme]).forEach(([L,S])=>{G[L]=S}),G.generateThemeVars=N,G.generateStyleSheets=U,G.generateSpacing=function(){return cx(y.spacing,NE(this))},G.getColorSchemeSelector=N4(d),G.spacing=G.generateSpacing(),G.shouldSkipGeneratingVar=h,G.unstable_sxConfig={...Hd,...y?.unstable_sxConfig},G.unstable_sx=function(S){return Kc({sx:S,theme:this})},G.toRuntimeSource=_x,G}function q1(t,e,n){t.colorSchemes&&n&&(t.colorSchemes[e]={...n!==!0&&n,palette:DE({...n===!0?{}:n.palette,mode:e})})}function c5(t={},...e){const{palette:n,cssVariables:r=!1,colorSchemes:s=n?void 0:{light:!0},defaultColorScheme:a=n?.mode,...c}=t,h=a||"light",d=s?.[h],f={...s,...n?{[h]:{...typeof d!="boolean"&&d,palette:n}}:void 0};if(r===!1){if(!("colorSchemes"in t))return h0(t,...e);let y=n;"palette"in t||f[h]&&(f[h]!==!0?y=f[h].palette:h==="dark"&&(y={mode:"dark"}));const _=h0({...t,palette:y},...e);return _.defaultColorScheme=h,_.colorSchemes=f,_.palette.mode==="light"&&(_.colorSchemes.light={...f.light!==!0&&f.light,palette:_.palette},q1(_,"dark",f.dark)),_.palette.mode==="dark"&&(_.colorSchemes.dark={...f.dark!==!0&&f.dark,palette:_.palette},q1(_,"light",f.light)),_}return!n&&!("light"in f)&&h==="light"&&(f.light=!0),l5({...c,colorSchemes:f,defaultColorScheme:h,...typeof r!="boolean"&&r},...e)}const ME=c5();function Ag(){const t=ux(ME);return t[vE]||t}function bx(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const qr=t=>bx(t)&&t!=="classes",Ee=c4({themeId:vE,defaultTheme:ME,rootShouldForwardProp:qr});function G1(...t){return t.reduce((e,n)=>n==null?e:function(...s){e.apply(this,s),n.apply(this,s)},()=>{})}function u5(t){return z.jsx(e4,{...t,defaultTheme:ME,themeId:vE})}function h5(t){return function(n){return z.jsx(u5,{styles:typeof t=="function"?r=>t({theme:r,...n}):t})}}function d5(){return n4}const Ct=C4;function Dt(t){return S4(t)}function f5(t){return Et("MuiSvgIcon",t)}bt("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const p5=t=>{const{color:e,fontSize:n,classes:r}=t,s={root:["root",e!=="inherit"&&`color${Re(e)}`,`fontSize${Re(n)}`]};return St(s,f5,r)},m5=Ee("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${Re(n.color)}`],e[`fontSize${Re(n.fontSize)}`]]}})(Ct(({theme:t})=>({userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:t.transitions?.create?.("fill",{duration:(t.vars??t).transitions?.duration?.shorter}),variants:[{props:e=>!e.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:t.typography?.pxToRem?.(20)||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:t.typography?.pxToRem?.(24)||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:t.typography?.pxToRem?.(35)||"2.1875rem"}},...Object.entries((t.vars??t).palette).filter(([,e])=>e&&e.main).map(([e])=>({props:{color:e},style:{color:(t.vars??t).palette?.[e]?.main}})),{props:{color:"action"},style:{color:(t.vars??t).palette?.action?.active}},{props:{color:"disabled"},style:{color:(t.vars??t).palette?.action?.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}))),f0=A.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiSvgIcon"}),{children:s,className:a,color:c="inherit",component:h="svg",fontSize:d="medium",htmlColor:f,inheritViewBox:y=!1,titleAccess:_,viewBox:E="0 0 24 24",...T}=r,C=A.isValidElement(s)&&s.type==="svg",R={...r,color:c,component:h,fontSize:d,instanceFontSize:e.fontSize,inheritViewBox:y,viewBox:E,hasSvgAsChild:C},I={};y||(I.viewBox=E);const D=p5(R);return z.jsxs(m5,{as:h,className:Fe(D.root,a),focusable:"false",color:f,"aria-hidden":_?void 0:!0,role:_?"img":void 0,ref:n,...I,...T,...C&&s.props,ownerState:R,children:[C?s.props.children:s,_?z.jsx("title",{children:_}):null]})});f0.muiName="SvgIcon";function kn(t,e){function n(r,s){return z.jsx(f0,{"data-testid":void 0,ref:s,...r,children:t})}return n.muiName=f0.muiName,A.memo(A.forwardRef(n))}function Sx(t,e=166){let n;function r(...s){const a=()=>{t.apply(this,s)};clearTimeout(n),n=setTimeout(a,e)}return r.clear=()=>{clearTimeout(n)},r}function Rr(t){return t&&t.ownerDocument||document}function lo(t){return Rr(t).defaultView||window}function W1(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function p0(t){const{controlled:e,default:n,name:r,state:s="value"}=t,{current:a}=A.useRef(e!==void 0),[c,h]=A.useState(n),d=a?e:c,f=A.useCallback(y=>{a||h(y)},[]);return[d,f]}function fs(t){const e=A.useRef(t);return El(()=>{e.current=t}),A.useRef((...n)=>(0,e.current)(...n)).current}function dr(...t){const e=A.useRef(void 0),n=A.useCallback(r=>{const s=t.map(a=>{if(a==null)return null;if(typeof a=="function"){const c=a,h=c(r);return typeof h=="function"?h:()=>{c(null)}}return a.current=r,()=>{a.current=null}});return()=>{s.forEach(a=>a?.())}},t);return A.useMemo(()=>t.every(r=>r==null)?null:r=>{e.current&&(e.current(),e.current=void 0),r!=null&&(e.current=n(r))},t)}function g5(t,e){const n=t.charCodeAt(2);return t[0]==="o"&&t[1]==="n"&&n>=65&&n<=90&&typeof e=="function"}function Tx(t,e){if(!t)return e;function n(c,h){const d={};return Object.keys(h).forEach(f=>{g5(f,h[f])&&typeof c[f]=="function"&&(d[f]=(...y)=>{c[f](...y),h[f](...y)})}),d}if(typeof t=="function"||typeof e=="function")return c=>{const h=typeof e=="function"?e(c):e,d=typeof t=="function"?t({...c,...h}):t,f=Fe(c?.className,h?.className,d?.className),y=n(d,h);return{...h,...d,...y,...!!f&&{className:f},...h?.style&&d?.style&&{style:{...h.style,...d.style}},...h?.sx&&d?.sx&&{sx:[...Array.isArray(h.sx)?h.sx:[h.sx],...Array.isArray(d.sx)?d.sx:[d.sx]]}}};const r=e,s=n(t,r),a=Fe(r?.className,t?.className);return{...e,...t,...s,...!!a&&{className:a},...r?.style&&t?.style&&{style:{...r.style,...t.style}},...r?.sx&&t?.sx&&{sx:[...Array.isArray(r.sx)?r.sx:[r.sx],...Array.isArray(t.sx)?t.sx:[t.sx]]}}}function wx(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function m0(t,e){return m0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},m0(t,e)}function Cx(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,m0(t,e)}var Rx=GI();const Lp=yE(Rx),K1={disabled:!1},bm=li.createContext(null);var y5=function(e){return e.scrollTop},jh="unmounted",ol="exited",al="entering",Pc="entered",g0="exiting",Ss=(function(t){Cx(e,t);function e(r,s){var a;a=t.call(this,r,s)||this;var c=s,h=c&&!c.isMounting?r.enter:r.appear,d;return a.appearStatus=null,r.in?h?(d=ol,a.appearStatus=al):d=Pc:r.unmountOnExit||r.mountOnEnter?d=jh:d=ol,a.state={status:d},a.nextCallback=null,a}e.getDerivedStateFromProps=function(s,a){var c=s.in;return c&&a.status===jh?{status:ol}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(s){var a=null;if(s!==this.props){var c=this.state.status;this.props.in?c!==al&&c!==Pc&&(a=al):(c===al||c===Pc)&&(a=g0)}this.updateStatus(!1,a)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var s=this.props.timeout,a,c,h;return a=c=h=s,s!=null&&typeof s!="number"&&(a=s.exit,c=s.enter,h=s.appear!==void 0?s.appear:c),{exit:a,enter:c,appear:h}},n.updateStatus=function(s,a){if(s===void 0&&(s=!1),a!==null)if(this.cancelNextCallback(),a===al){if(this.props.unmountOnExit||this.props.mountOnEnter){var c=this.props.nodeRef?this.props.nodeRef.current:Lp.findDOMNode(this);c&&y5(c)}this.performEnter(s)}else this.performExit();else this.props.unmountOnExit&&this.state.status===ol&&this.setState({status:jh})},n.performEnter=function(s){var a=this,c=this.props.enter,h=this.context?this.context.isMounting:s,d=this.props.nodeRef?[h]:[Lp.findDOMNode(this),h],f=d[0],y=d[1],_=this.getTimeouts(),E=h?_.appear:_.enter;if(!s&&!c||K1.disabled){this.safeSetState({status:Pc},function(){a.props.onEntered(f)});return}this.props.onEnter(f,y),this.safeSetState({status:al},function(){a.props.onEntering(f,y),a.onTransitionEnd(E,function(){a.safeSetState({status:Pc},function(){a.props.onEntered(f,y)})})})},n.performExit=function(){var s=this,a=this.props.exit,c=this.getTimeouts(),h=this.props.nodeRef?void 0:Lp.findDOMNode(this);if(!a||K1.disabled){this.safeSetState({status:ol},function(){s.props.onExited(h)});return}this.props.onExit(h),this.safeSetState({status:g0},function(){s.props.onExiting(h),s.onTransitionEnd(c.exit,function(){s.safeSetState({status:ol},function(){s.props.onExited(h)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(s,a){a=this.setNextCallback(a),this.setState(s,a)},n.setNextCallback=function(s){var a=this,c=!0;return this.nextCallback=function(h){c&&(c=!1,a.nextCallback=null,s(h))},this.nextCallback.cancel=function(){c=!1},this.nextCallback},n.onTransitionEnd=function(s,a){this.setNextCallback(a);var c=this.props.nodeRef?this.props.nodeRef.current:Lp.findDOMNode(this),h=s==null&&!this.props.addEndListener;if(!c||h){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var d=this.props.nodeRef?[this.nextCallback]:[c,this.nextCallback],f=d[0],y=d[1];this.props.addEndListener(f,y)}s!=null&&setTimeout(this.nextCallback,s)},n.render=function(){var s=this.state.status;if(s===jh)return null;var a=this.props,c=a.children;a.in,a.mountOnEnter,a.unmountOnExit,a.appear,a.enter,a.exit,a.timeout,a.addEndListener,a.onEnter,a.onEntering,a.onEntered,a.onExit,a.onExiting,a.onExited,a.nodeRef;var h=wx(a,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return li.createElement(bm.Provider,{value:null},typeof c=="function"?c(s,h):li.cloneElement(li.Children.only(c),h))},e})(li.Component);Ss.contextType=bm;Ss.propTypes={};function xc(){}Ss.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:xc,onEntering:xc,onEntered:xc,onExit:xc,onExiting:xc,onExited:xc};Ss.UNMOUNTED=jh;Ss.EXITED=ol;Ss.ENTERING=al;Ss.ENTERED=Pc;Ss.EXITING=g0;function _5(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function LE(t,e){var n=function(a){return e&&A.isValidElement(a)?e(a):a},r=Object.create(null);return t&&A.Children.map(t,function(s){return s}).forEach(function(s){r[s.key]=n(s)}),r}function v5(t,e){t=t||{},e=e||{};function n(y){return y in e?e[y]:t[y]}var r=Object.create(null),s=[];for(var a in t)a in e?s.length&&(r[a]=s,s=[]):s.push(a);var c,h={};for(var d in e){if(r[d])for(c=0;c<r[d].length;c++){var f=r[d][c];h[r[d][c]]=n(f)}h[d]=n(d)}for(c=0;c<s.length;c++)h[s[c]]=n(s[c]);return h}function hl(t,e,n){return n[e]!=null?n[e]:t.props[e]}function E5(t,e){return LE(t.children,function(n){return A.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:hl(n,"appear",t),enter:hl(n,"enter",t),exit:hl(n,"exit",t)})})}function b5(t,e,n){var r=LE(t.children),s=v5(e,r);return Object.keys(s).forEach(function(a){var c=s[a];if(A.isValidElement(c)){var h=a in e,d=a in r,f=e[a],y=A.isValidElement(f)&&!f.props.in;d&&(!h||y)?s[a]=A.cloneElement(c,{onExited:n.bind(null,c),in:!0,exit:hl(c,"exit",t),enter:hl(c,"enter",t)}):!d&&h&&!y?s[a]=A.cloneElement(c,{in:!1}):d&&h&&A.isValidElement(f)&&(s[a]=A.cloneElement(c,{onExited:n.bind(null,c),in:f.props.in,exit:hl(c,"exit",t),enter:hl(c,"enter",t)}))}}),s}var S5=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},T5={component:"div",childFactory:function(e){return e}},VE=(function(t){Cx(e,t);function e(r,s){var a;a=t.call(this,r,s)||this;var c=a.handleExited.bind(_5(a));return a.state={contextValue:{isMounting:!0},handleExited:c,firstRender:!0},a}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(s,a){var c=a.children,h=a.handleExited,d=a.firstRender;return{children:d?E5(s,h):b5(s,c,h),firstRender:!1}},n.handleExited=function(s,a){var c=LE(this.props.children);s.key in c||(s.props.onExited&&s.props.onExited(a),this.mounted&&this.setState(function(h){var d=gm({},h.children);return delete d[s.key],{children:d}}))},n.render=function(){var s=this.props,a=s.component,c=s.childFactory,h=wx(s,["component","childFactory"]),d=this.state.contextValue,f=S5(this.state.children).map(c);return delete h.appear,delete h.enter,delete h.exit,a===null?li.createElement(bm.Provider,{value:d},f):li.createElement(bm.Provider,{value:d},li.createElement(a,h,f))},e})(li.Component);VE.propTypes={};VE.defaultProps=T5;const Y1={};function Ax(t,e){const n=A.useRef(Y1);return n.current===Y1&&(n.current=t(e)),n}const w5=[];function C5(t){A.useEffect(t,w5)}class UE{static create(){return new UE}currentId=null;start(e,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},e)}clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)};disposeEffect=()=>this.clear}function zE(){const t=Ax(UE.create).current;return C5(t.disposeEffect),t}const Ix=t=>t.scrollTop;function Sm(t,e){const{timeout:n,easing:r,style:s={}}=t;return{duration:s.transitionDuration??(typeof n=="number"?n:n[e.mode]||0),easing:s.transitionTimingFunction??(typeof r=="object"?r[e.mode]:r),delay:s.transitionDelay}}function R5(t){return Et("MuiPaper",t)}bt("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const A5=t=>{const{square:e,elevation:n,variant:r,classes:s}=t,a={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${n}`]};return St(a,R5,s)},I5=Ee("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],!n.square&&e.rounded,n.variant==="elevation"&&e[`elevation${n.elevation}`]]}})(Ct(({theme:t})=>({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow"),variants:[{props:({ownerState:e})=>!e.square,style:{borderRadius:t.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(t.vars||t).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),BE=A.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiPaper"}),s=Ag(),{className:a,component:c="div",elevation:h=1,square:d=!1,variant:f="elevation",...y}=r,_={...r,component:c,elevation:h,square:d,variant:f},E=A5(_);return z.jsx(I5,{as:c,ownerState:_,className:Fe(E.root,a),ref:n,...y,style:{...f==="elevation"&&{"--Paper-shadow":(s.vars||s).shadows[h],...s.vars&&{"--Paper-overlay":s.vars.overlays?.[h]},...!s.vars&&s.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${Em("#fff",d0(h))}, ${Em("#fff",d0(h))})`}},...y.style}})});function Tm(t){return typeof t=="string"}function xx(t,e,n){return t===void 0||Tm(t)?e:{...e,ownerState:{...e.ownerState,...n}}}function Nx(t,e,n){return typeof t=="function"?t(e,n):t}function wm(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function Q1(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function Px(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:s,className:a}=t;if(!e){const T=Fe(n?.className,a,s?.className,r?.className),C={...n?.style,...s?.style,...r?.style},R={...n,...s,...r};return T.length>0&&(R.className=T),Object.keys(C).length>0&&(R.style=C),{props:R,internalRef:void 0}}const c=wm({...s,...r}),h=Q1(r),d=Q1(s),f=e(c),y=Fe(f?.className,n?.className,a,s?.className,r?.className),_={...f?.style,...n?.style,...s?.style,...r?.style},E={...f,...n,...d,...h};return y.length>0&&(E.className=y),Object.keys(_).length>0&&(E.style=_),{props:E,internalRef:f.ref}}function ct(t,e){const{className:n,elementType:r,ownerState:s,externalForwardedProps:a,internalForwardedProps:c,shouldForwardComponentProp:h=!1,...d}=e,{component:f,slots:y={[t]:void 0},slotProps:_={[t]:void 0},...E}=a,T=y[t]||r,C=Nx(_[t],s),{props:{component:R,...I},internalRef:D}=Px({className:n,...d,externalForwardedProps:t==="root"?E:void 0,externalSlotProps:C}),F=dr(D,C?.ref,e.ref),V=t==="root"?R||f:R,B=xx(T,{...t==="root"&&!f&&!y[t]&&c,...t!=="root"&&!y[t]&&c,...I,...V&&!h&&{as:V},...V&&h&&{component:V},ref:F},s);return[T,B]}function X1(t){try{return t.matches(":focus-visible")}catch{}return!1}class Cm{static create(){return new Cm}static use(){const e=Ax(Cm.create).current,[n,r]=A.useState(!1);return e.shouldMount=n,e.setShouldMount=r,A.useEffect(e.mountEffect,[n]),e}constructor(){this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}mount(){return this.mounted||(this.mounted=N5(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}mountEffect=()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())};start(...e){this.mount().then(()=>this.ref.current?.start(...e))}stop(...e){this.mount().then(()=>this.ref.current?.stop(...e))}pulsate(...e){this.mount().then(()=>this.ref.current?.pulsate(...e))}}function x5(){return Cm.use()}function N5(){let t,e;const n=new Promise((r,s)=>{t=r,e=s});return n.resolve=t,n.reject=e,n}function P5(t){const{className:e,classes:n,pulsate:r=!1,rippleX:s,rippleY:a,rippleSize:c,in:h,onExited:d,timeout:f}=t,[y,_]=A.useState(!1),E=Fe(e,n.ripple,n.rippleVisible,r&&n.ripplePulsate),T={width:c,height:c,top:-(c/2)+a,left:-(c/2)+s},C=Fe(n.child,y&&n.childLeaving,r&&n.childPulsate);return!h&&!y&&_(!0),A.useEffect(()=>{if(!h&&d!=null){const R=setTimeout(d,f);return()=>{clearTimeout(R)}}},[d,h,f]),z.jsx("span",{className:E,style:T,children:z.jsx("span",{className:C})})}const ii=bt("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),y0=550,k5=80,O5=Bd`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,D5=Bd`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,M5=Bd`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,L5=Ee("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),V5=Ee(P5,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${ii.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${O5};
    animation-duration: ${y0}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  &.${ii.ripplePulsate} {
    animation-duration: ${({theme:t})=>t.transitions.duration.shorter}ms;
  }

  & .${ii.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${ii.childLeaving} {
    opacity: 0;
    animation-name: ${D5};
    animation-duration: ${y0}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  & .${ii.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${M5};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,U5=A.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiTouchRipple"}),{center:s=!1,classes:a={},className:c,...h}=r,[d,f]=A.useState([]),y=A.useRef(0),_=A.useRef(null);A.useEffect(()=>{_.current&&(_.current(),_.current=null)},[d]);const E=A.useRef(!1),T=zE(),C=A.useRef(null),R=A.useRef(null),I=A.useCallback(B=>{const{pulsate:j,rippleX:G,rippleY:x,rippleSize:P,cb:N}=B;f(U=>[...U,z.jsx(V5,{classes:{ripple:Fe(a.ripple,ii.ripple),rippleVisible:Fe(a.rippleVisible,ii.rippleVisible),ripplePulsate:Fe(a.ripplePulsate,ii.ripplePulsate),child:Fe(a.child,ii.child),childLeaving:Fe(a.childLeaving,ii.childLeaving),childPulsate:Fe(a.childPulsate,ii.childPulsate)},timeout:y0,pulsate:j,rippleX:G,rippleY:x,rippleSize:P},y.current)]),y.current+=1,_.current=N},[a]),D=A.useCallback((B={},j={},G=()=>{})=>{const{pulsate:x=!1,center:P=s||j.pulsate,fakeElement:N=!1}=j;if(B?.type==="mousedown"&&E.current){E.current=!1;return}B?.type==="touchstart"&&(E.current=!0);const U=N?null:R.current,L=U?U.getBoundingClientRect():{width:0,height:0,left:0,top:0};let S,k,Y;if(P||B===void 0||B.clientX===0&&B.clientY===0||!B.clientX&&!B.touches)S=Math.round(L.width/2),k=Math.round(L.height/2);else{const{clientX:ee,clientY:H}=B.touches&&B.touches.length>0?B.touches[0]:B;S=Math.round(ee-L.left),k=Math.round(H-L.top)}if(P)Y=Math.sqrt((2*L.width**2+L.height**2)/3),Y%2===0&&(Y+=1);else{const ee=Math.max(Math.abs((U?U.clientWidth:0)-S),S)*2+2,H=Math.max(Math.abs((U?U.clientHeight:0)-k),k)*2+2;Y=Math.sqrt(ee**2+H**2)}B?.touches?C.current===null&&(C.current=()=>{I({pulsate:x,rippleX:S,rippleY:k,rippleSize:Y,cb:G})},T.start(k5,()=>{C.current&&(C.current(),C.current=null)})):I({pulsate:x,rippleX:S,rippleY:k,rippleSize:Y,cb:G})},[s,I,T]),F=A.useCallback(()=>{D({},{pulsate:!0})},[D]),V=A.useCallback((B,j)=>{if(T.clear(),B?.type==="touchend"&&C.current){C.current(),C.current=null,T.start(0,()=>{V(B,j)});return}C.current=null,f(G=>G.length>0?G.slice(1):G),_.current=j},[T]);return A.useImperativeHandle(n,()=>({pulsate:F,start:D,stop:V}),[F,D,V]),z.jsx(L5,{className:Fe(ii.root,a.root,c),ref:R,...h,children:z.jsx(VE,{component:null,exit:!0,children:d})})});function z5(t){return Et("MuiButtonBase",t)}const B5=bt("MuiButtonBase",["root","disabled","focusVisible"]),F5=t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:s}=t,c=St({root:["root",e&&"disabled",n&&"focusVisible"]},z5,s);return n&&r&&(c.root+=` ${r}`),c},j5=Ee("button",{name:"MuiButtonBase",slot:"Root"})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${B5.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),FE=A.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiButtonBase"}),{action:s,centerRipple:a=!1,children:c,className:h,component:d="button",disabled:f=!1,disableRipple:y=!1,disableTouchRipple:_=!1,focusRipple:E=!1,focusVisibleClassName:T,LinkComponent:C="a",onBlur:R,onClick:I,onContextMenu:D,onDragLeave:F,onFocus:V,onFocusVisible:B,onKeyDown:j,onKeyUp:G,onMouseDown:x,onMouseLeave:P,onMouseUp:N,onTouchEnd:U,onTouchMove:L,onTouchStart:S,tabIndex:k=0,TouchRippleProps:Y,touchRippleRef:ee,type:H,...te}=r,fe=A.useRef(null),le=x5(),be=dr(le.ref,ee),[$,ie]=A.useState(!1);f&&$&&ie(!1),A.useImperativeHandle(s,()=>({focusVisible:()=>{ie(!0),fe.current.focus()}}),[]);const de=le.shouldMount&&!y&&!f;A.useEffect(()=>{$&&E&&!y&&le.pulsate()},[y,E,$,le]);const pe=Ys(le,"start",x,_),me=Ys(le,"stop",D,_),ve=Ys(le,"stop",F,_),Ne=Ys(le,"stop",N,_),it=Ys(le,"stop",Pe=>{$&&Pe.preventDefault(),P&&P(Pe)},_),De=Ys(le,"start",S,_),ke=Ys(le,"stop",U,_),Ge=Ys(le,"stop",L,_),Qe=Ys(le,"stop",Pe=>{X1(Pe.target)||ie(!1),R&&R(Pe)},!1),ft=fs(Pe=>{fe.current||(fe.current=Pe.currentTarget),X1(Pe.target)&&(ie(!0),B&&B(Pe)),V&&V(Pe)}),Ae=()=>{const Pe=fe.current;return d&&d!=="button"&&!(Pe.tagName==="A"&&Pe.href)},ut=fs(Pe=>{E&&!Pe.repeat&&$&&Pe.key===" "&&le.stop(Pe,()=>{le.start(Pe)}),Pe.target===Pe.currentTarget&&Ae()&&Pe.key===" "&&Pe.preventDefault(),j&&j(Pe),Pe.target===Pe.currentTarget&&Ae()&&Pe.key==="Enter"&&!f&&(Pe.preventDefault(),I&&I(Pe))}),ln=fs(Pe=>{E&&Pe.key===" "&&$&&!Pe.defaultPrevented&&le.stop(Pe,()=>{le.pulsate(Pe)}),G&&G(Pe),I&&Pe.target===Pe.currentTarget&&Ae()&&Pe.key===" "&&!Pe.defaultPrevented&&I(Pe)});let cn=d;cn==="button"&&(te.href||te.to)&&(cn=C);const Kt={};cn==="button"?(Kt.type=H===void 0?"button":H,Kt.disabled=f):(!te.href&&!te.to&&(Kt.role="button"),f&&(Kt["aria-disabled"]=f));const pt=dr(n,fe),st={...r,centerRipple:a,component:d,disabled:f,disableRipple:y,disableTouchRipple:_,focusRipple:E,tabIndex:k,focusVisible:$},Mt=F5(st);return z.jsxs(j5,{as:cn,className:Fe(Mt.root,h),ownerState:st,onBlur:Qe,onClick:I,onContextMenu:me,onFocus:ft,onKeyDown:ut,onKeyUp:ln,onMouseDown:pe,onMouseLeave:it,onMouseUp:Ne,onDragLeave:ve,onTouchEnd:ke,onTouchMove:Ge,onTouchStart:De,ref:pt,tabIndex:f?-1:k,type:H,...Kt,...te,children:[c,de?z.jsx(U5,{ref:be,center:a,...Y}):null]})});function Ys(t,e,n,r=!1){return fs(s=>(n&&n(s),r||t[e](s),!0))}function H5(t){return typeof t.main=="string"}function $5(t,e=[]){if(!H5(t))return!1;for(const n of e)if(!t.hasOwnProperty(n)||typeof t[n]!="string")return!1;return!0}function Ar(t=[]){return([,e])=>e&&$5(e,t)}function q5(t){return Et("MuiAlert",t)}const J1=bt("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);function G5(t){return Et("MuiCircularProgress",t)}bt("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","track","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const Ai=44,_0=Bd`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,v0=Bd`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,W5=typeof _0!="string"?AE`
        animation: ${_0} 1.4s linear infinite;
      `:null,K5=typeof v0!="string"?AE`
        animation: ${v0} 1.4s ease-in-out infinite;
      `:null,Y5=t=>{const{classes:e,variant:n,color:r,disableShrink:s}=t,a={root:["root",n,`color${Re(r)}`],svg:["svg"],track:["track"],circle:["circle",`circle${Re(n)}`,s&&"circleDisableShrink"]};return St(a,G5,e)},Q5=Ee("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`color${Re(n.color)}`]]}})(Ct(({theme:t})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("transform")}},{props:{variant:"indeterminate"},style:W5||{animation:`${_0} 1.4s linear infinite`}},...Object.entries(t.palette).filter(Ar()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}}))]}))),X5=Ee("svg",{name:"MuiCircularProgress",slot:"Svg"})({display:"block"}),J5=Ee("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.circle,e[`circle${Re(n.variant)}`],n.disableShrink&&e.circleDisableShrink]}})(Ct(({theme:t})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink,style:K5||{animation:`${v0} 1.4s ease-in-out infinite`}}]}))),Z5=Ee("circle",{name:"MuiCircularProgress",slot:"Track"})(Ct(({theme:t})=>({stroke:"currentColor",opacity:(t.vars||t).palette.action.activatedOpacity}))),Ig=A.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiCircularProgress"}),{className:s,color:a="primary",disableShrink:c=!1,enableTrackSlot:h=!1,size:d=40,style:f,thickness:y=3.6,value:_=0,variant:E="indeterminate",...T}=r,C={...r,color:a,disableShrink:c,size:d,thickness:y,value:_,variant:E,enableTrackSlot:h},R=Y5(C),I={},D={},F={};if(E==="determinate"){const V=2*Math.PI*((Ai-y)/2);I.strokeDasharray=V.toFixed(3),F["aria-valuenow"]=Math.round(_),I.strokeDashoffset=`${((100-_)/100*V).toFixed(3)}px`,D.transform="rotate(-90deg)"}return z.jsx(Q5,{className:Fe(R.root,s),style:{width:d,height:d,...D,...f},ownerState:C,ref:n,role:"progressbar",...F,...T,children:z.jsxs(X5,{className:R.svg,ownerState:C,viewBox:`${Ai/2} ${Ai/2} ${Ai} ${Ai}`,children:[h?z.jsx(Z5,{className:R.track,ownerState:C,cx:Ai,cy:Ai,r:(Ai-y)/2,fill:"none",strokeWidth:y,"aria-hidden":"true"}):null,z.jsx(J5,{className:R.circle,style:I,ownerState:C,cx:Ai,cy:Ai,r:(Ai-y)/2,fill:"none",strokeWidth:y})]})})});function eV(t){return Et("MuiIconButton",t)}const Z1=bt("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),tV=t=>{const{classes:e,disabled:n,color:r,edge:s,size:a,loading:c}=t,h={root:["root",c&&"loading",n&&"disabled",r!=="default"&&`color${Re(r)}`,s&&`edge${Re(s)}`,`size${Re(a)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return St(h,eV,e)},nV=Ee(FE,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.loading&&e.loading,n.color!=="default"&&e[`color${Re(n.color)}`],n.edge&&e[`edge${Re(n.edge)}`],e[`size${Re(n.size)}`]]}})(Ct(({theme:t})=>({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),variants:[{props:e=>!e.disableRipple,style:{"--IconButton-hoverBg":t.alpha((t.vars||t).palette.action.active,(t.vars||t).palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),Ct(({theme:t})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(t.palette).filter(Ar()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}})),...Object.entries(t.palette).filter(Ar()).map(([e])=>({props:{color:e},style:{"--IconButton-hoverBg":t.alpha((t.vars||t).palette[e].main,(t.vars||t).palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:t.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:t.typography.pxToRem(28)}}],[`&.${Z1.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled},[`&.${Z1.loading}`]:{color:"transparent"}}))),rV=Ee("span",{name:"MuiIconButton",slot:"LoadingIndicator"})(({theme:t})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(t.vars||t).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),us=A.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiIconButton"}),{edge:s=!1,children:a,className:c,color:h="default",disabled:d=!1,disableFocusRipple:f=!1,size:y="medium",id:_,loading:E=null,loadingIndicator:T,...C}=r,R=Rg(_),I=T??z.jsx(Ig,{"aria-labelledby":R,color:"inherit",size:16}),D={...r,edge:s,color:h,disabled:d,disableFocusRipple:f,loading:E,loadingIndicator:I,size:y},F=tV(D);return z.jsxs(nV,{id:E?R:_,className:Fe(F.root,c),centerRipple:!0,focusRipple:!f,disabled:d||E,ref:n,...C,ownerState:D,children:[typeof E=="boolean"&&z.jsx("span",{className:F.loadingWrapper,style:{display:"contents"},children:z.jsx(rV,{className:F.loadingIndicator,ownerState:D,children:E&&I})}),a]})}),iV=kn(z.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"})),sV=kn(z.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"})),oV=kn(z.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"})),aV=kn(z.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"})),lV=kn(z.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),cV=t=>{const{variant:e,color:n,severity:r,classes:s}=t,a={root:["root",`color${Re(n||r)}`,`${e}${Re(n||r)}`,`${e}`],icon:["icon"],message:["message"],action:["action"]};return St(a,q5,s)},uV=Ee(BE,{name:"MuiAlert",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${Re(n.color||n.severity)}`]]}})(Ct(({theme:t})=>{const e=t.palette.mode==="light"?t.darken:t.lighten,n=t.palette.mode==="light"?t.lighten:t.darken;return{...t.typography.body2,backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(t.palette).filter(Ar(["light"])).map(([r])=>({props:{colorSeverity:r,variant:"standard"},style:{color:t.vars?t.vars.palette.Alert[`${r}Color`]:e(t.palette[r].light,.6),backgroundColor:t.vars?t.vars.palette.Alert[`${r}StandardBg`]:n(t.palette[r].light,.9),[`& .${J1.icon}`]:t.vars?{color:t.vars.palette.Alert[`${r}IconColor`]}:{color:t.palette[r].main}}})),...Object.entries(t.palette).filter(Ar(["light"])).map(([r])=>({props:{colorSeverity:r,variant:"outlined"},style:{color:t.vars?t.vars.palette.Alert[`${r}Color`]:e(t.palette[r].light,.6),border:`1px solid ${(t.vars||t).palette[r].light}`,[`& .${J1.icon}`]:t.vars?{color:t.vars.palette.Alert[`${r}IconColor`]}:{color:t.palette[r].main}}})),...Object.entries(t.palette).filter(Ar(["dark"])).map(([r])=>({props:{colorSeverity:r,variant:"filled"},style:{fontWeight:t.typography.fontWeightMedium,...t.vars?{color:t.vars.palette.Alert[`${r}FilledColor`],backgroundColor:t.vars.palette.Alert[`${r}FilledBg`]}:{backgroundColor:t.palette.mode==="dark"?t.palette[r].dark:t.palette[r].main,color:t.palette.getContrastText(t.palette[r].main)}}}))]}})),hV=Ee("div",{name:"MuiAlert",slot:"Icon"})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),dV=Ee("div",{name:"MuiAlert",slot:"Message"})({padding:"8px 0",minWidth:0,overflow:"auto"}),fV=Ee("div",{name:"MuiAlert",slot:"Action"})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),eR={success:z.jsx(iV,{fontSize:"inherit"}),warning:z.jsx(sV,{fontSize:"inherit"}),error:z.jsx(oV,{fontSize:"inherit"}),info:z.jsx(aV,{fontSize:"inherit"})},pV=A.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiAlert"}),{action:s,children:a,className:c,closeText:h="Close",color:d,components:f={},componentsProps:y={},icon:_,iconMapping:E=eR,onClose:T,role:C="alert",severity:R="success",slotProps:I={},slots:D={},variant:F="standard",...V}=r,B={...r,color:d,severity:R,variant:F,colorSeverity:d||R},j=cV(B),G={slots:{closeButton:f.CloseButton,closeIcon:f.CloseIcon,...D},slotProps:{...y,...I}},[x,P]=ct("root",{ref:n,shouldForwardComponentProp:!0,className:Fe(j.root,c),elementType:uV,externalForwardedProps:{...G,...V},ownerState:B,additionalProps:{role:C,elevation:0}}),[N,U]=ct("icon",{className:j.icon,elementType:hV,externalForwardedProps:G,ownerState:B}),[L,S]=ct("message",{className:j.message,elementType:dV,externalForwardedProps:G,ownerState:B}),[k,Y]=ct("action",{className:j.action,elementType:fV,externalForwardedProps:G,ownerState:B}),[ee,H]=ct("closeButton",{elementType:us,externalForwardedProps:G,ownerState:B}),[te,fe]=ct("closeIcon",{elementType:lV,externalForwardedProps:G,ownerState:B});return z.jsxs(x,{...P,children:[_!==!1?z.jsx(N,{...U,children:_||E[R]||eR[R]}):null,z.jsx(L,{...S,children:a}),s!=null?z.jsx(k,{...Y,children:s}):null,s==null&&T?z.jsx(k,{...Y,children:z.jsx(ee,{size:"small","aria-label":h,title:h,color:"inherit",onClick:T,...H,children:z.jsx(te,{fontSize:"small",...fe})})}):null]})});function mV(t){return Et("MuiTypography",t)}bt("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const gV={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},yV=d5(),_V=t=>{const{align:e,gutterBottom:n,noWrap:r,paragraph:s,variant:a,classes:c}=t,h={root:["root",a,t.align!=="inherit"&&`align${Re(e)}`,n&&"gutterBottom",r&&"noWrap",s&&"paragraph"]};return St(h,mV,c)},vV=Ee("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],n.align!=="inherit"&&e[`align${Re(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})(Ct(({theme:t})=>({margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(t.typography).filter(([e,n])=>e!=="inherit"&&n&&typeof n=="object").map(([e,n])=>({props:{variant:e},style:n})),...Object.entries(t.palette).filter(Ar()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}})),...Object.entries(t.palette?.text||{}).filter(([,e])=>typeof e=="string").map(([e])=>({props:{color:`text${Re(e)}`},style:{color:(t.vars||t).palette.text[e]}})),{props:({ownerState:e})=>e.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:e})=>e.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:e})=>e.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:e})=>e.paragraph,style:{marginBottom:16}}]}))),tR={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},nR=A.forwardRef(function(e,n){const{color:r,...s}=Dt({props:e,name:"MuiTypography"}),a=!gV[r],c=yV({...s,...a&&{color:r}}),{align:h="inherit",className:d,component:f,gutterBottom:y=!1,noWrap:_=!1,paragraph:E=!1,variant:T="body1",variantMapping:C=tR,...R}=c,I={...c,align:h,color:r,className:d,component:f,gutterBottom:y,noWrap:_,paragraph:E,variant:T,variantMapping:C},D=f||(E?"p":C[T]||tR[T])||"span",F=_V(I);return z.jsx(vV,{as:D,ref:n,className:Fe(F.root,d),...R,ownerState:I,style:{...h!=="inherit"&&{"--Typography-textAlign":h},...R.style}})});function EV(t){const{elementType:e,externalSlotProps:n,ownerState:r,skipResolvingSlotProps:s=!1,...a}=t,c=s?{}:Nx(n,r),{props:h,internalRef:d}=Px({...a,externalSlotProps:c}),f=dr(d,c?.ref,t.additionalProps?.ref);return xx(e,{...h,ref:f},r)}function du(t){return parseInt(A.version,10)>=19?t?.props?.ref||null:t?.ref||null}function bV(t){return typeof t=="function"?t():t}const SV=A.forwardRef(function(e,n){const{children:r,container:s,disablePortal:a=!1}=e,[c,h]=A.useState(null),d=dr(A.isValidElement(r)?du(r):null,n);if(El(()=>{a||h(bV(s)||document.body)},[s,a]),El(()=>{if(c&&!a)return W1(n,c),()=>{W1(n,null)}},[n,c,a]),a){if(A.isValidElement(r)){const f={ref:d};return A.cloneElement(r,f)}return r}return c&&Rx.createPortal(r,c)});function Vp(t){return parseInt(t,10)||0}const TV={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function wV(t){for(const e in t)return!1;return!0}function rR(t){return wV(t)||t.outerHeightStyle===0&&!t.overflowing}const CV=A.forwardRef(function(e,n){const{onChange:r,maxRows:s,minRows:a=1,style:c,value:h,...d}=e,{current:f}=A.useRef(h!=null),y=A.useRef(null),_=dr(n,y),E=A.useRef(null),T=A.useRef(null),C=A.useCallback(()=>{const V=y.current,B=T.current;if(!V||!B)return;const G=lo(V).getComputedStyle(V);if(G.width==="0px")return{outerHeightStyle:0,overflowing:!1};B.style.width=G.width,B.value=V.value||e.placeholder||"x",B.value.slice(-1)===`
`&&(B.value+=" ");const x=G.boxSizing,P=Vp(G.paddingBottom)+Vp(G.paddingTop),N=Vp(G.borderBottomWidth)+Vp(G.borderTopWidth),U=B.scrollHeight;B.value="x";const L=B.scrollHeight;let S=U;a&&(S=Math.max(Number(a)*L,S)),s&&(S=Math.min(Number(s)*L,S)),S=Math.max(S,L);const k=S+(x==="border-box"?P+N:0),Y=Math.abs(S-U)<=1;return{outerHeightStyle:k,overflowing:Y}},[s,a,e.placeholder]),R=fs(()=>{const V=y.current,B=C();if(!V||!B||rR(B))return!1;const j=B.outerHeightStyle;return E.current!=null&&E.current!==j}),I=A.useCallback(()=>{const V=y.current,B=C();if(!V||!B||rR(B))return;const j=B.outerHeightStyle;E.current!==j&&(E.current=j,V.style.height=`${j}px`),V.style.overflow=B.overflowing?"hidden":""},[C]),D=A.useRef(-1);El(()=>{const V=Sx(I),B=y?.current;if(!B)return;const j=lo(B);j.addEventListener("resize",V);let G;return typeof ResizeObserver<"u"&&(G=new ResizeObserver(()=>{R()&&(G.unobserve(B),cancelAnimationFrame(D.current),I(),D.current=requestAnimationFrame(()=>{G.observe(B)}))}),G.observe(B)),()=>{V.clear(),cancelAnimationFrame(D.current),j.removeEventListener("resize",V),G&&G.disconnect()}},[C,I,R]),El(()=>{I()});const F=V=>{f||I();const B=V.target,j=B.value.length,G=B.value.endsWith(`
`),x=B.selectionStart===j;G&&x&&B.setSelectionRange(j,j),r&&r(V)};return z.jsxs(A.Fragment,{children:[z.jsx("textarea",{value:h,onChange:F,ref:_,rows:a,style:c,...d}),z.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:T,tabIndex:-1,style:{...TV.shadow,...c,paddingTop:0,paddingBottom:0}})]})});function Pl({props:t,states:e,muiFormControl:n}){return e.reduce((r,s)=>(r[s]=t[s],n&&typeof t[s]>"u"&&(r[s]=n[s]),r),{})}const jE=A.createContext(void 0);function Sa(){return A.useContext(jE)}function iR(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function Rm(t,e=!1){return t&&(iR(t.value)&&t.value!==""||e&&iR(t.defaultValue)&&t.defaultValue!=="")}function RV(t){return t.startAdornment}function AV(t){return Et("MuiInputBase",t)}const Yc=bt("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var sR;const xg=(t,e)=>{const{ownerState:n}=t;return[e.root,n.formControl&&e.formControl,n.startAdornment&&e.adornedStart,n.endAdornment&&e.adornedEnd,n.error&&e.error,n.size==="small"&&e.sizeSmall,n.multiline&&e.multiline,n.color&&e[`color${Re(n.color)}`],n.fullWidth&&e.fullWidth,n.hiddenLabel&&e.hiddenLabel]},Ng=(t,e)=>{const{ownerState:n}=t;return[e.input,n.size==="small"&&e.inputSizeSmall,n.multiline&&e.inputMultiline,n.type==="search"&&e.inputTypeSearch,n.startAdornment&&e.inputAdornedStart,n.endAdornment&&e.inputAdornedEnd,n.hiddenLabel&&e.inputHiddenLabel]},IV=t=>{const{classes:e,color:n,disabled:r,error:s,endAdornment:a,focused:c,formControl:h,fullWidth:d,hiddenLabel:f,multiline:y,readOnly:_,size:E,startAdornment:T,type:C}=t,R={root:["root",`color${Re(n)}`,r&&"disabled",s&&"error",d&&"fullWidth",c&&"focused",h&&"formControl",E&&E!=="medium"&&`size${Re(E)}`,y&&"multiline",T&&"adornedStart",a&&"adornedEnd",f&&"hiddenLabel",_&&"readOnly"],input:["input",r&&"disabled",C==="search"&&"inputTypeSearch",y&&"inputMultiline",E==="small"&&"inputSizeSmall",f&&"inputHiddenLabel",T&&"inputAdornedStart",a&&"inputAdornedEnd",_&&"readOnly"]};return St(R,AV,e)},Pg=Ee("div",{name:"MuiInputBase",slot:"Root",overridesResolver:xg})(Ct(({theme:t})=>({...t.typography.body1,color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Yc.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:e})=>e.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:e,size:n})=>e.multiline&&n==="small",style:{paddingTop:1}},{props:({ownerState:e})=>e.fullWidth,style:{width:"100%"}}]}))),kg=Ee("input",{name:"MuiInputBase",slot:"Input",overridesResolver:Ng})(Ct(({theme:t})=>{const e=t.palette.mode==="light",n={color:"currentColor",...t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5},transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})},r={opacity:"0 !important"},s=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Yc.formControl} &`]:{"&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&::-ms-input-placeholder":r,"&:focus::-webkit-input-placeholder":s,"&:focus::-moz-placeholder":s,"&:focus::-ms-input-placeholder":s},[`&.${Yc.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},variants:[{props:({ownerState:a})=>!a.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:a})=>a.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),oR=h5({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),HE=A.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiInputBase"}),{"aria-describedby":s,autoComplete:a,autoFocus:c,className:h,color:d,components:f={},componentsProps:y={},defaultValue:_,disabled:E,disableInjectingGlobalStyles:T,endAdornment:C,error:R,fullWidth:I=!1,id:D,inputComponent:F="input",inputProps:V={},inputRef:B,margin:j,maxRows:G,minRows:x,multiline:P=!1,name:N,onBlur:U,onChange:L,onClick:S,onFocus:k,onKeyDown:Y,onKeyUp:ee,placeholder:H,readOnly:te,renderSuffix:fe,rows:le,size:be,slotProps:$={},slots:ie={},startAdornment:de,type:pe="text",value:me,...ve}=r,Ne=V.value!=null?V.value:me,{current:it}=A.useRef(Ne!=null),De=A.useRef(),ke=A.useCallback(Rt=>{},[]),Ge=dr(De,B,V.ref,ke),[Qe,ft]=A.useState(!1),Ae=Sa(),ut=Pl({props:r,muiFormControl:Ae,states:["color","disabled","error","hiddenLabel","size","required","filled"]});ut.focused=Ae?Ae.focused:Qe,A.useEffect(()=>{!Ae&&E&&Qe&&(ft(!1),U&&U())},[Ae,E,Qe,U]);const ln=Ae&&Ae.onFilled,cn=Ae&&Ae.onEmpty,Kt=A.useCallback(Rt=>{Rm(Rt)?ln&&ln():cn&&cn()},[ln,cn]);El(()=>{it&&Kt({value:Ne})},[Ne,Kt,it]);const pt=Rt=>{k&&k(Rt),V.onFocus&&V.onFocus(Rt),Ae&&Ae.onFocus?Ae.onFocus(Rt):ft(!0)},st=Rt=>{U&&U(Rt),V.onBlur&&V.onBlur(Rt),Ae&&Ae.onBlur?Ae.onBlur(Rt):ft(!1)},Mt=(Rt,...mi)=>{if(!it){const Jn=Rt.target||De.current;if(Jn==null)throw new Error(oo(1));Kt({value:Jn.value})}V.onChange&&V.onChange(Rt,...mi),L&&L(Rt,...mi)};A.useEffect(()=>{Kt(De.current)},[]);const Pe=Rt=>{De.current&&Rt.currentTarget===Rt.target&&De.current.focus(),S&&S(Rt)};let Nr=F,lt=V;P&&Nr==="input"&&(le?lt={type:void 0,minRows:le,maxRows:le,...lt}:lt={type:void 0,maxRows:G,minRows:x,...lt},Nr=CV);const fr=Rt=>{Kt(Rt.animationName==="mui-auto-fill-cancel"?De.current:{value:"x"})};A.useEffect(()=>{Ae&&Ae.setAdornedStart(!!de)},[Ae,de]);const fi={...r,color:ut.color||"primary",disabled:ut.disabled,endAdornment:C,error:ut.error,focused:ut.focused,formControl:Ae,fullWidth:I,hiddenLabel:ut.hiddenLabel,multiline:P,size:ut.size,startAdornment:de,type:pe},pi=IV(fi),ar=ie.root||f.Root||Pg,Li=$.root||y.root||{},pr=ie.input||f.Input||kg;return lt={...lt,...$.input??y.input},z.jsxs(A.Fragment,{children:[!T&&typeof oR=="function"&&(sR||(sR=z.jsx(oR,{}))),z.jsxs(ar,{...Li,ref:n,onClick:Pe,...ve,...!Tm(ar)&&{ownerState:{...fi,...Li.ownerState}},className:Fe(pi.root,Li.className,h,te&&"MuiInputBase-readOnly"),children:[de,z.jsx(jE.Provider,{value:null,children:z.jsx(pr,{"aria-invalid":ut.error,"aria-describedby":s,autoComplete:a,autoFocus:c,defaultValue:_,disabled:ut.disabled,id:D,onAnimationStart:fr,name:N,placeholder:H,readOnly:te,required:ut.required,rows:le,value:Ne,onKeyDown:Y,onKeyUp:ee,type:pe,...lt,...!Tm(pr)&&{as:Nr,ownerState:{...fi,...lt.ownerState}},ref:Ge,className:Fe(pi.input,lt.className,te&&"MuiInputBase-readOnly"),onBlur:st,onChange:Mt,onFocus:pt})}),C,fe?fe({...ut,startAdornment:de}):null]})]})});function xV(t){return Et("MuiInput",t)}const Ph={...Yc,...bt("MuiInput",["root","underline","input"])};function NV(t){return Et("MuiOutlinedInput",t)}const ss={...Yc,...bt("MuiOutlinedInput",["root","notchedOutline","input"])};function PV(t){return Et("MuiFilledInput",t)}const il={...Yc,...bt("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},kV=kn(z.jsx("path",{d:"M7 10l5 5 5-5z"})),OV=kn(z.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}));function DV(t){return Et("MuiAvatar",t)}bt("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const MV=t=>{const{classes:e,variant:n,colorDefault:r}=t;return St({root:["root",n,r&&"colorDefault"],img:["img"],fallback:["fallback"]},DV,e)},LV=Ee("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],n.colorDefault&&e.colorDefault]}})(Ct(({theme:t})=>({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:{color:(t.vars||t).palette.background.default,...t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:{backgroundColor:t.palette.grey[400],...t.applyStyles("dark",{backgroundColor:t.palette.grey[600]})}}}]}))),VV=Ee("img",{name:"MuiAvatar",slot:"Img"})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),UV=Ee(OV,{name:"MuiAvatar",slot:"Fallback"})({width:"75%",height:"75%"});function zV({crossOrigin:t,referrerPolicy:e,src:n,srcSet:r}){const[s,a]=A.useState(!1);return A.useEffect(()=>{if(!n&&!r)return;a(!1);let c=!0;const h=new Image;return h.onload=()=>{c&&a("loaded")},h.onerror=()=>{c&&a("error")},h.crossOrigin=t,h.referrerPolicy=e,h.src=n,r&&(h.srcset=r),()=>{c=!1}},[t,e,n,r]),s}const $d=A.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiAvatar"}),{alt:s,children:a,className:c,component:h="div",slots:d={},slotProps:f={},imgProps:y,sizes:_,src:E,srcSet:T,variant:C="circular",...R}=r;let I=null;const D={...r,component:h,variant:C},F=zV({...y,...typeof f.img=="function"?f.img(D):f.img,src:E,srcSet:T}),V=E||T,B=V&&F!=="error";D.colorDefault=!B,delete D.ownerState;const j=MV(D),[G,x]=ct("root",{ref:n,className:Fe(j.root,c),elementType:LV,externalForwardedProps:{slots:d,slotProps:f,component:h,...R},ownerState:D}),[P,N]=ct("img",{className:j.img,elementType:VV,externalForwardedProps:{slots:d,slotProps:{img:{...y,...f.img}}},additionalProps:{alt:s,src:E,srcSet:T,sizes:_},ownerState:D}),[U,L]=ct("fallback",{className:j.fallback,elementType:UV,externalForwardedProps:{slots:d,slotProps:f},shouldForwardComponentProp:!0,ownerState:D});return B?I=z.jsx(P,{...N}):a||a===0?I=a:V&&s?I=s[0]:I=z.jsx(U,{...L}),z.jsx(G,{...x,children:I})}),BV={entering:{opacity:1},entered:{opacity:1}},FV=A.forwardRef(function(e,n){const r=Ag(),s={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:a,appear:c=!0,children:h,easing:d,in:f,onEnter:y,onEntered:_,onEntering:E,onExit:T,onExited:C,onExiting:R,style:I,timeout:D=s,TransitionComponent:F=Ss,...V}=e,B=A.useRef(null),j=dr(B,du(h),n),G=Y=>ee=>{if(Y){const H=B.current;ee===void 0?Y(H):Y(H,ee)}},x=G(E),P=G((Y,ee)=>{Ix(Y);const H=Sm({style:I,timeout:D,easing:d},{mode:"enter"});Y.style.webkitTransition=r.transitions.create("opacity",H),Y.style.transition=r.transitions.create("opacity",H),y&&y(Y,ee)}),N=G(_),U=G(R),L=G(Y=>{const ee=Sm({style:I,timeout:D,easing:d},{mode:"exit"});Y.style.webkitTransition=r.transitions.create("opacity",ee),Y.style.transition=r.transitions.create("opacity",ee),T&&T(Y)}),S=G(C),k=Y=>{a&&a(B.current,Y)};return z.jsx(F,{appear:c,in:f,nodeRef:B,onEnter:P,onEntered:N,onEntering:x,onExit:L,onExited:S,onExiting:U,addEndListener:k,timeout:D,...V,children:(Y,{ownerState:ee,...H})=>A.cloneElement(h,{style:{opacity:0,visibility:Y==="exited"&&!f?"hidden":void 0,...BV[Y],...I,...h.props.style},ref:j,...H})})});function jV(t){return Et("MuiBackdrop",t)}bt("MuiBackdrop",["root","invisible"]);const HV=t=>{const{classes:e,invisible:n}=t;return St({root:["root",n&&"invisible"]},jV,e)},$V=Ee("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.invisible&&e.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),qV=A.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiBackdrop"}),{children:s,className:a,component:c="div",invisible:h=!1,open:d,components:f={},componentsProps:y={},slotProps:_={},slots:E={},TransitionComponent:T,transitionDuration:C,...R}=r,I={...r,component:c,invisible:h},D=HV(I),F={transition:T,root:f.Root,...E},V={...y,..._},B={component:c,slots:F,slotProps:V},[j,G]=ct("root",{elementType:$V,externalForwardedProps:B,className:Fe(D.root,a),ownerState:I}),[x,P]=ct("transition",{elementType:FV,externalForwardedProps:B,ownerState:I});return z.jsx(x,{in:d,timeout:C,...R,...P,children:z.jsx(j,{"aria-hidden":!0,...G,classes:D,ref:n,children:s})})});function GV(t){return Et("MuiButton",t)}const sl=bt("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),WV=A.createContext({}),KV=A.createContext(void 0),YV=t=>{const{color:e,disableElevation:n,fullWidth:r,size:s,variant:a,loading:c,loadingPosition:h,classes:d}=t,f={root:["root",c&&"loading",a,`${a}${Re(e)}`,`size${Re(s)}`,`${a}Size${Re(s)}`,`color${Re(e)}`,n&&"disableElevation",r&&"fullWidth",c&&`loadingPosition${Re(h)}`],startIcon:["icon","startIcon",`iconSize${Re(s)}`],endIcon:["icon","endIcon",`iconSize${Re(s)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},y=St(f,GV,d);return{...d,...y}},kx=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],QV=Ee(FE,{shouldForwardProp:t=>qr(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${Re(n.color)}`],e[`size${Re(n.size)}`],e[`${n.variant}Size${Re(n.size)}`],n.color==="inherit"&&e.colorInherit,n.disableElevation&&e.disableElevation,n.fullWidth&&e.fullWidth,n.loading&&e.loading]}})(Ct(({theme:t})=>{const e=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],n=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return{...t.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${sl.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(t.vars||t).shadows[2],"&:hover":{boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2]}},"&:active":{boxShadow:(t.vars||t).shadows[8]},[`&.${sl.focusVisible}`]:{boxShadow:(t.vars||t).shadows[6]},[`&.${sl.disabled}`]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${sl.disabled}`]:{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(t.palette).filter(Ar()).map(([r])=>({props:{color:r},style:{"--variant-textColor":(t.vars||t).palette[r].main,"--variant-outlinedColor":(t.vars||t).palette[r].main,"--variant-outlinedBorder":t.alpha((t.vars||t).palette[r].main,.5),"--variant-containedColor":(t.vars||t).palette[r].contrastText,"--variant-containedBg":(t.vars||t).palette[r].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(t.vars||t).palette[r].dark,"--variant-textBg":t.alpha((t.vars||t).palette[r].main,(t.vars||t).palette.action.hoverOpacity),"--variant-outlinedBorder":(t.vars||t).palette[r].main,"--variant-outlinedBg":t.alpha((t.vars||t).palette[r].main,(t.vars||t).palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedBg:e,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedHoverBg:n,"--variant-textBg":t.alpha((t.vars||t).palette.text.primary,(t.vars||t).palette.action.hoverOpacity),"--variant-outlinedBg":t.alpha((t.vars||t).palette.text.primary,(t.vars||t).palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:t.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${sl.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${sl.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),[`&.${sl.loading}`]:{color:"transparent"}}}]}})),XV=Ee("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.startIcon,n.loading&&e.startIconLoadingStart,e[`iconSize${Re(n.size)}`]]}})(({theme:t})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...kx]})),JV=Ee("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.endIcon,n.loading&&e.endIconLoadingEnd,e[`iconSize${Re(n.size)}`]]}})(({theme:t})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...kx]})),ZV=Ee("span",{name:"MuiButton",slot:"LoadingIndicator"})(({theme:t})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(t.vars||t).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),aR=Ee("span",{name:"MuiButton",slot:"LoadingIconPlaceholder"})({display:"inline-block",width:"1em",height:"1em"}),Am=A.forwardRef(function(e,n){const r=A.useContext(WV),s=A.useContext(KV),a=vm(r,e),c=Dt({props:a,name:"MuiButton"}),{children:h,color:d="primary",component:f="button",className:y,disabled:_=!1,disableElevation:E=!1,disableFocusRipple:T=!1,endIcon:C,focusVisibleClassName:R,fullWidth:I=!1,id:D,loading:F=null,loadingIndicator:V,loadingPosition:B="center",size:j="medium",startIcon:G,type:x,variant:P="text",...N}=c,U=Rg(D),L=V??z.jsx(Ig,{"aria-labelledby":U,color:"inherit",size:16}),S={...c,color:d,component:f,disabled:_,disableElevation:E,disableFocusRipple:T,fullWidth:I,loading:F,loadingIndicator:L,loadingPosition:B,size:j,type:x,variant:P},k=YV(S),Y=(G||F&&B==="start")&&z.jsx(XV,{className:k.startIcon,ownerState:S,children:G||z.jsx(aR,{className:k.loadingIconPlaceholder,ownerState:S})}),ee=(C||F&&B==="end")&&z.jsx(JV,{className:k.endIcon,ownerState:S,children:C||z.jsx(aR,{className:k.loadingIconPlaceholder,ownerState:S})}),H=s||"",te=typeof F=="boolean"?z.jsx("span",{className:k.loadingWrapper,style:{display:"contents"},children:F&&z.jsx(ZV,{className:k.loadingIndicator,ownerState:S,children:L})}):null;return z.jsxs(QV,{ownerState:S,className:Fe(r.className,k.root,y,H),component:f,disabled:_||F,focusRipple:!T,focusVisibleClassName:Fe(k.focusVisible,R),ref:n,type:x,id:F?U:D,...N,classes:k,children:[Y,B!=="end"&&te,h,B==="end"&&te,ee]})});function e6(t){return Et("PrivateSwitchBase",t)}bt("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const t6=t=>{const{classes:e,checked:n,disabled:r,edge:s}=t,a={root:["root",n&&"checked",r&&"disabled",s&&`edge${Re(s)}`],input:["input"]};return St(a,e6,e)},n6=Ee(FE,{name:"MuiSwitchBase"})({padding:9,borderRadius:"50%",variants:[{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:({edge:t,ownerState:e})=>t==="start"&&e.size!=="small",style:{marginLeft:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}},{props:({edge:t,ownerState:e})=>t==="end"&&e.size!=="small",style:{marginRight:-12}}]}),r6=Ee("input",{name:"MuiSwitchBase",shouldForwardProp:qr})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),i6=A.forwardRef(function(e,n){const{autoFocus:r,checked:s,checkedIcon:a,defaultChecked:c,disabled:h,disableFocusRipple:d=!1,edge:f=!1,icon:y,id:_,inputProps:E,inputRef:T,name:C,onBlur:R,onChange:I,onFocus:D,readOnly:F,required:V=!1,tabIndex:B,type:j,value:G,slots:x={},slotProps:P={},...N}=e,[U,L]=p0({controlled:s,default:!!c,name:"SwitchBase",state:"checked"}),S=Sa(),k=me=>{D&&D(me),S&&S.onFocus&&S.onFocus(me)},Y=me=>{R&&R(me),S&&S.onBlur&&S.onBlur(me)},ee=me=>{if(me.nativeEvent.defaultPrevented)return;const ve=me.target.checked;L(ve),I&&I(me,ve)};let H=h;S&&typeof H>"u"&&(H=S.disabled);const te=j==="checkbox"||j==="radio",fe={...e,checked:U,disabled:H,disableFocusRipple:d,edge:f},le=t6(fe),be={slots:x,slotProps:{input:E,...P}},[$,ie]=ct("root",{ref:n,elementType:n6,className:le.root,shouldForwardComponentProp:!0,externalForwardedProps:{...be,component:"span",...N},getSlotProps:me=>({...me,onFocus:ve=>{me.onFocus?.(ve),k(ve)},onBlur:ve=>{me.onBlur?.(ve),Y(ve)}}),ownerState:fe,additionalProps:{centerRipple:!0,focusRipple:!d,disabled:H,role:void 0,tabIndex:null}}),[de,pe]=ct("input",{ref:T,elementType:r6,className:le.input,externalForwardedProps:be,getSlotProps:me=>({...me,onChange:ve=>{me.onChange?.(ve),ee(ve)}}),ownerState:fe,additionalProps:{autoFocus:r,checked:s,defaultChecked:c,disabled:H,id:te?_:void 0,name:C,readOnly:F,required:V,tabIndex:B,type:j,...j==="checkbox"&&G===void 0?{}:{value:G}}});return z.jsxs($,{...ie,children:[z.jsx(de,{...pe}),U?a:y]})}),s6=kn(z.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"})),o6=kn(z.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})),a6=kn(z.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}));function l6(t){return Et("MuiCheckbox",t)}const Nv=bt("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),c6=t=>{const{classes:e,indeterminate:n,color:r,size:s}=t,a={root:["root",n&&"indeterminate",`color${Re(r)}`,`size${Re(s)}`]},c=St(a,l6,e);return{...e,...c}},u6=Ee(i6,{shouldForwardProp:t=>qr(t)||t==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.indeterminate&&e.indeterminate,e[`size${Re(n.size)}`],n.color!=="default"&&e[`color${Re(n.color)}`]]}})(Ct(({theme:t})=>({color:(t.vars||t).palette.text.secondary,variants:[{props:{color:"default",disableRipple:!1},style:{"&:hover":{backgroundColor:t.alpha((t.vars||t).palette.action.active,(t.vars||t).palette.action.hoverOpacity)}}},...Object.entries(t.palette).filter(Ar()).map(([e])=>({props:{color:e,disableRipple:!1},style:{"&:hover":{backgroundColor:t.alpha((t.vars||t).palette[e].main,(t.vars||t).palette.action.hoverOpacity)}}})),...Object.entries(t.palette).filter(Ar()).map(([e])=>({props:{color:e},style:{[`&.${Nv.checked}, &.${Nv.indeterminate}`]:{color:(t.vars||t).palette[e].main},[`&.${Nv.disabled}`]:{color:(t.vars||t).palette.action.disabled}}})),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]}))),h6=z.jsx(o6,{}),d6=z.jsx(s6,{}),f6=z.jsx(a6,{}),p6=A.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiCheckbox"}),{checkedIcon:s=h6,color:a="primary",icon:c=d6,indeterminate:h=!1,indeterminateIcon:d=f6,inputProps:f,size:y="medium",disableRipple:_=!1,className:E,slots:T={},slotProps:C={},...R}=r,I=h?d:c,D=h?d:s,F={...r,disableRipple:_,color:a,indeterminate:h,size:y},V=c6(F),B=C.input??f,[j,G]=ct("root",{ref:n,elementType:u6,className:Fe(V.root,E),shouldForwardComponentProp:!0,externalForwardedProps:{slots:T,slotProps:C,...R},ownerState:F,additionalProps:{type:"checkbox",icon:A.cloneElement(I,{fontSize:I.props.fontSize??y}),checkedIcon:A.cloneElement(D,{fontSize:D.props.fontSize??y}),disableRipple:_,slots:T,slotProps:{input:Tx(typeof B=="function"?B(F):B,{"data-indeterminate":h})}}});return z.jsx(j,{...G,classes:V})});function lR(t){return t.substring(2).toLowerCase()}function m6(t,e){return e.documentElement.clientWidth<t.clientX||e.documentElement.clientHeight<t.clientY}function g6(t){const{children:e,disableReactTree:n=!1,mouseEvent:r="onClick",onClickAway:s,touchEvent:a="onTouchEnd"}=t,c=A.useRef(!1),h=A.useRef(null),d=A.useRef(!1),f=A.useRef(!1);A.useEffect(()=>(setTimeout(()=>{d.current=!0},0),()=>{d.current=!1}),[]);const y=dr(du(e),h),_=fs(C=>{const R=f.current;f.current=!1;const I=Rr(h.current);if(!d.current||!h.current||"clientX"in C&&m6(C,I))return;if(c.current){c.current=!1;return}let D;C.composedPath?D=C.composedPath().includes(h.current):D=!I.documentElement.contains(C.target)||h.current.contains(C.target),!D&&(n||!R)&&s(C)}),E=C=>R=>{f.current=!0;const I=e.props[C];I&&I(R)},T={ref:y};return a!==!1&&(T[a]=E(a)),A.useEffect(()=>{if(a!==!1){const C=lR(a),R=Rr(h.current),I=()=>{c.current=!0};return R.addEventListener(C,_),R.addEventListener("touchmove",I),()=>{R.removeEventListener(C,_),R.removeEventListener("touchmove",I)}}},[_,a]),r!==!1&&(T[r]=E(r)),A.useEffect(()=>{if(r!==!1){const C=lR(r),R=Rr(h.current);return R.addEventListener(C,_),()=>{R.removeEventListener(C,_)}}},[_,r]),A.cloneElement(e,T)}function Ox(t=window){const e=t.document.documentElement.clientWidth;return t.innerWidth-e}function y6(t){const e=Rr(t);return e.body===t?lo(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function Zh(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function cR(t){return parseInt(lo(t).getComputedStyle(t).paddingRight,10)||0}function _6(t){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(t.tagName),r=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return n||r}function uR(t,e,n,r,s){const a=[e,n,...r];[].forEach.call(t.children,c=>{const h=!a.includes(c),d=!_6(c);h&&d&&Zh(c,s)})}function Pv(t,e){let n=-1;return t.some((r,s)=>e(r)?(n=s,!0):!1),n}function v6(t,e){const n=[],r=t.container;if(!e.disableScrollLock){if(y6(r)){const c=Ox(lo(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${cR(r)+c}px`;const h=Rr(r).querySelectorAll(".mui-fixed");[].forEach.call(h,d=>{n.push({value:d.style.paddingRight,property:"padding-right",el:d}),d.style.paddingRight=`${cR(d)+c}px`})}let a;if(r.parentNode instanceof DocumentFragment)a=Rr(r).body;else{const c=r.parentElement,h=lo(r);a=c?.nodeName==="HTML"&&h.getComputedStyle(c).overflowY==="scroll"?c:r}n.push({value:a.style.overflow,property:"overflow",el:a},{value:a.style.overflowX,property:"overflow-x",el:a},{value:a.style.overflowY,property:"overflow-y",el:a}),a.style.overflow="hidden"}return()=>{n.forEach(({value:a,el:c,property:h})=>{a?c.style.setProperty(h,a):c.style.removeProperty(h)})}}function E6(t){const e=[];return[].forEach.call(t.children,n=>{n.getAttribute("aria-hidden")==="true"&&e.push(n)}),e}class b6{constructor(){this.modals=[],this.containers=[]}add(e,n){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&Zh(e.modalRef,!1);const s=E6(n);uR(n,e.mount,e.modalRef,s,!0);const a=Pv(this.containers,c=>c.container===n);return a!==-1?(this.containers[a].modals.push(e),r):(this.containers.push({modals:[e],container:n,restore:null,hiddenSiblings:s}),r)}mount(e,n){const r=Pv(this.containers,a=>a.modals.includes(e)),s=this.containers[r];s.restore||(s.restore=v6(s,n))}remove(e,n=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const s=Pv(this.containers,c=>c.modals.includes(e)),a=this.containers[s];if(a.modals.splice(a.modals.indexOf(e),1),this.modals.splice(r,1),a.modals.length===0)a.restore&&a.restore(),e.modalRef&&Zh(e.modalRef,n),uR(a.container,e.mount,e.modalRef,a.hiddenSiblings,!1),this.containers.splice(s,1);else{const c=a.modals[a.modals.length-1];c.modalRef&&Zh(c.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}const S6=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function T6(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function w6(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=r=>t.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=e(`[name="${t.name}"]:checked`);return n||(n=e(`[name="${t.name}"]`)),n!==t}function C6(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||w6(t))}function R6(t){const e=[],n=[];return Array.from(t.querySelectorAll(S6)).forEach((r,s)=>{const a=T6(r);a===-1||!C6(r)||(a===0?e.push(r):n.push({documentOrder:s,tabIndex:a,node:r}))}),n.sort((r,s)=>r.tabIndex===s.tabIndex?r.documentOrder-s.documentOrder:r.tabIndex-s.tabIndex).map(r=>r.node).concat(e)}function A6(){return!0}function I6(t){const{children:e,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:s=!1,getTabbable:a=R6,isEnabled:c=A6,open:h}=t,d=A.useRef(!1),f=A.useRef(null),y=A.useRef(null),_=A.useRef(null),E=A.useRef(null),T=A.useRef(!1),C=A.useRef(null),R=dr(du(e),C),I=A.useRef(null);A.useEffect(()=>{!h||!C.current||(T.current=!n)},[n,h]),A.useEffect(()=>{if(!h||!C.current)return;const V=Rr(C.current);return C.current.contains(V.activeElement)||(C.current.hasAttribute("tabIndex")||C.current.setAttribute("tabIndex","-1"),T.current&&C.current.focus()),()=>{s||(_.current&&_.current.focus&&(d.current=!0,_.current.focus()),_.current=null)}},[h]),A.useEffect(()=>{if(!h||!C.current)return;const V=Rr(C.current),B=x=>{I.current=x,!(r||!c()||x.key!=="Tab")&&V.activeElement===C.current&&x.shiftKey&&(d.current=!0,y.current&&y.current.focus())},j=()=>{const x=C.current;if(x===null)return;if(!V.hasFocus()||!c()||d.current){d.current=!1;return}if(x.contains(V.activeElement)||r&&V.activeElement!==f.current&&V.activeElement!==y.current)return;if(V.activeElement!==E.current)E.current=null;else if(E.current!==null)return;if(!T.current)return;let P=[];if((V.activeElement===f.current||V.activeElement===y.current)&&(P=a(C.current)),P.length>0){const N=!!(I.current?.shiftKey&&I.current?.key==="Tab"),U=P[0],L=P[P.length-1];typeof U!="string"&&typeof L!="string"&&(N?L.focus():U.focus())}else x.focus()};V.addEventListener("focusin",j),V.addEventListener("keydown",B,!0);const G=setInterval(()=>{V.activeElement&&V.activeElement.tagName==="BODY"&&j()},50);return()=>{clearInterval(G),V.removeEventListener("focusin",j),V.removeEventListener("keydown",B,!0)}},[n,r,s,c,h,a]);const D=V=>{_.current===null&&(_.current=V.relatedTarget),T.current=!0,E.current=V.target;const B=e.props.onFocus;B&&B(V)},F=V=>{_.current===null&&(_.current=V.relatedTarget),T.current=!0};return z.jsxs(A.Fragment,{children:[z.jsx("div",{tabIndex:h?0:-1,onFocus:F,ref:f,"data-testid":"sentinelStart"}),A.cloneElement(e,{ref:R,onFocus:D}),z.jsx("div",{tabIndex:h?0:-1,onFocus:F,ref:y,"data-testid":"sentinelEnd"})]})}function x6(t){return typeof t=="function"?t():t}function N6(t){return t?t.props.hasOwnProperty("in"):!1}const hR=()=>{},Up=new b6;function P6(t){const{container:e,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,closeAfterTransition:s=!1,onTransitionEnter:a,onTransitionExited:c,children:h,onClose:d,open:f,rootRef:y}=t,_=A.useRef({}),E=A.useRef(null),T=A.useRef(null),C=dr(T,y),[R,I]=A.useState(!f),D=N6(h);let F=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(F=!1);const V=()=>Rr(E.current),B=()=>(_.current.modalRef=T.current,_.current.mount=E.current,_.current),j=()=>{Up.mount(B(),{disableScrollLock:r}),T.current&&(T.current.scrollTop=0)},G=fs(()=>{const ee=x6(e)||V().body;Up.add(B(),ee),T.current&&j()}),x=()=>Up.isTopModal(B()),P=fs(ee=>{E.current=ee,ee&&(f&&x()?j():T.current&&Zh(T.current,F))}),N=A.useCallback(()=>{Up.remove(B(),F)},[F]);A.useEffect(()=>()=>{N()},[N]),A.useEffect(()=>{f?G():(!D||!s)&&N()},[f,N,D,s,G]);const U=ee=>H=>{ee.onKeyDown?.(H),!(H.key!=="Escape"||H.which===229||!x())&&(n||(H.stopPropagation(),d&&d(H,"escapeKeyDown")))},L=ee=>H=>{ee.onClick?.(H),H.target===H.currentTarget&&d&&d(H,"backdropClick")};return{getRootProps:(ee={})=>{const H=wm(t);delete H.onTransitionEnter,delete H.onTransitionExited;const te={...H,...ee};return{role:"presentation",...te,onKeyDown:U(te),ref:C}},getBackdropProps:(ee={})=>{const H=ee;return{"aria-hidden":!0,...H,onClick:L(H),open:f}},getTransitionProps:()=>{const ee=()=>{I(!1),a&&a()},H=()=>{I(!0),c&&c(),s&&N()};return{onEnter:G1(ee,h?.props.onEnter??hR),onExited:G1(H,h?.props.onExited??hR)}},rootRef:C,portalRef:P,isTopModal:x,exited:R,hasTransition:D}}function k6(t){return Et("MuiModal",t)}bt("MuiModal",["root","hidden","backdrop"]);const O6=t=>{const{open:e,exited:n,classes:r}=t;return St({root:["root",!e&&n&&"hidden"],backdrop:["backdrop"]},k6,r)},D6=Ee("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.open&&n.exited&&e.hidden]}})(Ct(({theme:t})=>({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:e})=>!e.open&&e.exited,style:{visibility:"hidden"}}]}))),M6=Ee(qV,{name:"MuiModal",slot:"Backdrop"})({zIndex:-1}),L6=A.forwardRef(function(e,n){const r=Dt({name:"MuiModal",props:e}),{BackdropComponent:s=M6,BackdropProps:a,classes:c,className:h,closeAfterTransition:d=!1,children:f,container:y,component:_,components:E={},componentsProps:T={},disableAutoFocus:C=!1,disableEnforceFocus:R=!1,disableEscapeKeyDown:I=!1,disablePortal:D=!1,disableRestoreFocus:F=!1,disableScrollLock:V=!1,hideBackdrop:B=!1,keepMounted:j=!1,onClose:G,onTransitionEnter:x,onTransitionExited:P,open:N,slotProps:U={},slots:L={},theme:S,...k}=r,Y={...r,closeAfterTransition:d,disableAutoFocus:C,disableEnforceFocus:R,disableEscapeKeyDown:I,disablePortal:D,disableRestoreFocus:F,disableScrollLock:V,hideBackdrop:B,keepMounted:j},{getRootProps:ee,getBackdropProps:H,getTransitionProps:te,portalRef:fe,isTopModal:le,exited:be,hasTransition:$}=P6({...Y,rootRef:n}),ie={...Y,exited:be},de=O6(ie),pe={};if(f.props.tabIndex===void 0&&(pe.tabIndex="-1"),$){const{onEnter:ke,onExited:Ge}=te();pe.onEnter=ke,pe.onExited=Ge}const me={slots:{root:E.Root,backdrop:E.Backdrop,...L},slotProps:{...T,...U}},[ve,Ne]=ct("root",{ref:n,elementType:D6,externalForwardedProps:{...me,...k,component:_},getSlotProps:ee,ownerState:ie,className:Fe(h,de?.root,!ie.open&&ie.exited&&de?.hidden)}),[it,De]=ct("backdrop",{ref:a?.ref,elementType:s,externalForwardedProps:me,shouldForwardComponentProp:!0,additionalProps:a,getSlotProps:ke=>H({...ke,onClick:Ge=>{ke?.onClick&&ke.onClick(Ge)}}),className:Fe(a?.className,de?.backdrop),ownerState:ie});return!j&&!N&&(!$||be)?null:z.jsx(SV,{ref:fe,container:y,disablePortal:D,children:z.jsxs(ve,{...Ne,children:[!B&&s?z.jsx(it,{...De}):null,z.jsx(I6,{disableEnforceFocus:R,disableAutoFocus:C,disableRestoreFocus:F,isEnabled:le,open:N,children:A.cloneElement(f,pe)})]})})}),V6=t=>{const{classes:e,disableUnderline:n,startAdornment:r,endAdornment:s,size:a,hiddenLabel:c,multiline:h}=t,d={root:["root",!n&&"underline",r&&"adornedStart",s&&"adornedEnd",a==="small"&&`size${Re(a)}`,c&&"hiddenLabel",h&&"multiline"],input:["input"]},f=St(d,PV,e);return{...e,...f}},U6=Ee(Pg,{shouldForwardProp:t=>qr(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...xg(t,e),!n.disableUnderline&&e.underline]}})(Ct(({theme:t})=>{const e=t.palette.mode==="light",n=e?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",r=e?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",s=e?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",a=e?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:s,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r}},[`&.${il.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r},[`&.${il.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:a},variants:[{props:({ownerState:c})=>!c.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${il.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${il.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?t.alpha(t.vars.palette.common.onBackground,t.vars.opacity.inputUnderline):n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${il.disabled}, .${il.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${il.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(Ar()).map(([c])=>({props:{disableUnderline:!1,color:c},style:{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[c]?.main}`}}})),{props:({ownerState:c})=>c.startAdornment,style:{paddingLeft:12}},{props:({ownerState:c})=>c.endAdornment,style:{paddingRight:12}},{props:({ownerState:c})=>c.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:c,size:h})=>c.multiline&&h==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:c})=>c.multiline&&c.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:c})=>c.multiline&&c.hiddenLabel&&c.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),z6=Ee(kg,{name:"MuiFilledInput",slot:"Input",overridesResolver:Ng})(Ct(({theme:t})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:e})=>e.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}},{props:({ownerState:e})=>e.hiddenLabel&&e.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:e})=>e.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),$E=A.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiFilledInput"}),{disableUnderline:s=!1,components:a={},componentsProps:c,fullWidth:h=!1,hiddenLabel:d,inputComponent:f="input",multiline:y=!1,slotProps:_,slots:E={},type:T="text",...C}=r,R={...r,disableUnderline:s,fullWidth:h,inputComponent:f,multiline:y,type:T},I=V6(r),D={root:{ownerState:R},input:{ownerState:R}},F=_??c?ir(D,_??c):D,V=E.root??a.Root??U6,B=E.input??a.Input??z6;return z.jsx(HE,{slots:{root:V,input:B},slotProps:F,fullWidth:h,inputComponent:f,multiline:y,ref:n,type:T,...C,classes:I})});$E.muiName="Input";function B6(t){return Et("MuiFormControl",t)}bt("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const F6=t=>{const{classes:e,margin:n,fullWidth:r}=t,s={root:["root",n!=="none"&&`margin${Re(n)}`,r&&"fullWidth"]};return St(s,B6,e)},j6=Ee("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`margin${Re(n.margin)}`],n.fullWidth&&e.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),H6=A.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiFormControl"}),{children:s,className:a,color:c="primary",component:h="div",disabled:d=!1,error:f=!1,focused:y,fullWidth:_=!1,hiddenLabel:E=!1,margin:T="none",required:C=!1,size:R="medium",variant:I="outlined",...D}=r,F={...r,color:c,component:h,disabled:d,error:f,fullWidth:_,hiddenLabel:E,margin:T,required:C,size:R,variant:I},V=F6(F),[B,j]=A.useState(()=>{let ee=!1;return s&&A.Children.forEach(s,H=>{if(!Iv(H,["Input","Select"]))return;const te=Iv(H,["Select"])?H.props.input:H;te&&RV(te.props)&&(ee=!0)}),ee}),[G,x]=A.useState(()=>{let ee=!1;return s&&A.Children.forEach(s,H=>{Iv(H,["Input","Select"])&&(Rm(H.props,!0)||Rm(H.props.inputProps,!0))&&(ee=!0)}),ee}),[P,N]=A.useState(!1);d&&P&&N(!1);const U=y!==void 0&&!d?y:P;let L;A.useRef(!1);const S=A.useCallback(()=>{x(!0)},[]),k=A.useCallback(()=>{x(!1)},[]),Y=A.useMemo(()=>({adornedStart:B,setAdornedStart:j,color:c,disabled:d,error:f,filled:G,focused:U,fullWidth:_,hiddenLabel:E,size:R,onBlur:()=>{N(!1)},onFocus:()=>{N(!0)},onEmpty:k,onFilled:S,registerEffect:L,required:C,variant:I}),[B,c,d,f,G,U,_,E,L,k,S,C,R,I]);return z.jsx(jE.Provider,{value:Y,children:z.jsx(j6,{as:h,ownerState:F,className:Fe(V.root,a),ref:n,...D,children:s})})});function $6(t){return Et("MuiFormControlLabel",t)}const Hh=bt("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),q6=t=>{const{classes:e,disabled:n,labelPlacement:r,error:s,required:a}=t,c={root:["root",n&&"disabled",`labelPlacement${Re(r)}`,s&&"error",a&&"required"],label:["label",n&&"disabled"],asterisk:["asterisk",s&&"error"]};return St(c,$6,e)},G6=Ee("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${Hh.label}`]:e.label},e.root,e[`labelPlacement${Re(n.labelPlacement)}`]]}})(Ct(({theme:t})=>({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${Hh.disabled}`]:{cursor:"default"},[`& .${Hh.label}`]:{[`&.${Hh.disabled}`]:{color:(t.vars||t).palette.text.disabled}},variants:[{props:{labelPlacement:"start"},style:{flexDirection:"row-reverse",marginRight:-11}},{props:{labelPlacement:"top"},style:{flexDirection:"column-reverse"}},{props:{labelPlacement:"bottom"},style:{flexDirection:"column"}},{props:({labelPlacement:e})=>e==="start"||e==="top"||e==="bottom",style:{marginLeft:16}}]}))),W6=Ee("span",{name:"MuiFormControlLabel",slot:"Asterisk"})(Ct(({theme:t})=>({[`&.${Hh.error}`]:{color:(t.vars||t).palette.error.main}}))),K6=A.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiFormControlLabel"}),{checked:s,className:a,componentsProps:c={},control:h,disabled:d,disableTypography:f,inputRef:y,label:_,labelPlacement:E="end",name:T,onChange:C,required:R,slots:I={},slotProps:D={},value:F,...V}=r,B=Sa(),j=d??h.props.disabled??B?.disabled,G=R??h.props.required,x={disabled:j,required:G};["checked","name","onChange","value","inputRef"].forEach(ee=>{typeof h.props[ee]>"u"&&typeof r[ee]<"u"&&(x[ee]=r[ee])});const P=Pl({props:r,muiFormControl:B,states:["error"]}),N={...r,disabled:j,labelPlacement:E,required:G,error:P.error},U=q6(N),L={slots:I,slotProps:{...c,...D}},[S,k]=ct("typography",{elementType:nR,externalForwardedProps:L,ownerState:N});let Y=_;return Y!=null&&Y.type!==nR&&!f&&(Y=z.jsx(S,{component:"span",...k,className:Fe(U.label,k?.className),children:Y})),z.jsxs(G6,{className:Fe(U.root,a),ownerState:N,ref:n,...V,children:[A.cloneElement(h,x),G?z.jsxs("div",{children:[Y,z.jsxs(W6,{ownerState:N,"aria-hidden":!0,className:U.asterisk,children:[" ","*"]})]}):Y]})});function Y6(t){return Et("MuiFormHelperText",t)}const dR=bt("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var fR;const Q6=t=>{const{classes:e,contained:n,size:r,disabled:s,error:a,filled:c,focused:h,required:d}=t,f={root:["root",s&&"disabled",a&&"error",r&&`size${Re(r)}`,n&&"contained",h&&"focused",c&&"filled",d&&"required"]};return St(f,Y6,e)},X6=Ee("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.size&&e[`size${Re(n.size)}`],n.contained&&e.contained,n.filled&&e.filled]}})(Ct(({theme:t})=>({color:(t.vars||t).palette.text.secondary,...t.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${dR.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${dR.error}`]:{color:(t.vars||t).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:e})=>e.contained,style:{marginLeft:14,marginRight:14}}]}))),J6=A.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiFormHelperText"}),{children:s,className:a,component:c="p",disabled:h,error:d,filled:f,focused:y,margin:_,required:E,variant:T,...C}=r,R=Sa(),I=Pl({props:r,muiFormControl:R,states:["variant","size","disabled","error","filled","focused","required"]}),D={...r,component:c,contained:I.variant==="filled"||I.variant==="outlined",variant:I.variant,size:I.size,disabled:I.disabled,error:I.error,filled:I.filled,focused:I.focused,required:I.required};delete D.ownerState;const F=Q6(D);return z.jsx(X6,{as:c,className:Fe(F.root,a),ref:n,...C,ownerState:D,children:s===" "?fR||(fR=z.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):s})});function Z6(t){return Et("MuiFormLabel",t)}const ed=bt("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),e3=t=>{const{classes:e,color:n,focused:r,disabled:s,error:a,filled:c,required:h}=t,d={root:["root",`color${Re(n)}`,s&&"disabled",a&&"error",c&&"filled",r&&"focused",h&&"required"],asterisk:["asterisk",a&&"error"]};return St(d,Z6,e)},t3=Ee("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color==="secondary"&&e.colorSecondary,n.filled&&e.filled]}})(Ct(({theme:t})=>({color:(t.vars||t).palette.text.secondary,...t.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(t.palette).filter(Ar()).map(([e])=>({props:{color:e},style:{[`&.${ed.focused}`]:{color:(t.vars||t).palette[e].main}}})),{props:{},style:{[`&.${ed.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${ed.error}`]:{color:(t.vars||t).palette.error.main}}}]}))),n3=Ee("span",{name:"MuiFormLabel",slot:"Asterisk"})(Ct(({theme:t})=>({[`&.${ed.error}`]:{color:(t.vars||t).palette.error.main}}))),r3=A.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiFormLabel"}),{children:s,className:a,color:c,component:h="label",disabled:d,error:f,filled:y,focused:_,required:E,...T}=r,C=Sa(),R=Pl({props:r,muiFormControl:C,states:["color","required","focused","disabled","error","filled"]}),I={...r,color:R.color||"primary",component:h,disabled:R.disabled,error:R.error,filled:R.filled,focused:R.focused,required:R.required},D=e3(I);return z.jsxs(t3,{as:h,ownerState:I,className:Fe(D.root,a),ref:n,...T,children:[s,R.required&&z.jsxs(n3,{ownerState:I,"aria-hidden":!0,className:D.asterisk,children:[" ","*"]})]})});function E0(t){return`scale(${t}, ${t**2})`}const i3={entering:{opacity:1,transform:E0(1)},entered:{opacity:1,transform:"none"}},kv=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),Im=A.forwardRef(function(e,n){const{addEndListener:r,appear:s=!0,children:a,easing:c,in:h,onEnter:d,onEntered:f,onEntering:y,onExit:_,onExited:E,onExiting:T,style:C,timeout:R="auto",TransitionComponent:I=Ss,...D}=e,F=zE(),V=A.useRef(),B=Ag(),j=A.useRef(null),G=dr(j,du(a),n),x=ee=>H=>{if(ee){const te=j.current;H===void 0?ee(te):ee(te,H)}},P=x(y),N=x((ee,H)=>{Ix(ee);const{duration:te,delay:fe,easing:le}=Sm({style:C,timeout:R,easing:c},{mode:"enter"});let be;R==="auto"?(be=B.transitions.getAutoHeightDuration(ee.clientHeight),V.current=be):be=te,ee.style.transition=[B.transitions.create("opacity",{duration:be,delay:fe}),B.transitions.create("transform",{duration:kv?be:be*.666,delay:fe,easing:le})].join(","),d&&d(ee,H)}),U=x(f),L=x(T),S=x(ee=>{const{duration:H,delay:te,easing:fe}=Sm({style:C,timeout:R,easing:c},{mode:"exit"});let le;R==="auto"?(le=B.transitions.getAutoHeightDuration(ee.clientHeight),V.current=le):le=H,ee.style.transition=[B.transitions.create("opacity",{duration:le,delay:te}),B.transitions.create("transform",{duration:kv?le:le*.666,delay:kv?te:te||le*.333,easing:fe})].join(","),ee.style.opacity=0,ee.style.transform=E0(.75),_&&_(ee)}),k=x(E),Y=ee=>{R==="auto"&&F.start(V.current||0,ee),r&&r(j.current,ee)};return z.jsx(I,{appear:s,in:h,nodeRef:j,onEnter:N,onEntered:U,onEntering:P,onExit:S,onExited:k,onExiting:L,addEndListener:Y,timeout:R==="auto"?null:R,...D,children:(ee,{ownerState:H,...te})=>A.cloneElement(a,{style:{opacity:0,transform:E0(.75),visibility:ee==="exited"&&!h?"hidden":void 0,...i3[ee],...C,...a.props.style},ref:G,...te})})});Im&&(Im.muiSupportAuto=!0);const s3=t=>{const{classes:e,disableUnderline:n}=t,s=St({root:["root",!n&&"underline"],input:["input"]},xV,e);return{...e,...s}},o3=Ee(Pg,{shouldForwardProp:t=>qr(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...xg(t,e),!n.disableUnderline&&e.underline]}})(Ct(({theme:t})=>{let n=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(n=t.alpha(t.vars.palette.common.onBackground,t.vars.opacity.inputUnderline)),{position:"relative",variants:[{props:({ownerState:r})=>r.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:r})=>!r.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Ph.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Ph.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Ph.disabled}, .${Ph.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${n}`}},[`&.${Ph.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(Ar()).map(([r])=>({props:{color:r,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[r].main}`}}}))]}})),a3=Ee(kg,{name:"MuiInput",slot:"Input",overridesResolver:Ng})({}),qE=A.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiInput"}),{disableUnderline:s=!1,components:a={},componentsProps:c,fullWidth:h=!1,inputComponent:d="input",multiline:f=!1,slotProps:y,slots:_={},type:E="text",...T}=r,C=s3(r),I={root:{ownerState:{disableUnderline:s}}},D=y??c?ir(y??c,I):I,F=_.root??a.Root??o3,V=_.input??a.Input??a3;return z.jsx(HE,{slots:{root:F,input:V},slotProps:D,fullWidth:h,inputComponent:d,multiline:f,ref:n,type:E,...T,classes:C})});qE.muiName="Input";function l3(t){return Et("MuiInputLabel",t)}bt("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const c3=t=>{const{classes:e,formControl:n,size:r,shrink:s,disableAnimation:a,variant:c,required:h}=t,d={root:["root",n&&"formControl",!a&&"animated",s&&"shrink",r&&r!=="medium"&&`size${Re(r)}`,c],asterisk:[h&&"asterisk"]},f=St(d,l3,e);return{...e,...f}},u3=Ee(r3,{shouldForwardProp:t=>qr(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${ed.asterisk}`]:e.asterisk},e.root,n.formControl&&e.formControl,n.size==="small"&&e.sizeSmall,n.shrink&&e.shrink,!n.disableAnimation&&e.animated,n.focused&&e.focused,e[n.variant]]}})(Ct(({theme:t})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:e})=>e.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:e})=>e.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:e})=>!e.disableAnimation,style:{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:e,ownerState:n})=>e==="filled"&&n.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:e,ownerState:n,size:r})=>e==="filled"&&n.shrink&&r==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:e,ownerState:n})=>e==="outlined"&&n.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),h3=A.forwardRef(function(e,n){const r=Dt({name:"MuiInputLabel",props:e}),{disableAnimation:s=!1,margin:a,shrink:c,variant:h,className:d,...f}=r,y=Sa();let _=c;typeof _>"u"&&y&&(_=y.filled||y.focused||y.adornedStart);const E=Pl({props:r,muiFormControl:y,states:["size","variant","required","focused"]}),T={...r,disableAnimation:s,formControl:y,shrink:_,size:E.size,variant:E.variant,required:E.required,focused:E.focused},C=c3(T);return z.jsx(u3,{"data-shrink":_,ref:n,className:Fe(C.root,d),...f,ownerState:T,classes:C})}),d3=A.createContext({});function f3(t){return Et("MuiList",t)}bt("MuiList",["root","padding","dense","subheader"]);const p3=t=>{const{classes:e,disablePadding:n,dense:r,subheader:s}=t;return St({root:["root",!n&&"padding",r&&"dense",s&&"subheader"]},f3,e)},m3=Ee("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disablePadding&&e.padding,n.dense&&e.dense,n.subheader&&e.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:t})=>!t.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:t})=>t.subheader,style:{paddingTop:0}}]}),g3=A.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiList"}),{children:s,className:a,component:c="ul",dense:h=!1,disablePadding:d=!1,subheader:f,...y}=r,_=A.useMemo(()=>({dense:h}),[h]),E={...r,component:c,dense:h,disablePadding:d},T=p3(E);return z.jsx(d3.Provider,{value:_,children:z.jsxs(m3,{as:c,className:Fe(T.root,a),ref:n,ownerState:E,...y,children:[f,s]})})});function Ov(t,e,n){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n?null:t.firstChild}function pR(t,e,n){return t===e?n?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n?null:t.lastChild}function Dx(t,e){if(e===void 0)return!0;let n=t.innerText;return n===void 0&&(n=t.textContent),n=n.trim().toLowerCase(),n.length===0?!1:e.repeating?n[0]===e.keys[0]:n.startsWith(e.keys.join(""))}function kh(t,e,n,r,s,a){let c=!1,h=s(t,e,e?n:!1);for(;h;){if(h===t.firstChild){if(c)return!1;c=!0}const d=r?!1:h.disabled||h.getAttribute("aria-disabled")==="true";if(!h.hasAttribute("tabindex")||!Dx(h,a)||d)h=s(t,h,n);else return h.focus(),!0}return!1}const y3=A.forwardRef(function(e,n){const{actions:r,autoFocus:s=!1,autoFocusItem:a=!1,children:c,className:h,disabledItemsFocusable:d=!1,disableListWrap:f=!1,onKeyDown:y,variant:_="selectedMenu",...E}=e,T=A.useRef(null),C=A.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});El(()=>{s&&T.current.focus()},[s]),A.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(V,{direction:B})=>{const j=!T.current.style.width;if(V.clientHeight<T.current.clientHeight&&j){const G=`${Ox(lo(V))}px`;T.current.style[B==="rtl"?"paddingLeft":"paddingRight"]=G,T.current.style.width=`calc(100% + ${G})`}return T.current}}),[]);const R=V=>{const B=T.current,j=V.key;if(V.ctrlKey||V.metaKey||V.altKey){y&&y(V);return}const x=Rr(B).activeElement;if(j==="ArrowDown")V.preventDefault(),kh(B,x,f,d,Ov);else if(j==="ArrowUp")V.preventDefault(),kh(B,x,f,d,pR);else if(j==="Home")V.preventDefault(),kh(B,null,f,d,Ov);else if(j==="End")V.preventDefault(),kh(B,null,f,d,pR);else if(j.length===1){const P=C.current,N=j.toLowerCase(),U=performance.now();P.keys.length>0&&(U-P.lastTime>500?(P.keys=[],P.repeating=!0,P.previousKeyMatched=!0):P.repeating&&N!==P.keys[0]&&(P.repeating=!1)),P.lastTime=U,P.keys.push(N);const L=x&&!P.repeating&&Dx(x,P);P.previousKeyMatched&&(L||kh(B,x,!1,d,Ov,P))?V.preventDefault():P.previousKeyMatched=!1}y&&y(V)},I=dr(T,n);let D=-1;A.Children.forEach(c,(V,B)=>{if(!A.isValidElement(V)){D===B&&(D+=1,D>=c.length&&(D=-1));return}V.props.disabled||(_==="selectedMenu"&&V.props.selected||D===-1)&&(D=B),D===B&&(V.props.disabled||V.props.muiSkipListHighlight||V.type.muiSkipListHighlight)&&(D+=1,D>=c.length&&(D=-1))});const F=A.Children.map(c,(V,B)=>{if(B===D){const j={};return a&&(j.autoFocus=!0),V.props.tabIndex===void 0&&_==="selectedMenu"&&(j.tabIndex=0),A.cloneElement(V,j)}return V});return z.jsx(g3,{role:"menu",ref:I,className:h,onKeyDown:R,tabIndex:s?0:-1,...E,children:F})});function _3(t){return Et("MuiPopover",t)}bt("MuiPopover",["root","paper"]);function mR(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.height/2:e==="bottom"&&(n=t.height),n}function gR(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.width/2:e==="right"&&(n=t.width),n}function yR(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function zp(t){return typeof t=="function"?t():t}const v3=t=>{const{classes:e}=t;return St({root:["root"],paper:["paper"]},_3,e)},E3=Ee(L6,{name:"MuiPopover",slot:"Root"})({}),Mx=Ee(BE,{name:"MuiPopover",slot:"Paper"})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),b3=A.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiPopover"}),{action:s,anchorEl:a,anchorOrigin:c={vertical:"top",horizontal:"left"},anchorPosition:h,anchorReference:d="anchorEl",children:f,className:y,container:_,elevation:E=8,marginThreshold:T=16,open:C,PaperProps:R={},slots:I={},slotProps:D={},transformOrigin:F={vertical:"top",horizontal:"left"},TransitionComponent:V,transitionDuration:B="auto",TransitionProps:j={},disableScrollLock:G=!1,...x}=r,P=A.useRef(),N={...r,anchorOrigin:c,anchorReference:d,elevation:E,marginThreshold:T,transformOrigin:F,TransitionComponent:V,transitionDuration:B,TransitionProps:j},U=v3(N),L=A.useCallback(()=>{if(d==="anchorPosition")return h;const ke=zp(a),Qe=(ke&&ke.nodeType===1?ke:Rr(P.current).body).getBoundingClientRect();return{top:Qe.top+mR(Qe,c.vertical),left:Qe.left+gR(Qe,c.horizontal)}},[a,c.horizontal,c.vertical,h,d]),S=A.useCallback(ke=>({vertical:mR(ke,F.vertical),horizontal:gR(ke,F.horizontal)}),[F.horizontal,F.vertical]),k=A.useCallback(ke=>{const Ge={width:ke.offsetWidth,height:ke.offsetHeight},Qe=S(Ge);if(d==="none")return{top:null,left:null,transformOrigin:yR(Qe)};const ft=L();let Ae=ft.top-Qe.vertical,ut=ft.left-Qe.horizontal;const ln=Ae+Ge.height,cn=ut+Ge.width,Kt=lo(zp(a)),pt=Kt.innerHeight-T,st=Kt.innerWidth-T;if(T!==null&&Ae<T){const Mt=Ae-T;Ae-=Mt,Qe.vertical+=Mt}else if(T!==null&&ln>pt){const Mt=ln-pt;Ae-=Mt,Qe.vertical+=Mt}if(T!==null&&ut<T){const Mt=ut-T;ut-=Mt,Qe.horizontal+=Mt}else if(cn>st){const Mt=cn-st;ut-=Mt,Qe.horizontal+=Mt}return{top:`${Math.round(Ae)}px`,left:`${Math.round(ut)}px`,transformOrigin:yR(Qe)}},[a,d,L,S,T]),[Y,ee]=A.useState(C),H=A.useCallback(()=>{const ke=P.current;if(!ke)return;const Ge=k(ke);Ge.top!==null&&ke.style.setProperty("top",Ge.top),Ge.left!==null&&(ke.style.left=Ge.left),ke.style.transformOrigin=Ge.transformOrigin,ee(!0)},[k]);A.useEffect(()=>(G&&window.addEventListener("scroll",H),()=>window.removeEventListener("scroll",H)),[a,G,H]);const te=()=>{H()},fe=()=>{ee(!1)};A.useEffect(()=>{C&&H()}),A.useImperativeHandle(s,()=>C?{updatePosition:()=>{H()}}:null,[C,H]),A.useEffect(()=>{if(!C)return;const ke=Sx(()=>{H()}),Ge=lo(zp(a));return Ge.addEventListener("resize",ke),()=>{ke.clear(),Ge.removeEventListener("resize",ke)}},[a,C,H]);let le=B;const be={slots:{transition:V,...I},slotProps:{transition:j,paper:R,...D}},[$,ie]=ct("transition",{elementType:Im,externalForwardedProps:be,ownerState:N,getSlotProps:ke=>({...ke,onEntering:(Ge,Qe)=>{ke.onEntering?.(Ge,Qe),te()},onExited:Ge=>{ke.onExited?.(Ge),fe()}}),additionalProps:{appear:!0,in:C}});B==="auto"&&!$.muiSupportAuto&&(le=void 0);const de=_||(a?Rr(zp(a)).body:void 0),[pe,{slots:me,slotProps:ve,...Ne}]=ct("root",{ref:n,elementType:E3,externalForwardedProps:{...be,...x},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:I.backdrop},slotProps:{backdrop:Tx(typeof D.backdrop=="function"?D.backdrop(N):D.backdrop,{invisible:!0})},container:de,open:C},ownerState:N,className:Fe(U.root,y)}),[it,De]=ct("paper",{ref:P,className:U.paper,elementType:Mx,externalForwardedProps:be,shouldForwardComponentProp:!0,additionalProps:{elevation:E,style:Y?void 0:{opacity:0}},ownerState:N});return z.jsx(pe,{...Ne,...!Tm(pe)&&{slots:me,slotProps:ve,disableScrollLock:G},children:z.jsx($,{...ie,timeout:le,children:z.jsx(it,{...De,children:f})})})});function S3(t){return Et("MuiMenu",t)}bt("MuiMenu",["root","paper","list"]);const T3={vertical:"top",horizontal:"right"},w3={vertical:"top",horizontal:"left"},C3=t=>{const{classes:e}=t;return St({root:["root"],paper:["paper"],list:["list"]},S3,e)},R3=Ee(b3,{shouldForwardProp:t=>qr(t)||t==="classes",name:"MuiMenu",slot:"Root"})({}),A3=Ee(Mx,{name:"MuiMenu",slot:"Paper"})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),I3=Ee(y3,{name:"MuiMenu",slot:"List"})({outline:0}),x3=A.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiMenu"}),{autoFocus:s=!0,children:a,className:c,disableAutoFocusItem:h=!1,MenuListProps:d={},onClose:f,open:y,PaperProps:_={},PopoverClasses:E,transitionDuration:T="auto",TransitionProps:{onEntering:C,...R}={},variant:I="selectedMenu",slots:D={},slotProps:F={},...V}=r,B=v4(),j={...r,autoFocus:s,disableAutoFocusItem:h,MenuListProps:d,onEntering:C,PaperProps:_,transitionDuration:T,TransitionProps:R,variant:I},G=C3(j),x=s&&!h&&y,P=A.useRef(null),N=(le,be)=>{P.current&&P.current.adjustStyleForScrollbar(le,{direction:B?"rtl":"ltr"}),C&&C(le,be)},U=le=>{le.key==="Tab"&&(le.preventDefault(),f&&f(le,"tabKeyDown"))};let L=-1;A.Children.map(a,(le,be)=>{A.isValidElement(le)&&(le.props.disabled||(I==="selectedMenu"&&le.props.selected||L===-1)&&(L=be))});const S={slots:D,slotProps:{list:d,transition:R,paper:_,...F}},k=EV({elementType:D.root,externalSlotProps:F.root,ownerState:j,className:[G.root,c]}),[Y,ee]=ct("paper",{className:G.paper,elementType:A3,externalForwardedProps:S,shouldForwardComponentProp:!0,ownerState:j}),[H,te]=ct("list",{className:Fe(G.list,d.className),elementType:I3,shouldForwardComponentProp:!0,externalForwardedProps:S,getSlotProps:le=>({...le,onKeyDown:be=>{U(be),le.onKeyDown?.(be)}}),ownerState:j}),fe=typeof S.slotProps.transition=="function"?S.slotProps.transition(j):S.slotProps.transition;return z.jsx(R3,{onClose:f,anchorOrigin:{vertical:"bottom",horizontal:B?"right":"left"},transformOrigin:B?T3:w3,slots:{root:D.root,paper:Y,backdrop:D.backdrop,...D.transition&&{transition:D.transition}},slotProps:{root:k,paper:ee,backdrop:typeof F.backdrop=="function"?F.backdrop(j):F.backdrop,transition:{...fe,onEntering:(...le)=>{N(...le),fe?.onEntering?.(...le)}}},open:y,ref:n,transitionDuration:T,ownerState:j,...V,classes:E,children:z.jsx(H,{actions:P,autoFocus:s&&(L===-1||h),autoFocusItem:x,variant:I,...te,children:a})})});function N3(t){return Et("MuiNativeSelect",t)}const GE=bt("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),P3=t=>{const{classes:e,variant:n,disabled:r,multiple:s,open:a,error:c}=t,h={select:["select",n,r&&"disabled",s&&"multiple",c&&"error"],icon:["icon",`icon${Re(n)}`,a&&"iconOpen",r&&"disabled"]};return St(h,N3,e)},Lx=Ee("select",{name:"MuiNativeSelect"})(({theme:t})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${GE.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(t.vars||t).palette.background.paper},variants:[{props:({ownerState:e})=>e.variant!=="filled"&&e.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(t.vars||t).shape.borderRadius,"&:focus":{borderRadius:(t.vars||t).shape.borderRadius},"&&&":{paddingRight:32}}}]})),k3=Ee(Lx,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:qr,overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.select,e[n.variant],n.error&&e.error,{[`&.${GE.multiple}`]:e.multiple}]}})({}),Vx=Ee("svg",{name:"MuiNativeSelect"})(({theme:t})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(t.vars||t).palette.action.active,[`&.${GE.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:({ownerState:e})=>e.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),O3=Ee(Vx,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${Re(n.variant)}`],n.open&&e.iconOpen]}})({}),D3=A.forwardRef(function(e,n){const{className:r,disabled:s,error:a,IconComponent:c,inputRef:h,variant:d="standard",...f}=e,y={...e,disabled:s,variant:d,error:a},_=P3(y);return z.jsxs(A.Fragment,{children:[z.jsx(k3,{ownerState:y,className:Fe(_.select,r),disabled:s,ref:h||n,...f}),e.multiple?null:z.jsx(O3,{as:c,ownerState:y,className:_.icon})]})});var _R;const M3=Ee("fieldset",{name:"MuiNotchedOutlined",shouldForwardProp:qr})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),L3=Ee("legend",{name:"MuiNotchedOutlined",shouldForwardProp:qr})(Ct(({theme:t})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:e})=>!e.withLabel,style:{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})}},{props:({ownerState:e})=>e.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:e})=>e.withLabel&&e.notched,style:{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})}}]})));function V3(t){const{children:e,classes:n,className:r,label:s,notched:a,...c}=t,h=s!=null&&s!=="",d={...t,notched:a,withLabel:h};return z.jsx(M3,{"aria-hidden":!0,className:r,ownerState:d,...c,children:z.jsx(L3,{ownerState:d,children:h?z.jsx("span",{children:s}):_R||(_R=z.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"}))})})}const U3=t=>{const{classes:e}=t,r=St({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},NV,e);return{...e,...r}},z3=Ee(Pg,{shouldForwardProp:t=>qr(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:xg})(Ct(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${ss.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${ss.notchedOutline}`]:{borderColor:t.vars?t.alpha(t.vars.palette.common.onBackground,.23):e}},[`&.${ss.focused} .${ss.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(t.palette).filter(Ar()).map(([n])=>({props:{color:n},style:{[`&.${ss.focused} .${ss.notchedOutline}`]:{borderColor:(t.vars||t).palette[n].main}}})),{props:{},style:{[`&.${ss.error} .${ss.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${ss.disabled} .${ss.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}}},{props:({ownerState:n})=>n.startAdornment,style:{paddingLeft:14}},{props:({ownerState:n})=>n.endAdornment,style:{paddingRight:14}},{props:({ownerState:n})=>n.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:n,size:r})=>n.multiline&&r==="small",style:{padding:"8.5px 14px"}}]}})),B3=Ee(V3,{name:"MuiOutlinedInput",slot:"NotchedOutline"})(Ct(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?t.alpha(t.vars.palette.common.onBackground,.23):e}})),F3=Ee(kg,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:Ng})(Ct(({theme:t})=>({padding:"16.5px 14px",...!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:e})=>e.multiline,style:{padding:0}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}}]}))),WE=A.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiOutlinedInput"}),{components:s={},fullWidth:a=!1,inputComponent:c="input",label:h,multiline:d=!1,notched:f,slots:y={},slotProps:_={},type:E="text",...T}=r,C=U3(r),R=Sa(),I=Pl({props:r,muiFormControl:R,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),D={...r,color:I.color||"primary",disabled:I.disabled,error:I.error,focused:I.focused,formControl:R,fullWidth:a,hiddenLabel:I.hiddenLabel,multiline:d,size:I.size,type:E},F=y.root??s.Root??z3,V=y.input??s.Input??F3,[B,j]=ct("notchedOutline",{elementType:B3,className:C.notchedOutline,shouldForwardComponentProp:!0,ownerState:D,externalForwardedProps:{slots:y,slotProps:_},additionalProps:{label:h!=null&&h!==""&&I.required?z.jsxs(A.Fragment,{children:[h," ","*"]}):h}});return z.jsx(HE,{slots:{root:F,input:V},slotProps:_,renderSuffix:G=>z.jsx(B,{...j,notched:typeof f<"u"?f:!!(G.startAdornment||G.filled||G.focused)}),fullWidth:a,inputComponent:c,multiline:d,ref:n,type:E,...T,classes:{...C,notchedOutline:null}})});WE.muiName="Input";function Ux(t){return Et("MuiSelect",t)}const Oh=bt("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var vR;const j3=Ee(Lx,{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`&.${Oh.select}`]:e.select},{[`&.${Oh.select}`]:e[n.variant]},{[`&.${Oh.error}`]:e.error},{[`&.${Oh.multiple}`]:e.multiple}]}})({[`&.${Oh.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),H3=Ee(Vx,{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${Re(n.variant)}`],n.open&&e.iconOpen]}})({}),$3=Ee("input",{shouldForwardProp:t=>bx(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput"})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function ER(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}function q3(t){return t==null||typeof t=="string"&&!t.trim()}const G3=t=>{const{classes:e,variant:n,disabled:r,multiple:s,open:a,error:c}=t,h={select:["select",n,r&&"disabled",s&&"multiple",c&&"error"],icon:["icon",`icon${Re(n)}`,a&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return St(h,Ux,e)},W3=A.forwardRef(function(e,n){const{"aria-describedby":r,"aria-label":s,autoFocus:a,autoWidth:c,children:h,className:d,defaultOpen:f,defaultValue:y,disabled:_,displayEmpty:E,error:T=!1,IconComponent:C,inputRef:R,labelId:I,MenuProps:D={},multiple:F,name:V,onBlur:B,onChange:j,onClose:G,onFocus:x,onOpen:P,open:N,readOnly:U,renderValue:L,required:S,SelectDisplayProps:k={},tabIndex:Y,type:ee,value:H,variant:te="standard",...fe}=e,[le,be]=p0({controlled:H,default:y,name:"Select"}),[$,ie]=p0({controlled:N,default:f,name:"Select"}),de=A.useRef(null),pe=A.useRef(null),[me,ve]=A.useState(null),{current:Ne}=A.useRef(N!=null),[it,De]=A.useState(),ke=dr(n,R),Ge=A.useCallback(we=>{pe.current=we,we&&ve(we)},[]),Qe=me?.parentNode;A.useImperativeHandle(ke,()=>({focus:()=>{pe.current.focus()},node:de.current,value:le}),[le]),A.useEffect(()=>{f&&$&&me&&!Ne&&(De(c?null:Qe.clientWidth),pe.current.focus())},[me,c]),A.useEffect(()=>{a&&pe.current.focus()},[a]),A.useEffect(()=>{if(!I)return;const we=Rr(pe.current).getElementById(I);if(we){const Ue=()=>{getSelection().isCollapsed&&pe.current.focus()};return we.addEventListener("click",Ue),()=>{we.removeEventListener("click",Ue)}}},[I]);const ft=(we,Ue)=>{we?P&&P(Ue):G&&G(Ue),Ne||(De(c?null:Qe.clientWidth),ie(we))},Ae=we=>{we.button===0&&(we.preventDefault(),pe.current.focus(),ft(!0,we))},ut=we=>{ft(!1,we)},ln=A.Children.toArray(h),cn=we=>{const Ue=ln.find(en=>en.props.value===we.target.value);Ue!==void 0&&(be(Ue.props.value),j&&j(we,Ue))},Kt=we=>Ue=>{let en;if(Ue.currentTarget.hasAttribute("tabindex")){if(F){en=Array.isArray(le)?le.slice():[];const Pr=le.indexOf(we.props.value);Pr===-1?en.push(we.props.value):en.splice(Pr,1)}else en=we.props.value;if(we.props.onClick&&we.props.onClick(Ue),le!==en&&(be(en),j)){const Pr=Ue.nativeEvent||Ue,Ia=new Pr.constructor(Pr.type,Pr);Object.defineProperty(Ia,"target",{writable:!0,value:{value:en,name:V}}),j(Ia,we)}F||ft(!1,Ue)}},pt=we=>{U||[" ","ArrowUp","ArrowDown","Enter"].includes(we.key)&&(we.preventDefault(),ft(!0,we))},st=me!==null&&$,Mt=we=>{!st&&B&&(Object.defineProperty(we,"target",{writable:!0,value:{value:le,name:V}}),B(we))};delete fe["aria-invalid"];let Pe,Nr;const lt=[];let fr=!1;(Rm({value:le})||E)&&(L?Pe=L(le):fr=!0);const fi=ln.map(we=>{if(!A.isValidElement(we))return null;let Ue;if(F){if(!Array.isArray(le))throw new Error(oo(2));Ue=le.some(en=>ER(en,we.props.value)),Ue&&fr&&lt.push(we.props.children)}else Ue=ER(le,we.props.value),Ue&&fr&&(Nr=we.props.children);return A.cloneElement(we,{"aria-selected":Ue?"true":"false",onClick:Kt(we),onKeyUp:en=>{en.key===" "&&en.preventDefault(),we.props.onKeyUp&&we.props.onKeyUp(en)},role:"option",selected:Ue,value:void 0,"data-value":we.props.value})});fr&&(F?lt.length===0?Pe=null:Pe=lt.reduce((we,Ue,en)=>(we.push(Ue),en<lt.length-1&&we.push(", "),we),[]):Pe=Nr);let pi=it;!c&&Ne&&me&&(pi=Qe.clientWidth);let ar;typeof Y<"u"?ar=Y:ar=_?null:0;const Li=k.id||(V?`mui-component-select-${V}`:void 0),pr={...e,variant:te,value:le,open:st,error:T},Rt=G3(pr),mi={...D.PaperProps,...typeof D.slotProps?.paper=="function"?D.slotProps.paper(pr):D.slotProps?.paper},Jn={...D.MenuListProps,...typeof D.slotProps?.list=="function"?D.slotProps.list(pr):D.slotProps?.list},yn=Rg();return z.jsxs(A.Fragment,{children:[z.jsx(j3,{as:"div",ref:Ge,tabIndex:ar,role:"combobox","aria-controls":st?yn:void 0,"aria-disabled":_?"true":void 0,"aria-expanded":st?"true":"false","aria-haspopup":"listbox","aria-label":s,"aria-labelledby":[I,Li].filter(Boolean).join(" ")||void 0,"aria-describedby":r,"aria-required":S?"true":void 0,"aria-invalid":T?"true":void 0,onKeyDown:pt,onMouseDown:_||U?null:Ae,onBlur:Mt,onFocus:x,...k,ownerState:pr,className:Fe(k.className,Rt.select,d),id:Li,children:q3(Pe)?vR||(vR=z.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):Pe}),z.jsx($3,{"aria-invalid":T,value:Array.isArray(le)?le.join(","):le,name:V,ref:de,"aria-hidden":!0,onChange:cn,tabIndex:-1,disabled:_,className:Rt.nativeInput,autoFocus:a,required:S,...fe,ownerState:pr}),z.jsx(H3,{as:C,className:Rt.icon,ownerState:pr}),z.jsx(x3,{id:`menu-${V||""}`,anchorEl:Qe,open:st,onClose:ut,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...D,slotProps:{...D.slotProps,list:{"aria-labelledby":I,role:"listbox","aria-multiselectable":F?"true":void 0,disableListWrap:!0,id:yn,...Jn},paper:{...mi,style:{minWidth:pi,...mi!=null?mi.style:null}}},children:fi})]})}),K3=t=>{const{classes:e}=t,r=St({root:["root"]},Ux,e);return{...e,...r}},KE={name:"MuiSelect",slot:"Root",shouldForwardProp:t=>qr(t)&&t!=="variant"},Y3=Ee(qE,KE)(""),Q3=Ee(WE,KE)(""),X3=Ee($E,KE)(""),zx=A.forwardRef(function(e,n){const r=Dt({name:"MuiSelect",props:e}),{autoWidth:s=!1,children:a,classes:c={},className:h,defaultOpen:d=!1,displayEmpty:f=!1,IconComponent:y=kV,id:_,input:E,inputProps:T,label:C,labelId:R,MenuProps:I,multiple:D=!1,native:F=!1,onClose:V,onOpen:B,open:j,renderValue:G,SelectDisplayProps:x,variant:P="outlined",...N}=r,U=F?D3:W3,L=Sa(),S=Pl({props:r,muiFormControl:L,states:["variant","error"]}),k=S.variant||P,Y={...r,variant:k,classes:c},ee=K3(Y),{root:H,...te}=ee,fe=E||{standard:z.jsx(Y3,{ownerState:Y}),outlined:z.jsx(Q3,{label:C,ownerState:Y}),filled:z.jsx(X3,{ownerState:Y})}[k],le=dr(n,du(fe));return z.jsx(A.Fragment,{children:A.cloneElement(fe,{inputComponent:U,inputProps:{children:a,error:S.error,IconComponent:y,variant:k,type:void 0,multiple:D,...F?{id:_}:{autoWidth:s,defaultOpen:d,displayEmpty:f,labelId:R,MenuProps:I,onClose:V,onOpen:B,open:j,renderValue:G,SelectDisplayProps:{id:_,...x}},...T,classes:T?ir(te,T.classes):te,...E?E.props.inputProps:{}},...(D&&F||f)&&k==="outlined"?{notched:!0}:{},ref:le,className:Fe(fe.props.className,h,ee.root),...!E&&{variant:k},...N})})});zx.muiName="Select";function J3(t={}){const{autoHideDuration:e=null,disableWindowBlurListener:n=!1,onClose:r,open:s,resumeHideDuration:a}=t,c=zE();A.useEffect(()=>{if(!s)return;function D(F){F.defaultPrevented||F.key==="Escape"&&r?.(F,"escapeKeyDown")}return document.addEventListener("keydown",D),()=>{document.removeEventListener("keydown",D)}},[s,r]);const h=fs((D,F)=>{r?.(D,F)}),d=fs(D=>{!r||D==null||c.start(D,()=>{h(null,"timeout")})});A.useEffect(()=>(s&&d(e),c.clear),[s,e,d,c]);const f=D=>{r?.(D,"clickaway")},y=c.clear,_=A.useCallback(()=>{e!=null&&d(a??e*.5)},[e,a,d]),E=D=>F=>{const V=D.onBlur;V?.(F),_()},T=D=>F=>{const V=D.onFocus;V?.(F),y()},C=D=>F=>{const V=D.onMouseEnter;V?.(F),y()},R=D=>F=>{const V=D.onMouseLeave;V?.(F),_()};return A.useEffect(()=>{if(!n&&s)return window.addEventListener("focus",_),window.addEventListener("blur",y),()=>{window.removeEventListener("focus",_),window.removeEventListener("blur",y)}},[n,s,_,y]),{getRootProps:(D={})=>{const F={...wm(t),...wm(D)};return{role:"presentation",...D,...F,onBlur:E(F),onFocus:T(F),onMouseEnter:C(F),onMouseLeave:R(F)}},onClickAway:f}}function Z3(t){return Et("MuiSnackbarContent",t)}bt("MuiSnackbarContent",["root","message","action"]);const eU=t=>{const{classes:e}=t;return St({root:["root"],action:["action"],message:["message"]},Z3,e)},tU=Ee(BE,{name:"MuiSnackbarContent",slot:"Root"})(Ct(({theme:t})=>{const e=t.palette.mode==="light"?.8:.98;return{...t.typography.body2,color:t.vars?t.vars.palette.SnackbarContent.color:t.palette.getContrastText(c0(t.palette.background.default,e)),backgroundColor:t.vars?t.vars.palette.SnackbarContent.bg:c0(t.palette.background.default,e),display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",flexGrow:1,[t.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}}})),nU=Ee("div",{name:"MuiSnackbarContent",slot:"Message"})({padding:"8px 0"}),rU=Ee("div",{name:"MuiSnackbarContent",slot:"Action"})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),iU=A.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiSnackbarContent"}),{action:s,className:a,message:c,role:h="alert",...d}=r,f=r,y=eU(f);return z.jsxs(tU,{role:h,elevation:6,className:Fe(y.root,a),ownerState:f,ref:n,...d,children:[z.jsx(nU,{className:y.message,ownerState:f,children:c}),s?z.jsx(rU,{className:y.action,ownerState:f,children:s}):null]})});function sU(t){return Et("MuiSnackbar",t)}bt("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);const oU=t=>{const{classes:e,anchorOrigin:n}=t,r={root:["root",`anchorOrigin${Re(n.vertical)}${Re(n.horizontal)}`]};return St(r,sU,e)},aU=Ee("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`anchorOrigin${Re(n.anchorOrigin.vertical)}${Re(n.anchorOrigin.horizontal)}`]]}})(Ct(({theme:t})=>({zIndex:(t.vars||t).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center",variants:[{props:({ownerState:e})=>e.anchorOrigin.vertical==="top",style:{top:8,[t.breakpoints.up("sm")]:{top:24}}},{props:({ownerState:e})=>e.anchorOrigin.vertical!=="top",style:{bottom:8,[t.breakpoints.up("sm")]:{bottom:24}}},{props:({ownerState:e})=>e.anchorOrigin.horizontal==="left",style:{justifyContent:"flex-start",[t.breakpoints.up("sm")]:{left:24,right:"auto"}}},{props:({ownerState:e})=>e.anchorOrigin.horizontal==="right",style:{justifyContent:"flex-end",[t.breakpoints.up("sm")]:{right:24,left:"auto"}}},{props:({ownerState:e})=>e.anchorOrigin.horizontal==="center",style:{[t.breakpoints.up("sm")]:{left:"50%",right:"auto",transform:"translateX(-50%)"}}}]}))),lU=A.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiSnackbar"}),s=Ag(),a={enter:s.transitions.duration.enteringScreen,exit:s.transitions.duration.leavingScreen},{action:c,anchorOrigin:{vertical:h,horizontal:d}={vertical:"bottom",horizontal:"left"},autoHideDuration:f=null,children:y,className:_,ClickAwayListenerProps:E,ContentProps:T,disableWindowBlurListener:C=!1,message:R,onBlur:I,onClose:D,onFocus:F,onMouseEnter:V,onMouseLeave:B,open:j,resumeHideDuration:G,slots:x={},slotProps:P={},TransitionComponent:N,transitionDuration:U=a,TransitionProps:{onEnter:L,onExited:S,...k}={},...Y}=r,ee={...r,anchorOrigin:{vertical:h,horizontal:d},autoHideDuration:f,disableWindowBlurListener:C,TransitionComponent:N,transitionDuration:U},H=oU(ee),{getRootProps:te,onClickAway:fe}=J3({...ee}),[le,be]=A.useState(!0),$=ft=>{be(!0),S&&S(ft)},ie=(ft,Ae)=>{be(!1),L&&L(ft,Ae)},de={slots:{transition:N,...x},slotProps:{content:T,clickAwayListener:E,transition:k,...P}},[pe,me]=ct("root",{ref:n,className:[H.root,_],elementType:aU,getSlotProps:te,externalForwardedProps:{...de,...Y},ownerState:ee}),[ve,{ownerState:Ne,...it}]=ct("clickAwayListener",{elementType:g6,externalForwardedProps:de,getSlotProps:ft=>({onClickAway:(...Ae)=>{const ut=Ae[0];ft.onClickAway?.(...Ae),!ut?.defaultMuiPrevented&&fe(...Ae)}}),ownerState:ee}),[De,ke]=ct("content",{elementType:iU,shouldForwardComponentProp:!0,externalForwardedProps:de,additionalProps:{message:R,action:c},ownerState:ee}),[Ge,Qe]=ct("transition",{elementType:Im,externalForwardedProps:de,getSlotProps:ft=>({onEnter:(...Ae)=>{ft.onEnter?.(...Ae),ie(...Ae)},onExited:(...Ae)=>{ft.onExited?.(...Ae),$(...Ae)}}),additionalProps:{appear:!0,in:j,timeout:U,direction:h==="top"?"down":"up"},ownerState:ee});return!j&&le?null:z.jsx(ve,{...it,...x.clickAwayListener&&{ownerState:Ne},children:z.jsx(pe,{...me,children:z.jsx(Ge,{...Qe,children:y||z.jsx(De,{...ke})})})})});function cU(t){return Et("MuiTextField",t)}bt("MuiTextField",["root"]);const uU={standard:qE,filled:$E,outlined:WE},hU=t=>{const{classes:e}=t;return St({root:["root"]},cU,e)},dU=Ee(H6,{name:"MuiTextField",slot:"Root"})({}),td=A.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiTextField"}),{autoComplete:s,autoFocus:a=!1,children:c,className:h,color:d="primary",defaultValue:f,disabled:y=!1,error:_=!1,FormHelperTextProps:E,fullWidth:T=!1,helperText:C,id:R,InputLabelProps:I,inputProps:D,InputProps:F,inputRef:V,label:B,maxRows:j,minRows:G,multiline:x=!1,name:P,onBlur:N,onChange:U,onFocus:L,placeholder:S,required:k=!1,rows:Y,select:ee=!1,SelectProps:H,slots:te={},slotProps:fe={},type:le,value:be,variant:$="outlined",...ie}=r,de={...r,autoFocus:a,color:d,disabled:y,error:_,fullWidth:T,multiline:x,required:k,select:ee,variant:$},pe=hU(de),me=Rg(R),ve=C&&me?`${me}-helper-text`:void 0,Ne=B&&me?`${me}-label`:void 0,it=uU[$],De={slots:te,slotProps:{input:F,inputLabel:I,htmlInput:D,formHelperText:E,select:H,...fe}},ke={},Ge=De.slotProps.inputLabel;$==="outlined"&&(Ge&&typeof Ge.shrink<"u"&&(ke.notched=Ge.shrink),ke.label=B),ee&&((!H||!H.native)&&(ke.id=void 0),ke["aria-describedby"]=void 0);const[Qe,ft]=ct("root",{elementType:dU,shouldForwardComponentProp:!0,externalForwardedProps:{...De,...ie},ownerState:de,className:Fe(pe.root,h),ref:n,additionalProps:{disabled:y,error:_,fullWidth:T,required:k,color:d,variant:$}}),[Ae,ut]=ct("input",{elementType:it,externalForwardedProps:De,additionalProps:ke,ownerState:de}),[ln,cn]=ct("inputLabel",{elementType:h3,externalForwardedProps:De,ownerState:de}),[Kt,pt]=ct("htmlInput",{elementType:"input",externalForwardedProps:De,ownerState:de}),[st,Mt]=ct("formHelperText",{elementType:J6,externalForwardedProps:De,ownerState:de}),[Pe,Nr]=ct("select",{elementType:zx,externalForwardedProps:De,ownerState:de}),lt=z.jsx(Ae,{"aria-describedby":ve,autoComplete:s,autoFocus:a,defaultValue:f,fullWidth:T,multiline:x,name:P,rows:Y,maxRows:j,minRows:G,type:le,value:be,id:me,inputRef:V,onBlur:N,onChange:U,onFocus:L,placeholder:S,inputProps:pt,slots:{input:te.htmlInput?Kt:void 0},...ut});return z.jsxs(Qe,{...ft,children:[B!=null&&B!==""&&z.jsx(ln,{htmlFor:me,id:Ne,...cn,children:B}),ee?z.jsx(Pe,{"aria-describedby":ve,id:me,labelId:Ne,value:be,input:lt,...Nr,children:c}):lt,C&&z.jsx(st,{id:ve,...Mt,children:C})]})}),fU=kn(z.jsx("path",{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2M6 9h12v2H6zm8 5H6v-2h8zm4-6H6V6h12z"})),Bx=kn(z.jsx("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"})),pU=kn(z.jsx("path",{d:"m17 7-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4z"})),mU=kn(z.jsx("path",{d:"M16.5 6v11.5c0 2.21-1.79 4-4 4s-4-1.79-4-4V5c0-1.38 1.12-2.5 2.5-2.5s2.5 1.12 2.5 2.5v10.5c0 .55-.45 1-1 1s-1-.45-1-1V6H10v9.5c0 1.38 1.12 2.5 2.5 2.5s2.5-1.12 2.5-2.5V5c0-2.21-1.79-4-4-4S7 2.79 7 5v12.5c0 3.04 2.46 5.5 5.5 5.5s5.5-2.46 5.5-5.5V6z"})),gU=kn(z.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12z"})),yU=kn(z.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8m3.5-9c.83 0 1.5-.67 1.5-1.5S16.33 8 15.5 8 14 8.67 14 9.5s.67 1.5 1.5 1.5m-7 0c.83 0 1.5-.67 1.5-1.5S9.33 8 8.5 8 7 8.67 7 9.5 7.67 11 8.5 11m3.5 6.5c2.33 0 4.31-1.46 5.11-3.5H6.89c.8 2.04 2.78 3.5 5.11 3.5"})),_U=kn(z.jsx("path",{d:"M12 14c1.66 0 2.99-1.34 2.99-3L15 5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3m5.3-3c0 3-2.54 5.1-5.3 5.1S6.7 14 6.7 11H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c3.28-.48 6-3.3 6-6.72z"})),Fx=kn([z.jsx("circle",{cx:"12",cy:"12",r:"3.2"},"0"),z.jsx("path",{d:"M9 2 7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5"},"1")]),jx=kn(z.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"})),vU=kn(z.jsx("path",{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"})),EU=()=>{};var bR={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hx={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ge=function(t,e){if(!t)throw fu(e)},fu=function(t){return new Error("Firebase Database ("+Hx.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $x=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},bU=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=t[n++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=t[n++],c=t[n++],h=t[n++],d=((s&7)<<18|(a&63)<<12|(c&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const a=t[n++],c=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|c&63)}}return e.join("")},YE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const a=t[s],c=s+1<t.length,h=c?t[s+1]:0,d=s+2<t.length,f=d?t[s+2]:0,y=a>>2,_=(a&3)<<4|h>>4;let E=(h&15)<<2|f>>6,T=f&63;d||(T=64,c||(E=64)),r.push(n[y],n[_],n[E],n[T])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray($x(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):bU(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const a=n[t.charAt(s++)],h=s<t.length?n[t.charAt(s)]:0;++s;const f=s<t.length?n[t.charAt(s)]:64;++s;const _=s<t.length?n[t.charAt(s)]:64;if(++s,a==null||h==null||f==null||_==null)throw new SU;const E=a<<2|h>>4;if(r.push(E),f!==64){const T=h<<4&240|f>>2;if(r.push(T),_!==64){const C=f<<6&192|_;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class SU extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const qx=function(t){const e=$x(t);return YE.encodeByteArray(e,!0)},xm=function(t){return qx(t).replace(/\./g,"")},Nm=function(t){try{return YE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TU(t){return Gx(void 0,t)}function Gx(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!wU(n)||(t[n]=Gx(t[n],e[n]));return t}function wU(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CU(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RU=()=>CU().__FIREBASE_DEFAULTS__,AU=()=>{if(typeof process>"u"||typeof bR>"u")return;const t=bR.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},IU=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Nm(t[1]);return e&&JSON.parse(e)},Og=()=>{try{return EU()||RU()||AU()||IU()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Wx=t=>Og()?.emulatorHosts?.[t],QE=t=>{const e=Wx(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Kx=()=>Og()?.config,Yx=t=>Og()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ts(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Dg(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XE(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[xm(JSON.stringify(n)),xm(JSON.stringify(c)),""].join(".")}const nd={};function xU(){const t={prod:[],emulator:[]};for(const e of Object.keys(nd))nd[e]?t.emulator.push(e):t.prod.push(e);return t}function NU(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let SR=!1;function Mg(t,e){if(typeof window>"u"||typeof document>"u"||!Ts(window.location.host)||nd[t]===e||nd[t]||SR)return;nd[t]=e;function n(E){return`__firebase__banner__${E}`}const r="__firebase__banner",a=xU().prod.length>0;function c(){const E=document.getElementById(r);E&&E.remove()}function h(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function d(E,T){E.setAttribute("width","24"),E.setAttribute("id",T),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function f(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{SR=!0,c()},E}function y(E,T){E.setAttribute("id",T),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function _(){const E=NU(r),T=n("text"),C=document.getElementById(T)||document.createElement("span"),R=n("learnmore"),I=document.getElementById(R)||document.createElement("a"),D=n("preprendIcon"),F=document.getElementById(D)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const V=E.element;h(V),y(I,R);const B=f();d(F,D),V.append(F,C,I,B),document.body.appendChild(V)}a?(C.innerText="Preview backend disconnected.",F.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(F.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",T)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function JE(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sr())}function PU(){const t=Og()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function kU(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function OU(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Qx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function DU(){const t=sr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function MU(){return Hx.NODE_ADMIN===!0}function LU(){return!PU()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function VU(){try{return typeof indexedDB=="object"}catch{return!1}}function UU(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zU="FirebaseError";class ws extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=zU,Object.setPrototypeOf(this,ws.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qd.prototype.create)}}class qd{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,a=this.errors[e],c=a?BU(a,r):"Error",h=`${this.serviceName}: ${c} (${s}).`;return new ws(s,h,r)}}function BU(t,e){return t.replace(FU,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const FU=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vd(t){return JSON.parse(t)}function jn(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xx=function(t){let e={},n={},r={},s="";try{const a=t.split(".");e=vd(Nm(a[0])||""),n=vd(Nm(a[1])||""),s=a[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:s}},jU=function(t){const e=Xx(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},HU=function(t){const e=Xx(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cs(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Qc(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Pm(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function km(t,e,n){const r={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=e.call(n,t[s],s,t));return r}function vs(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const a=t[s],c=e[s];if(TR(a)&&TR(c)){if(!vs(a,c))return!1}else if(a!==c)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function TR(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function $h(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,a]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(a)}}),e}function qh(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $U{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let _=0;_<16;_++)r[_]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let _=0;_<16;_++)r[_]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let _=16;_<80;_++){const E=r[_-3]^r[_-8]^r[_-14]^r[_-16];r[_]=(E<<1|E>>>31)&4294967295}let s=this.chain_[0],a=this.chain_[1],c=this.chain_[2],h=this.chain_[3],d=this.chain_[4],f,y;for(let _=0;_<80;_++){_<40?_<20?(f=h^a&(c^h),y=1518500249):(f=a^c^h,y=1859775393):_<60?(f=a&c|h&(a|c),y=2400959708):(f=a^c^h,y=3395469782);const E=(s<<5|s>>>27)+f+d+y+r[_]&4294967295;d=h,h=c,c=(a<<30|a>>>2)&4294967295,a=s,s=E}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let s=0;const a=this.buf_;let c=this.inbuf_;for(;s<n;){if(c===0)for(;s<=r;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<n;)if(a[c]=e.charCodeAt(s),++c,++s,c===this.blockSize){this.compress_(a),c=0;break}}else for(;s<n;)if(a[c]=e[s],++c,++s,c===this.blockSize){this.compress_(a),c=0;break}}this.inbuf_=c,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let s=0;s<5;s++)for(let a=24;a>=0;a-=8)e[r]=this.chain_[s]>>a&255,++r;return e}}function qU(t,e){const n=new GU(t,e);return n.subscribe.bind(n)}class GU{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");WU(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Dv),s.error===void 0&&(s.error=Dv),s.complete===void 0&&(s.complete=Dv);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function WU(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Dv(){}function Xc(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KU=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);if(s>=55296&&s<=56319){const a=s-55296;r++,ge(r<t.length,"Surrogate pair missing trail surrogate.");const c=t.charCodeAt(r)-56320;s=65536+(a<<10)+c}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},Lg=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kt(t){return t&&t._delegate?t._delegate:t}class co{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ll="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YU{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Xs;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(XU(e))try{this.getOrInitializeService({instanceIdentifier:ll})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=ll){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ll){return this.instances.has(e)}getOptions(e=ll){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);r===h&&c.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const a=this.instances.get(r);return a&&e(a,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:QU(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ll){return this.component?this.component.multipleInstances?e:ll:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function QU(t){return t===ll?void 0:t}function XU(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JU{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new YU(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ze;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ze||(Ze={}));const ZU={debug:Ze.DEBUG,verbose:Ze.VERBOSE,info:Ze.INFO,warn:Ze.WARN,error:Ze.ERROR,silent:Ze.SILENT},e9=Ze.INFO,t9={[Ze.DEBUG]:"log",[Ze.VERBOSE]:"log",[Ze.INFO]:"info",[Ze.WARN]:"warn",[Ze.ERROR]:"error"},n9=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=t9[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Vg{constructor(e){this.name=e,this._logLevel=e9,this._logHandler=n9,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ZU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ze.DEBUG,...e),this._logHandler(this,Ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ze.VERBOSE,...e),this._logHandler(this,Ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ze.INFO,...e),this._logHandler(this,Ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ze.WARN,...e),this._logHandler(this,Ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ze.ERROR,...e),this._logHandler(this,Ze.ERROR,...e)}}const r9=(t,e)=>e.some(n=>t instanceof n);let wR,CR;function i9(){return wR||(wR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function s9(){return CR||(CR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Jx=new WeakMap,b0=new WeakMap,Zx=new WeakMap,Mv=new WeakMap,ZE=new WeakMap;function o9(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",a),t.removeEventListener("error",c)},a=()=>{n(sa(t.result)),s()},c=()=>{r(t.error),s()};t.addEventListener("success",a),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&Jx.set(n,t)}).catch(()=>{}),ZE.set(e,t),e}function a9(t){if(b0.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",c),t.removeEventListener("abort",c)},a=()=>{n(),s()},c=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",a),t.addEventListener("error",c),t.addEventListener("abort",c)});b0.set(t,e)}let S0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return b0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Zx.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return sa(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function l9(t){S0=t(S0)}function c9(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Lv(this),e,...n);return Zx.set(r,e.sort?e.sort():[e]),sa(r)}:s9().includes(t)?function(...e){return t.apply(Lv(this),e),sa(Jx.get(this))}:function(...e){return sa(t.apply(Lv(this),e))}}function u9(t){return typeof t=="function"?c9(t):(t instanceof IDBTransaction&&a9(t),r9(t,i9())?new Proxy(t,S0):t)}function sa(t){if(t instanceof IDBRequest)return o9(t);if(Mv.has(t))return Mv.get(t);const e=u9(t);return e!==t&&(Mv.set(t,e),ZE.set(e,t)),e}const Lv=t=>ZE.get(t);function h9(t,e,{blocked:n,upgrade:r,blocking:s,terminated:a}={}){const c=indexedDB.open(t,e),h=sa(c);return r&&c.addEventListener("upgradeneeded",d=>{r(sa(c.result),d.oldVersion,d.newVersion,sa(c.transaction),d)}),n&&c.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),h.then(d=>{a&&d.addEventListener("close",()=>a()),s&&d.addEventListener("versionchange",f=>s(f.oldVersion,f.newVersion,f))}).catch(()=>{}),h}const d9=["get","getKey","getAll","getAllKeys","count"],f9=["put","add","delete","clear"],Vv=new Map;function RR(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Vv.get(e))return Vv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=f9.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||d9.includes(n)))return;const a=async function(c,...h){const d=this.transaction(c,s?"readwrite":"readonly");let f=d.store;return r&&(f=f.index(h.shift())),(await Promise.all([f[n](...h),s&&d.done]))[0]};return Vv.set(e,a),a}l9(t=>({...t,get:(e,n,r)=>RR(e,n)||t.get(e,n,r),has:(e,n)=>!!RR(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p9{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(m9(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function m9(t){return t.getComponent()?.type==="VERSION"}const T0="@firebase/app",AR="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uo=new Vg("@firebase/app"),g9="@firebase/app-compat",y9="@firebase/analytics-compat",_9="@firebase/analytics",v9="@firebase/app-check-compat",E9="@firebase/app-check",b9="@firebase/auth",S9="@firebase/auth-compat",T9="@firebase/database",w9="@firebase/data-connect",C9="@firebase/database-compat",R9="@firebase/functions",A9="@firebase/functions-compat",I9="@firebase/installations",x9="@firebase/installations-compat",N9="@firebase/messaging",P9="@firebase/messaging-compat",k9="@firebase/performance",O9="@firebase/performance-compat",D9="@firebase/remote-config",M9="@firebase/remote-config-compat",L9="@firebase/storage",V9="@firebase/storage-compat",U9="@firebase/firestore",z9="@firebase/ai",B9="@firebase/firestore-compat",F9="firebase",j9="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0="[DEFAULT]",H9={[T0]:"fire-core",[g9]:"fire-core-compat",[_9]:"fire-analytics",[y9]:"fire-analytics-compat",[E9]:"fire-app-check",[v9]:"fire-app-check-compat",[b9]:"fire-auth",[S9]:"fire-auth-compat",[T9]:"fire-rtdb",[w9]:"fire-data-connect",[C9]:"fire-rtdb-compat",[R9]:"fire-fn",[A9]:"fire-fn-compat",[I9]:"fire-iid",[x9]:"fire-iid-compat",[N9]:"fire-fcm",[P9]:"fire-fcm-compat",[k9]:"fire-perf",[O9]:"fire-perf-compat",[D9]:"fire-rc",[M9]:"fire-rc-compat",[L9]:"fire-gcs",[V9]:"fire-gcs-compat",[U9]:"fire-fst",[B9]:"fire-fst-compat",[z9]:"fire-vertex","fire-js":"fire-js",[F9]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Om=new Map,$9=new Map,C0=new Map;function IR(t,e){try{t.container.addComponent(e)}catch(n){uo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function fa(t){const e=t.name;if(C0.has(e))return uo.debug(`There were multiple attempts to register component ${e}.`),!1;C0.set(e,t);for(const n of Om.values())IR(n,t);for(const n of $9.values())IR(n,t);return!0}function Gd(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function hr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q9={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},oa=new qd("app","Firebase",q9);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G9{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new co("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw oa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta=j9;function e2(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:w0,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw oa.create("bad-app-name",{appName:String(s)});if(n||(n=Kx()),!n)throw oa.create("no-options");const a=Om.get(s);if(a){if(vs(n,a.options)&&vs(r,a.config))return a;throw oa.create("duplicate-app",{appName:s})}const c=new JU(s);for(const d of C0.values())c.addComponent(d);const h=new G9(n,r,c);return Om.set(s,h),h}function Ug(t=w0){const e=Om.get(t);if(!e&&t===w0&&Kx())return e2();if(!e)throw oa.create("no-app",{appName:t});return e}function ui(t,e,n){let r=H9[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const c=[`Unable to register library "${r}" with version "${e}":`];s&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&a&&c.push("and"),a&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),uo.warn(c.join(" "));return}fa(new co(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W9="firebase-heartbeat-database",K9=1,Ed="firebase-heartbeat-store";let Uv=null;function t2(){return Uv||(Uv=h9(W9,K9,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ed)}catch(n){console.warn(n)}}}}).catch(t=>{throw oa.create("idb-open",{originalErrorMessage:t.message})})),Uv}async function Y9(t){try{const n=(await t2()).transaction(Ed),r=await n.objectStore(Ed).get(n2(t));return await n.done,r}catch(e){if(e instanceof ws)uo.warn(e.message);else{const n=oa.create("idb-get",{originalErrorMessage:e?.message});uo.warn(n.message)}}}async function xR(t,e){try{const r=(await t2()).transaction(Ed,"readwrite");await r.objectStore(Ed).put(e,n2(t)),await r.done}catch(n){if(n instanceof ws)uo.warn(n.message);else{const r=oa.create("idb-set",{originalErrorMessage:n?.message});uo.warn(r.message)}}}function n2(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q9=1024,X9=30;class J9{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ez(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=NR();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>X9){const s=tz(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){uo.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=NR(),{heartbeatsToSend:n,unsentEntries:r}=Z9(this._heartbeatsCache.heartbeats),s=xm(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return uo.warn(e),""}}}function NR(){return new Date().toISOString().substring(0,10)}function Z9(t,e=Q9){const n=[];let r=t.slice();for(const s of t){const a=n.find(c=>c.agent===s.agent);if(a){if(a.dates.push(s.date),PR(n)>e){a.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),PR(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class ez{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return VU()?UU().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Y9(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return xR(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return xR(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function PR(t){return xm(JSON.stringify({version:2,heartbeats:t})).length}function tz(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nz(t){fa(new co("platform-logger",e=>new p9(e),"PRIVATE")),fa(new co("heartbeat",e=>new J9(e),"PRIVATE")),ui(T0,AR,t),ui(T0,AR,"esm2020"),ui("fire-js","")}nz("");var rz="firebase",iz="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ui(rz,iz,"app");function r2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const sz=r2,i2=new qd("auth","Firebase",r2());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dm=new Vg("@firebase/auth");function oz(t,...e){Dm.logLevel<=Ze.WARN&&Dm.warn(`Auth (${Ta}): ${t}`,...e)}function nm(t,...e){Dm.logLevel<=Ze.ERROR&&Dm.error(`Auth (${Ta}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hi(t,...e){throw tb(t,...e)}function Pi(t,...e){return tb(t,...e)}function eb(t,e,n){const r={...sz(),[e]:n};return new qd("auth","Firebase",r).create(e,{appName:t.name})}function ro(t){return eb(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function az(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&hi(t,"argument-error"),eb(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function tb(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return i2.create(t,...e)}function Me(t,e,...n){if(!t)throw tb(e,...n)}function Zs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw nm(e),new Error(e)}function ho(t,e){t||Zs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R0(){return typeof self<"u"&&self.location?.href||""}function lz(){return kR()==="http:"||kR()==="https:"}function kR(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cz(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(lz()||OU()||"connection"in navigator)?navigator.onLine:!0}function uz(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(e,n){this.shortDelay=e,this.longDelay=n,ho(n>e,"Short delay should be less than long delay!"),this.isMobile=JE()||Qx()}get(){return cz()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nb(t,e){ho(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Zs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Zs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Zs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hz={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dz=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],fz=new Wd(3e4,6e4);function _o(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Rs(t,e,n,r,s={}){return o2(t,s,async()=>{let a={},c={};r&&(e==="GET"?c=r:a={body:JSON.stringify(r)});const h=pu({key:t.config.apiKey,...c}).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const f={method:e,headers:d,...a};return kU()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&Ts(t.emulatorConfig.host)&&(f.credentials="include"),s2.fetch()(await a2(t,t.config.apiHost,n,h),f)})}async function o2(t,e,n){t._canInitEmulator=!1;const r={...hz,...e};try{const s=new mz(t),a=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const c=await a.json();if("needConfirmation"in c)throw Bp(t,"account-exists-with-different-credential",c);if(a.ok&&!("errorMessage"in c))return c;{const h=a.ok?c.errorMessage:c.error.message,[d,f]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Bp(t,"credential-already-in-use",c);if(d==="EMAIL_EXISTS")throw Bp(t,"email-already-in-use",c);if(d==="USER_DISABLED")throw Bp(t,"user-disabled",c);const y=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw eb(t,y,f);hi(t,y)}}catch(s){if(s instanceof ws)throw s;hi(t,"network-request-failed",{message:String(s)})}}async function Kd(t,e,n,r,s={}){const a=await Rs(t,e,n,r,s);return"mfaPendingCredential"in a&&hi(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function a2(t,e,n,r){const s=`${e}${n}?${r}`,a=t,c=a.config.emulator?nb(t.config,s):`${t.config.apiScheme}://${s}`;return dz.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(c).toString():c}function pz(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class mz{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Pi(this.auth,"network-request-failed")),fz.get())})}}function Bp(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Pi(t,e,r);return s.customData._tokenResponse=n,s}function OR(t){return t!==void 0&&t.enterprise!==void 0}class gz{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return pz(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function yz(t,e){return Rs(t,"GET","/v2/recaptchaConfig",_o(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _z(t,e){return Rs(t,"POST","/v1/accounts:delete",e)}async function Mm(t,e){return Rs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function vz(t,e=!1){const n=kt(t),r=await n.getIdToken(e),s=rb(r);Me(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,c=a?.sign_in_provider;return{claims:s,token:r,authTime:rd(zv(s.auth_time)),issuedAtTime:rd(zv(s.iat)),expirationTime:rd(zv(s.exp)),signInProvider:c||null,signInSecondFactor:a?.sign_in_second_factor||null}}function zv(t){return Number(t)*1e3}function rb(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return nm("JWT malformed, contained fewer than 3 sections"),null;try{const s=Nm(n);return s?JSON.parse(s):(nm("Failed to decode base64 JWT payload"),null)}catch(s){return nm("Caught error parsing JWT payload as JSON",s?.toString()),null}}function DR(t){const e=rb(t);return Me(e,"internal-error"),Me(typeof e.exp<"u","internal-error"),Me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ws&&Ez(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Ez({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bz{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=rd(this.lastLoginAt),this.creationTime=rd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lm(t){const e=t.auth,n=await t.getIdToken(),r=await Jc(t,Mm(e,{idToken:n}));Me(r?.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const a=s.providerUserInfo?.length?l2(s.providerUserInfo):[],c=Tz(t.providerData,a),h=t.isAnonymous,d=!(t.email&&s.passwordHash)&&!c?.length,f=h?d:!1,y={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new A0(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,y)}async function Sz(t){const e=kt(t);await Lm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Tz(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function l2(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wz(t,e){const n=await o2(t,{},async()=>{const r=pu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=t.config,c=await a2(t,s,"/v1/token",`key=${a}`),h=await t._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:h,body:r};return t.emulatorConfig&&Ts(t.emulatorConfig.host)&&(d.credentials="include"),s2.fetch()(c,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Cz(t,e){return Rs(t,"POST","/v2/accounts:revokeToken",_o(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Me(e.idToken,"internal-error"),Me(typeof e.idToken<"u","internal-error"),Me(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):DR(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Me(e.length!==0,"internal-error");const n=DR(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Me(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:a}=await wz(e,n);this.updateTokensAndExpiration(r,s,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:a}=n,c=new Bc;return r&&(Me(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),s&&(Me(typeof s=="string","internal-error",{appName:e}),c.accessToken=s),a&&(Me(typeof a=="number","internal-error",{appName:e}),c.expirationTime=a),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Bc,this.toJSON())}_performRefresh(){return Zs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xo(t,e){Me(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class xi{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new bz(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new A0(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Jc(this,this.stsTokenManager.getToken(this.auth,e));return Me(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return vz(this,e)}reload(){return Sz(this)}_assign(e){this!==e&&(Me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new xi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Lm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(hr(this.auth.app))return Promise.reject(ro(this.auth));const e=await this.getIdToken();return await Jc(this,_z(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,a=n.phoneNumber??void 0,c=n.photoURL??void 0,h=n.tenantId??void 0,d=n._redirectEventId??void 0,f=n.createdAt??void 0,y=n.lastLoginAt??void 0,{uid:_,emailVerified:E,isAnonymous:T,providerData:C,stsTokenManager:R}=n;Me(_&&R,e,"internal-error");const I=Bc.fromJSON(this.name,R);Me(typeof _=="string",e,"internal-error"),Xo(r,e.name),Xo(s,e.name),Me(typeof E=="boolean",e,"internal-error"),Me(typeof T=="boolean",e,"internal-error"),Xo(a,e.name),Xo(c,e.name),Xo(h,e.name),Xo(d,e.name),Xo(f,e.name),Xo(y,e.name);const D=new xi({uid:_,auth:e,email:s,emailVerified:E,displayName:r,isAnonymous:T,photoURL:c,phoneNumber:a,tenantId:h,stsTokenManager:I,createdAt:f,lastLoginAt:y});return C&&Array.isArray(C)&&(D.providerData=C.map(F=>({...F}))),d&&(D._redirectEventId=d),D}static async _fromIdTokenResponse(e,n,r=!1){const s=new Bc;s.updateFromServerResponse(n);const a=new xi({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Lm(a),a}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Me(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?l2(s.providerUserInfo):[],c=!(s.email&&s.passwordHash)&&!a?.length,h=new Bc;h.updateFromIdToken(r);const d=new xi({uid:s.localId,auth:e,stsTokenManager:h,isAnonymous:c}),f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new A0(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!a?.length};return Object.assign(d,f),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR=new Map;function eo(t){ho(t instanceof Function,"Expected a class definition");let e=MR.get(t);return e?(ho(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,MR.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}c2.type="NONE";const LR=c2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rm(t,e,n){return`firebase:${t}:${e}:${n}`}class Fc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:a}=this.auth;this.fullUserKey=rm(this.userKey,s.apiKey,a),this.fullPersistenceKey=rm("persistence",s.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Mm(this.auth,{idToken:e}).catch(()=>{});return n?xi._fromGetAccountInfoResponse(this.auth,n,e):null}return xi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Fc(eo(LR),e,r);const s=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let a=s[0]||eo(LR);const c=rm(r,e.config.apiKey,e.name);let h=null;for(const f of n)try{const y=await f._get(c);if(y){let _;if(typeof y=="string"){const E=await Mm(e,{idToken:y}).catch(()=>{});if(!E)break;_=await xi._fromGetAccountInfoResponse(e,E,y)}else _=xi._fromJSON(e,y);f!==a&&(h=_),a=f;break}}catch{}const d=s.filter(f=>f._shouldAllowMigration);return!a._shouldAllowMigration||!d.length?new Fc(a,e,r):(a=d[0],h&&await a._set(c,h.toJSON()),await Promise.all(n.map(async f=>{if(f!==a)try{await f._remove(c)}catch{}})),new Fc(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VR(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(f2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(u2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(m2(e))return"Blackberry";if(g2(e))return"Webos";if(h2(e))return"Safari";if((e.includes("chrome/")||d2(e))&&!e.includes("edge/"))return"Chrome";if(p2(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function u2(t=sr()){return/firefox\//i.test(t)}function h2(t=sr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function d2(t=sr()){return/crios\//i.test(t)}function f2(t=sr()){return/iemobile/i.test(t)}function p2(t=sr()){return/android/i.test(t)}function m2(t=sr()){return/blackberry/i.test(t)}function g2(t=sr()){return/webos/i.test(t)}function ib(t=sr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Rz(t=sr()){return ib(t)&&!!window.navigator?.standalone}function Az(){return DU()&&document.documentMode===10}function y2(t=sr()){return ib(t)||p2(t)||g2(t)||m2(t)||/windows phone/i.test(t)||f2(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _2(t,e=[]){let n;switch(t){case"Browser":n=VR(sr());break;case"Worker":n=`${VR(sr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ta}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iz{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((c,h)=>{try{const d=e(a);c(d)}catch(d){h(d)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xz(t,e={}){return Rs(t,"GET","/v2/passwordPolicy",_o(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nz=6;class Pz{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Nz,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kz{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new UR(this),this.idTokenSubscription=new UR(this),this.beforeStateQueue=new Iz(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=i2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=eo(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Fc.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Mm(this,{idToken:e}),r=await xi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(hr(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,c=r?._redirectEventId,h=await this.tryRedirectSignIn(e);(!a||a===c)&&h?.user&&(r=h.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Lm(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=uz()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(hr(this.app))return Promise.reject(ro(this));const n=e?kt(e):null;return n&&Me(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return hr(this.app)?Promise.reject(ro(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return hr(this.app)?Promise.reject(ro(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(eo(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await xz(this),n=new Pz(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new qd("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Cz(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&eo(e)||this._popupRedirectResolver;Me(n,this,"argument-error"),this.redirectPersistenceManager=await Fc.create(this,[eo(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Me(h,this,"internal-error"),h.then(()=>{c||a(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,s);return()=>{c=!0,d()}}else{const d=e.addObserver(n);return()=>{c=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=_2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(hr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&oz(`Error while retrieving App Check token: ${e.error}`),e?.token}}function vo(t){return kt(t)}class UR{constructor(e){this.auth=e,this.observer=null,this.addObserver=qU(n=>this.observer=n)}get next(){return Me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Oz(t){zg=t}function v2(t){return zg.loadJS(t)}function Dz(){return zg.recaptchaEnterpriseScript}function Mz(){return zg.gapiScript}function Lz(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Vz{constructor(){this.enterprise=new Uz}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Uz{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const zz="recaptcha-enterprise",E2="NO_RECAPTCHA";class Bz{constructor(e){this.type=zz,this.auth=vo(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(c,h)=>{yz(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const f=new gz(d);return a.tenantId==null?a._agentRecaptchaConfig=f:a._tenantRecaptchaConfigs[a.tenantId]=f,c(f.siteKey)}}).catch(d=>{h(d)})})}function s(a,c,h){const d=window.grecaptcha;OR(d)?d.enterprise.ready(()=>{d.enterprise.execute(a,{action:e}).then(f=>{c(f)}).catch(()=>{c(E2)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Vz().execute("siteKey",{action:"verify"}):new Promise((a,c)=>{r(this.auth).then(h=>{if(!n&&OR(window.grecaptcha))s(h,a,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let d=Dz();d.length!==0&&(d+=h),v2(d).then(()=>{s(h,a,c)}).catch(f=>{c(f)})}}).catch(h=>{c(h)})})}}async function zR(t,e,n,r=!1,s=!1){const a=new Bz(t);let c;if(s)c=E2;else try{c=await a.verify(n)}catch{c=await a.verify(n,!0)}const h={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const d=h.phoneEnrollmentInfo.phoneNumber,f=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:f,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const d=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:c}):Object.assign(h,{captchaResponse:c}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function Vm(t,e,n,r,s){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await zR(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await zR(t,e,n,n==="getOobCode");return r(t,c)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fz(t,e){const n=Gd(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),a=n.getOptions();if(vs(a,e??{}))return s;hi(s,"already-initialized")}return n.initialize({options:e})}function jz(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(eo);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function Hz(t,e,n){const r=vo(t);Me(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,a=b2(e),{host:c,port:h}=$z(e),d=h===null?"":`:${h}`,f={url:`${a}//${c}${d}/`},y=Object.freeze({host:c,port:h,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Me(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Me(vs(f,r.config.emulator)&&vs(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,Ts(c)?(Dg(`${a}//${c}${d}`),Mg("Auth",!0)):qz()}function b2(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function $z(t){const e=b2(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const a=s[1];return{host:a,port:BR(r.substr(a.length+1))}}else{const[a,c]=r.split(":");return{host:a,port:BR(c)}}}function BR(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function qz(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Zs("not implemented")}_getIdTokenResponse(e){return Zs("not implemented")}_linkToIdToken(e,n){return Zs("not implemented")}_getReauthenticationResolver(e){return Zs("not implemented")}}async function Gz(t,e){return Rs(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wz(t,e){return Kd(t,"POST","/v1/accounts:signInWithPassword",_o(t,e))}async function Kz(t,e){return Rs(t,"POST","/v1/accounts:sendOobCode",_o(t,e))}async function Yz(t,e){return Kz(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qz(t,e){return Kd(t,"POST","/v1/accounts:signInWithEmailLink",_o(t,e))}async function Xz(t,e){return Kd(t,"POST","/v1/accounts:signInWithEmailLink",_o(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd extends sb{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new bd(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new bd(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Vm(e,n,"signInWithPassword",Wz);case"emailLink":return Qz(e,{email:this._email,oobCode:this._password});default:hi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Vm(e,r,"signUpPassword",Gz);case"emailLink":return Xz(e,{idToken:n,email:this._email,oobCode:this._password});default:hi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jc(t,e){return Kd(t,"POST","/v1/accounts:signInWithIdp",_o(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jz="http://localhost";class bl extends sb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new bl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):hi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...a}=n;if(!r||!s)return null;const c=new bl(r,s);return c.idToken=a.idToken||void 0,c.accessToken=a.accessToken||void 0,c.secret=a.secret,c.nonce=a.nonce,c.pendingToken=a.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return jc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,jc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,jc(e,n)}buildRequest(){const e={requestUri:Jz,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=pu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zz(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function eB(t){const e=$h(qh(t)).link,n=e?$h(qh(e)).deep_link_id:null,r=$h(qh(t)).deep_link_id;return(r?$h(qh(r)).link:null)||r||n||e||t}class ob{constructor(e){const n=$h(qh(e)),r=n.apiKey??null,s=n.oobCode??null,a=Zz(n.mode??null);Me(r&&s&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=eB(e);try{return new ob(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(){this.providerId=mu.PROVIDER_ID}static credential(e,n){return bd._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=ob.parseLink(n);return Me(r,"argument-error"),bd._fromEmailAndCode(e,r.code,r.tenantId)}}mu.PROVIDER_ID="password";mu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";mu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd extends ab{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo extends Yd{constructor(){super("facebook.com")}static credential(e){return bl._fromParams({providerId:Zo.PROVIDER_ID,signInMethod:Zo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zo.credentialFromTaggedObject(e)}static credentialFromError(e){return Zo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zo.credential(e.oauthAccessToken)}catch{return null}}}Zo.FACEBOOK_SIGN_IN_METHOD="facebook.com";Zo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js extends Yd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return bl._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Js.credentialFromTaggedObject(e)}static credentialFromError(e){return Js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Js.credential(n,r)}catch{return null}}}Js.GOOGLE_SIGN_IN_METHOD="google.com";Js.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea extends Yd{constructor(){super("github.com")}static credential(e){return bl._fromParams({providerId:ea.PROVIDER_ID,signInMethod:ea.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ea.credentialFromTaggedObject(e)}static credentialFromError(e){return ea.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ea.credential(e.oauthAccessToken)}catch{return null}}}ea.GITHUB_SIGN_IN_METHOD="github.com";ea.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta extends Yd{constructor(){super("twitter.com")}static credential(e,n){return bl._fromParams({providerId:ta.PROVIDER_ID,signInMethod:ta.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ta.credentialFromTaggedObject(e)}static credentialFromError(e){return ta.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ta.credential(n,r)}catch{return null}}}ta.TWITTER_SIGN_IN_METHOD="twitter.com";ta.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tB(t,e){return Kd(t,"POST","/v1/accounts:signUp",_o(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const a=await xi._fromIdTokenResponse(e,r,s),c=FR(r);return new Sl({user:a,providerId:c,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=FR(r);return new Sl({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function FR(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um extends ws{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Um.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Um(e,n,r,s)}}function S2(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Um._fromErrorAndOperation(t,a,e,r):a})}async function nB(t,e,n=!1){const r=await Jc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Sl._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rB(t,e,n=!1){const{auth:r}=t;if(hr(r.app))return Promise.reject(ro(r));const s="reauthenticate";try{const a=await Jc(t,S2(r,s,e,t),n);Me(a.idToken,r,"internal-error");const c=rb(a.idToken);Me(c,r,"internal-error");const{sub:h}=c;return Me(t.uid===h,r,"user-mismatch"),Sl._forOperation(t,s,a)}catch(a){throw a?.code==="auth/user-not-found"&&hi(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T2(t,e,n=!1){if(hr(t.app))return Promise.reject(ro(t));const r="signIn",s=await S2(t,r,e),a=await Sl._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(a.user),a}async function iB(t,e){return T2(vo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w2(t){const e=vo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function sB(t,e,n){const r=vo(t);await Vm(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",Yz)}async function oB(t,e,n){if(hr(t.app))return Promise.reject(ro(t));const r=vo(t),c=await Vm(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",tB).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&w2(t),d}),h=await Sl._fromIdTokenResponse(r,"signIn",c);return await r._updateCurrentUser(h.user),h}function aB(t,e,n){return hr(t.app)?Promise.reject(ro(t)):iB(kt(t),mu.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&w2(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lB(t,e){return Rs(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I0(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=kt(t),a={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},c=await Jc(r,lB(r.auth,a));r.displayName=c.displayName||null,r.photoURL=c.photoUrl||null;const h=r.providerData.find(({providerId:d})=>d==="password");h&&(h.displayName=r.displayName,h.photoURL=r.photoURL),await r._updateTokensIfNecessary(c)}function cB(t,e,n,r){return kt(t).onIdTokenChanged(e,n,r)}function uB(t,e,n){return kt(t).beforeAuthStateChanged(e,n)}function hB(t,e,n,r){return kt(t).onAuthStateChanged(e,n,r)}const zm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(zm,"1"),this.storage.removeItem(zm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dB=1e3,fB=10;class R2 extends C2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=y2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,h,d)=>{this.notifyListeners(c,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const c=this.storage.getItem(r);!n&&this.localCache[r]===c||this.notifyListeners(r,c)},a=this.storage.getItem(r);Az()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,fB):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},dB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}R2.type="LOCAL";const pB=R2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2 extends C2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}A2.type="SESSION";const I2=A2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mB(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Bg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:a}=n.data,c=this.handlersMap[s];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const h=Array.from(c).map(async f=>f(n.origin,a)),d=await mB(h);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Bg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lb(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gB{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,c;return new Promise((h,d)=>{const f=lb("",20);s.port1.start();const y=setTimeout(()=>{d(new Error("unsupported_event"))},r);c={messageChannel:s,onMessage(_){const E=_;if(E.data.eventId===f)switch(E.data.status){case"ack":clearTimeout(y),a=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),h(E.data.response);break;default:clearTimeout(y),clearTimeout(a),d(new Error("invalid_response"));break}}},this.handlers.add(c),s.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[s.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ps(){return window}function yB(t){ps().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x2(){return typeof ps().WorkerGlobalScope<"u"&&typeof ps().importScripts=="function"}async function _B(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function vB(){return navigator?.serviceWorker?.controller||null}function EB(){return x2()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2="firebaseLocalStorageDb",bB=1,Bm="firebaseLocalStorage",P2="fbase_key";class Qd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Fg(t,e){return t.transaction([Bm],e?"readwrite":"readonly").objectStore(Bm)}function SB(){const t=indexedDB.deleteDatabase(N2);return new Qd(t).toPromise()}function x0(){const t=indexedDB.open(N2,bB);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Bm,{keyPath:P2})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Bm)?e(r):(r.close(),await SB(),e(await x0()))})})}async function jR(t,e,n){const r=Fg(t,!0).put({[P2]:e,value:n});return new Qd(r).toPromise()}async function TB(t,e){const n=Fg(t,!1).get(e),r=await new Qd(n).toPromise();return r===void 0?null:r.value}function HR(t,e){const n=Fg(t,!0).delete(e);return new Qd(n).toPromise()}const wB=800,CB=3;class k2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await x0(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>CB)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return x2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Bg._getInstance(EB()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await _B(),!this.activeServiceWorker)return;this.sender=new gB(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||vB()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await x0();return await jR(e,zm,"1"),await HR(e,zm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>jR(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>TB(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>HR(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=Fg(s,!1).getAll();return new Qd(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),wB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}k2.type="LOCAL";const RB=k2;new Wd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O2(t,e){return e?eo(e):(Me(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb extends sb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return jc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return jc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return jc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function AB(t){return T2(t.auth,new cb(t),t.bypassAuthState)}function IB(t){const{auth:e,user:n}=t;return Me(n,e,"internal-error"),rB(n,new cb(t),t.bypassAuthState)}async function xB(t){const{auth:e,user:n}=t;return Me(n,e,"internal-error"),nB(n,new cb(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(e,n,r,s,a=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:a,error:c,type:h}=e;if(c){this.reject(c);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return AB;case"linkViaPopup":case"linkViaRedirect":return xB;case"reauthViaPopup":case"reauthViaRedirect":return IB;default:hi(this.auth,"internal-error")}}resolve(e){ho(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ho(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NB=new Wd(2e3,1e4);async function PB(t,e,n){if(hr(t.app))return Promise.reject(Pi(t,"operation-not-supported-in-this-environment"));const r=vo(t);az(t,e,ab);const s=O2(r,n);return new dl(r,"signInViaPopup",e,s).executeNotNull()}class dl extends D2{constructor(e,n,r,s,a){super(e,n,s,a),this.provider=r,this.authWindow=null,this.pollId=null,dl.currentPopupAction&&dl.currentPopupAction.cancel(),dl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Me(e,this.auth,"internal-error"),e}async onExecution(){ho(this.filter.length===1,"Popup operations only handle one event");const e=lb();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Pi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Pi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,dl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Pi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,NB.get())};e()}}dl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kB="pendingRedirect",im=new Map;class OB extends D2{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=im.get(this.auth._key());if(!e){try{const r=await DB(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}im.set(this.auth._key(),e)}return this.bypassAuthState||im.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function DB(t,e){const n=VB(e),r=LB(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function MB(t,e){im.set(t._key(),e)}function LB(t){return eo(t._redirectPersistence)}function VB(t){return rm(kB,t.config.apiKey,t.name)}async function UB(t,e,n=!1){if(hr(t.app))return Promise.reject(ro(t));const r=vo(t),s=O2(r,e),c=await new OB(r,s,n).execute();return c&&!n&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zB=600*1e3;class BB{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!FB(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!M2(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Pi(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=zB&&this.cachedEventUids.clear(),this.cachedEventUids.has($R(e))}saveEventToCache(e){this.cachedEventUids.add($R(e)),this.lastProcessedEventTime=Date.now()}}function $R(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function M2({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function FB(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return M2(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jB(t,e={}){return Rs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HB=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$B=/^https?/;async function qB(t){if(t.config.emulator)return;const{authorizedDomains:e}=await jB(t);for(const n of e)try{if(GB(n))return}catch{}hi(t,"unauthorized-domain")}function GB(t){const e=R0(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===r}if(!$B.test(n))return!1;if(HB.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WB=new Wd(3e4,6e4);function qR(){const t=ps().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function KB(t){return new Promise((e,n)=>{function r(){qR(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{qR(),n(Pi(t,"network-request-failed"))},timeout:WB.get()})}if(ps().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ps().gapi?.load)r();else{const s=Lz("iframefcb");return ps()[s]=()=>{gapi.load?r():n(Pi(t,"network-request-failed"))},v2(`${Mz()}?onload=${s}`).catch(a=>n(a))}}).catch(e=>{throw sm=null,e})}let sm=null;function YB(t){return sm=sm||KB(t),sm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QB=new Wd(5e3,15e3),XB="__/auth/iframe",JB="emulator/auth/iframe",ZB={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},eF=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function tF(t){const e=t.config;Me(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?nb(e,JB):`https://${t.config.authDomain}/${XB}`,r={apiKey:e.apiKey,appName:t.name,v:Ta},s=eF.get(t.config.apiHost);s&&(r.eid=s);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${pu(r).slice(1)}`}async function nF(t){const e=await YB(t),n=ps().gapi;return Me(n,t,"internal-error"),e.open({where:document.body,url:tF(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ZB,dontclear:!0},r=>new Promise(async(s,a)=>{await r.restyle({setHideOnLeave:!1});const c=Pi(t,"network-request-failed"),h=ps().setTimeout(()=>{a(c)},QB.get());function d(){ps().clearTimeout(h),s(r)}r.ping(d).then(d,()=>{a(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rF={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},iF=500,sF=600,oF="_blank",aF="http://localhost";class GR{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function lF(t,e,n,r=iF,s=sF){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const d={...rF,width:r.toString(),height:s.toString(),top:a,left:c},f=sr().toLowerCase();n&&(h=d2(f)?oF:n),u2(f)&&(e=e||aF,d.scrollbars="yes");const y=Object.entries(d).reduce((E,[T,C])=>`${E}${T}=${C},`,"");if(Rz(f)&&h!=="_self")return cF(e||"",h),new GR(null);const _=window.open(e||"",h,y);Me(_,t,"popup-blocked");try{_.focus()}catch{}return new GR(_)}function cF(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uF="__/auth/handler",hF="emulator/auth/handler",dF=encodeURIComponent("fac");async function WR(t,e,n,r,s,a){Me(t.config.authDomain,t,"auth-domain-config-required"),Me(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ta,eventId:s};if(e instanceof ab){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",Pm(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,_]of Object.entries({}))c[y]=_}if(e instanceof Yd){const y=e.getScopes().filter(_=>_!=="");y.length>0&&(c.scopes=y.join(","))}t.tenantId&&(c.tid=t.tenantId);const h=c;for(const y of Object.keys(h))h[y]===void 0&&delete h[y];const d=await t._getAppCheckToken(),f=d?`#${dF}=${encodeURIComponent(d)}`:"";return`${fF(t)}?${pu(h).slice(1)}${f}`}function fF({config:t}){return t.emulator?nb(t,hF):`https://${t.authDomain}/${uF}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bv="webStorageSupport";class pF{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=I2,this._completeRedirectFn=UB,this._overrideRedirectResult=MB}async _openPopup(e,n,r,s){ho(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await WR(e,n,r,R0(),s);return lF(e,a,lb())}async _openRedirect(e,n,r,s){await this._originValidation(e);const a=await WR(e,n,r,R0(),s);return yB(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:a}=this.eventManagers[n];return s?Promise.resolve(s):(ho(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await nF(e),r=new BB(e);return n.register("authEvent",s=>(Me(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Bv,{type:Bv},s=>{const a=s?.[0]?.[Bv];a!==void 0&&n(!!a),hi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=qB(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return y2()||h2()||ib()}}const mF=pF;var KR="@firebase/auth",YR="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gF{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yF(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function _F(t){fa(new co("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=r.options;Me(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:c,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_2(t)},f=new kz(r,s,a,d);return jz(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),fa(new co("auth-internal",e=>{const n=vo(e.getProvider("auth").getImmediate());return(r=>new gF(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ui(KR,YR,yF(t)),ui(KR,YR,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vF=300,EF=Yx("authIdTokenMaxAge")||vF;let QR=null;const bF=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>EF)return;const s=n?.token;QR!==s&&(QR=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function SF(t=Ug()){const e=Gd(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Fz(t,{popupRedirectResolver:mF,persistence:[RB,pB,I2]}),r=Yx("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const c=bF(a.toString());uB(n,c,()=>c(n.currentUser)),cB(n,h=>c(h))}}const s=Wx("auth");return s&&Hz(n,`http://${s}`),n}function TF(){return document.getElementsByTagName("head")?.[0]??document}Oz({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const a=Pi("internal-error");a.customData=s,n(a)},r.type="text/javascript",r.charset="UTF-8",TF().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});_F("Browser");var XR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var aa,L2;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,P){function N(){}N.prototype=P.prototype,x.F=P.prototype,x.prototype=new N,x.prototype.constructor=x,x.D=function(U,L,S){for(var k=Array(arguments.length-2),Y=2;Y<arguments.length;Y++)k[Y-2]=arguments[Y];return P.prototype[L].apply(U,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(x,P,N){N||(N=0);const U=Array(16);if(typeof P=="string")for(var L=0;L<16;++L)U[L]=P.charCodeAt(N++)|P.charCodeAt(N++)<<8|P.charCodeAt(N++)<<16|P.charCodeAt(N++)<<24;else for(L=0;L<16;++L)U[L]=P[N++]|P[N++]<<8|P[N++]<<16|P[N++]<<24;P=x.g[0],N=x.g[1],L=x.g[2];let S=x.g[3],k;k=P+(S^N&(L^S))+U[0]+3614090360&4294967295,P=N+(k<<7&4294967295|k>>>25),k=S+(L^P&(N^L))+U[1]+3905402710&4294967295,S=P+(k<<12&4294967295|k>>>20),k=L+(N^S&(P^N))+U[2]+606105819&4294967295,L=S+(k<<17&4294967295|k>>>15),k=N+(P^L&(S^P))+U[3]+3250441966&4294967295,N=L+(k<<22&4294967295|k>>>10),k=P+(S^N&(L^S))+U[4]+4118548399&4294967295,P=N+(k<<7&4294967295|k>>>25),k=S+(L^P&(N^L))+U[5]+1200080426&4294967295,S=P+(k<<12&4294967295|k>>>20),k=L+(N^S&(P^N))+U[6]+2821735955&4294967295,L=S+(k<<17&4294967295|k>>>15),k=N+(P^L&(S^P))+U[7]+4249261313&4294967295,N=L+(k<<22&4294967295|k>>>10),k=P+(S^N&(L^S))+U[8]+1770035416&4294967295,P=N+(k<<7&4294967295|k>>>25),k=S+(L^P&(N^L))+U[9]+2336552879&4294967295,S=P+(k<<12&4294967295|k>>>20),k=L+(N^S&(P^N))+U[10]+4294925233&4294967295,L=S+(k<<17&4294967295|k>>>15),k=N+(P^L&(S^P))+U[11]+2304563134&4294967295,N=L+(k<<22&4294967295|k>>>10),k=P+(S^N&(L^S))+U[12]+1804603682&4294967295,P=N+(k<<7&4294967295|k>>>25),k=S+(L^P&(N^L))+U[13]+4254626195&4294967295,S=P+(k<<12&4294967295|k>>>20),k=L+(N^S&(P^N))+U[14]+2792965006&4294967295,L=S+(k<<17&4294967295|k>>>15),k=N+(P^L&(S^P))+U[15]+1236535329&4294967295,N=L+(k<<22&4294967295|k>>>10),k=P+(L^S&(N^L))+U[1]+4129170786&4294967295,P=N+(k<<5&4294967295|k>>>27),k=S+(N^L&(P^N))+U[6]+3225465664&4294967295,S=P+(k<<9&4294967295|k>>>23),k=L+(P^N&(S^P))+U[11]+643717713&4294967295,L=S+(k<<14&4294967295|k>>>18),k=N+(S^P&(L^S))+U[0]+3921069994&4294967295,N=L+(k<<20&4294967295|k>>>12),k=P+(L^S&(N^L))+U[5]+3593408605&4294967295,P=N+(k<<5&4294967295|k>>>27),k=S+(N^L&(P^N))+U[10]+38016083&4294967295,S=P+(k<<9&4294967295|k>>>23),k=L+(P^N&(S^P))+U[15]+3634488961&4294967295,L=S+(k<<14&4294967295|k>>>18),k=N+(S^P&(L^S))+U[4]+3889429448&4294967295,N=L+(k<<20&4294967295|k>>>12),k=P+(L^S&(N^L))+U[9]+568446438&4294967295,P=N+(k<<5&4294967295|k>>>27),k=S+(N^L&(P^N))+U[14]+3275163606&4294967295,S=P+(k<<9&4294967295|k>>>23),k=L+(P^N&(S^P))+U[3]+4107603335&4294967295,L=S+(k<<14&4294967295|k>>>18),k=N+(S^P&(L^S))+U[8]+1163531501&4294967295,N=L+(k<<20&4294967295|k>>>12),k=P+(L^S&(N^L))+U[13]+2850285829&4294967295,P=N+(k<<5&4294967295|k>>>27),k=S+(N^L&(P^N))+U[2]+4243563512&4294967295,S=P+(k<<9&4294967295|k>>>23),k=L+(P^N&(S^P))+U[7]+1735328473&4294967295,L=S+(k<<14&4294967295|k>>>18),k=N+(S^P&(L^S))+U[12]+2368359562&4294967295,N=L+(k<<20&4294967295|k>>>12),k=P+(N^L^S)+U[5]+4294588738&4294967295,P=N+(k<<4&4294967295|k>>>28),k=S+(P^N^L)+U[8]+2272392833&4294967295,S=P+(k<<11&4294967295|k>>>21),k=L+(S^P^N)+U[11]+1839030562&4294967295,L=S+(k<<16&4294967295|k>>>16),k=N+(L^S^P)+U[14]+4259657740&4294967295,N=L+(k<<23&4294967295|k>>>9),k=P+(N^L^S)+U[1]+2763975236&4294967295,P=N+(k<<4&4294967295|k>>>28),k=S+(P^N^L)+U[4]+1272893353&4294967295,S=P+(k<<11&4294967295|k>>>21),k=L+(S^P^N)+U[7]+4139469664&4294967295,L=S+(k<<16&4294967295|k>>>16),k=N+(L^S^P)+U[10]+3200236656&4294967295,N=L+(k<<23&4294967295|k>>>9),k=P+(N^L^S)+U[13]+681279174&4294967295,P=N+(k<<4&4294967295|k>>>28),k=S+(P^N^L)+U[0]+3936430074&4294967295,S=P+(k<<11&4294967295|k>>>21),k=L+(S^P^N)+U[3]+3572445317&4294967295,L=S+(k<<16&4294967295|k>>>16),k=N+(L^S^P)+U[6]+76029189&4294967295,N=L+(k<<23&4294967295|k>>>9),k=P+(N^L^S)+U[9]+3654602809&4294967295,P=N+(k<<4&4294967295|k>>>28),k=S+(P^N^L)+U[12]+3873151461&4294967295,S=P+(k<<11&4294967295|k>>>21),k=L+(S^P^N)+U[15]+530742520&4294967295,L=S+(k<<16&4294967295|k>>>16),k=N+(L^S^P)+U[2]+3299628645&4294967295,N=L+(k<<23&4294967295|k>>>9),k=P+(L^(N|~S))+U[0]+4096336452&4294967295,P=N+(k<<6&4294967295|k>>>26),k=S+(N^(P|~L))+U[7]+1126891415&4294967295,S=P+(k<<10&4294967295|k>>>22),k=L+(P^(S|~N))+U[14]+2878612391&4294967295,L=S+(k<<15&4294967295|k>>>17),k=N+(S^(L|~P))+U[5]+4237533241&4294967295,N=L+(k<<21&4294967295|k>>>11),k=P+(L^(N|~S))+U[12]+1700485571&4294967295,P=N+(k<<6&4294967295|k>>>26),k=S+(N^(P|~L))+U[3]+2399980690&4294967295,S=P+(k<<10&4294967295|k>>>22),k=L+(P^(S|~N))+U[10]+4293915773&4294967295,L=S+(k<<15&4294967295|k>>>17),k=N+(S^(L|~P))+U[1]+2240044497&4294967295,N=L+(k<<21&4294967295|k>>>11),k=P+(L^(N|~S))+U[8]+1873313359&4294967295,P=N+(k<<6&4294967295|k>>>26),k=S+(N^(P|~L))+U[15]+4264355552&4294967295,S=P+(k<<10&4294967295|k>>>22),k=L+(P^(S|~N))+U[6]+2734768916&4294967295,L=S+(k<<15&4294967295|k>>>17),k=N+(S^(L|~P))+U[13]+1309151649&4294967295,N=L+(k<<21&4294967295|k>>>11),k=P+(L^(N|~S))+U[4]+4149444226&4294967295,P=N+(k<<6&4294967295|k>>>26),k=S+(N^(P|~L))+U[11]+3174756917&4294967295,S=P+(k<<10&4294967295|k>>>22),k=L+(P^(S|~N))+U[2]+718787259&4294967295,L=S+(k<<15&4294967295|k>>>17),k=N+(S^(L|~P))+U[9]+3951481745&4294967295,x.g[0]=x.g[0]+P&4294967295,x.g[1]=x.g[1]+(L+(k<<21&4294967295|k>>>11))&4294967295,x.g[2]=x.g[2]+L&4294967295,x.g[3]=x.g[3]+S&4294967295}r.prototype.v=function(x,P){P===void 0&&(P=x.length);const N=P-this.blockSize,U=this.C;let L=this.h,S=0;for(;S<P;){if(L==0)for(;S<=N;)s(this,x,S),S+=this.blockSize;if(typeof x=="string"){for(;S<P;)if(U[L++]=x.charCodeAt(S++),L==this.blockSize){s(this,U),L=0;break}}else for(;S<P;)if(U[L++]=x[S++],L==this.blockSize){s(this,U),L=0;break}}this.h=L,this.o+=P},r.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var P=1;P<x.length-8;++P)x[P]=0;P=this.o*8;for(var N=x.length-8;N<x.length;++N)x[N]=P&255,P/=256;for(this.v(x),x=Array(16),P=0,N=0;N<4;++N)for(let U=0;U<32;U+=8)x[P++]=this.g[N]>>>U&255;return x};function a(x,P){var N=h;return Object.prototype.hasOwnProperty.call(N,x)?N[x]:N[x]=P(x)}function c(x,P){this.h=P;const N=[];let U=!0;for(let L=x.length-1;L>=0;L--){const S=x[L]|0;U&&S==P||(N[L]=S,U=!1)}this.g=N}var h={};function d(x){return-128<=x&&x<128?a(x,function(P){return new c([P|0],P<0?-1:0)}):new c([x|0],x<0?-1:0)}function f(x){if(isNaN(x)||!isFinite(x))return _;if(x<0)return I(f(-x));const P=[];let N=1;for(let U=0;x>=N;U++)P[U]=x/N|0,N*=4294967296;return new c(P,0)}function y(x,P){if(x.length==0)throw Error("number format error: empty string");if(P=P||10,P<2||36<P)throw Error("radix out of range: "+P);if(x.charAt(0)=="-")return I(y(x.substring(1),P));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=f(Math.pow(P,8));let U=_;for(let S=0;S<x.length;S+=8){var L=Math.min(8,x.length-S);const k=parseInt(x.substring(S,S+L),P);L<8?(L=f(Math.pow(P,L)),U=U.j(L).add(f(k))):(U=U.j(N),U=U.add(f(k)))}return U}var _=d(0),E=d(1),T=d(16777216);t=c.prototype,t.m=function(){if(R(this))return-I(this).m();let x=0,P=1;for(let N=0;N<this.g.length;N++){const U=this.i(N);x+=(U>=0?U:4294967296+U)*P,P*=4294967296}return x},t.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(C(this))return"0";if(R(this))return"-"+I(this).toString(x);const P=f(Math.pow(x,6));var N=this;let U="";for(;;){const L=B(N,P).g;N=D(N,L.j(P));let S=((N.g.length>0?N.g[0]:N.h)>>>0).toString(x);if(N=L,C(N))return S+U;for(;S.length<6;)S="0"+S;U=S+U}},t.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function C(x){if(x.h!=0)return!1;for(let P=0;P<x.g.length;P++)if(x.g[P]!=0)return!1;return!0}function R(x){return x.h==-1}t.l=function(x){return x=D(this,x),R(x)?-1:C(x)?0:1};function I(x){const P=x.g.length,N=[];for(let U=0;U<P;U++)N[U]=~x.g[U];return new c(N,~x.h).add(E)}t.abs=function(){return R(this)?I(this):this},t.add=function(x){const P=Math.max(this.g.length,x.g.length),N=[];let U=0;for(let L=0;L<=P;L++){let S=U+(this.i(L)&65535)+(x.i(L)&65535),k=(S>>>16)+(this.i(L)>>>16)+(x.i(L)>>>16);U=k>>>16,S&=65535,k&=65535,N[L]=k<<16|S}return new c(N,N[N.length-1]&-2147483648?-1:0)};function D(x,P){return x.add(I(P))}t.j=function(x){if(C(this)||C(x))return _;if(R(this))return R(x)?I(this).j(I(x)):I(I(this).j(x));if(R(x))return I(this.j(I(x)));if(this.l(T)<0&&x.l(T)<0)return f(this.m()*x.m());const P=this.g.length+x.g.length,N=[];for(var U=0;U<2*P;U++)N[U]=0;for(U=0;U<this.g.length;U++)for(let L=0;L<x.g.length;L++){const S=this.i(U)>>>16,k=this.i(U)&65535,Y=x.i(L)>>>16,ee=x.i(L)&65535;N[2*U+2*L]+=k*ee,F(N,2*U+2*L),N[2*U+2*L+1]+=S*ee,F(N,2*U+2*L+1),N[2*U+2*L+1]+=k*Y,F(N,2*U+2*L+1),N[2*U+2*L+2]+=S*Y,F(N,2*U+2*L+2)}for(x=0;x<P;x++)N[x]=N[2*x+1]<<16|N[2*x];for(x=P;x<2*P;x++)N[x]=0;return new c(N,0)};function F(x,P){for(;(x[P]&65535)!=x[P];)x[P+1]+=x[P]>>>16,x[P]&=65535,P++}function V(x,P){this.g=x,this.h=P}function B(x,P){if(C(P))throw Error("division by zero");if(C(x))return new V(_,_);if(R(x))return P=B(I(x),P),new V(I(P.g),I(P.h));if(R(P))return P=B(x,I(P)),new V(I(P.g),P.h);if(x.g.length>30){if(R(x)||R(P))throw Error("slowDivide_ only works with positive integers.");for(var N=E,U=P;U.l(x)<=0;)N=j(N),U=j(U);var L=G(N,1),S=G(U,1);for(U=G(U,2),N=G(N,2);!C(U);){var k=S.add(U);k.l(x)<=0&&(L=L.add(N),S=k),U=G(U,1),N=G(N,1)}return P=D(x,L.j(P)),new V(L,P)}for(L=_;x.l(P)>=0;){for(N=Math.max(1,Math.floor(x.m()/P.m())),U=Math.ceil(Math.log(N)/Math.LN2),U=U<=48?1:Math.pow(2,U-48),S=f(N),k=S.j(P);R(k)||k.l(x)>0;)N-=U,S=f(N),k=S.j(P);C(S)&&(S=E),L=L.add(S),x=D(x,k)}return new V(L,x)}t.B=function(x){return B(this,x).h},t.and=function(x){const P=Math.max(this.g.length,x.g.length),N=[];for(let U=0;U<P;U++)N[U]=this.i(U)&x.i(U);return new c(N,this.h&x.h)},t.or=function(x){const P=Math.max(this.g.length,x.g.length),N=[];for(let U=0;U<P;U++)N[U]=this.i(U)|x.i(U);return new c(N,this.h|x.h)},t.xor=function(x){const P=Math.max(this.g.length,x.g.length),N=[];for(let U=0;U<P;U++)N[U]=this.i(U)^x.i(U);return new c(N,this.h^x.h)};function j(x){const P=x.g.length+1,N=[];for(let U=0;U<P;U++)N[U]=x.i(U)<<1|x.i(U-1)>>>31;return new c(N,x.h)}function G(x,P){const N=P>>5;P%=32;const U=x.g.length-N,L=[];for(let S=0;S<U;S++)L[S]=P>0?x.i(S+N)>>>P|x.i(S+N+1)<<32-P:x.i(S+N);return new c(L,x.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,L2=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=f,c.fromString=y,aa=c}).apply(typeof XR<"u"?XR:typeof self<"u"?self:typeof window<"u"?window:{});var Fp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var V2,Gh,U2,om,N0,z2,B2,F2;(function(){var t,e=Object.defineProperty;function n(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof Fp=="object"&&Fp];for(var v=0;v<p.length;++v){var w=p[v];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var r=n(this);function s(p,v){if(v)e:{var w=r;p=p.split(".");for(var M=0;M<p.length-1;M++){var Q=p[M];if(!(Q in w))break e;w=w[Q]}p=p[p.length-1],M=w[p],v=v(M),v!=M&&v!=null&&e(w,p,{configurable:!0,writable:!0,value:v})}}s("Symbol.dispose",function(p){return p||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(p){return p||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(p){return p||function(v){var w=[],M;for(M in v)Object.prototype.hasOwnProperty.call(v,M)&&w.push([M,v[M]]);return w}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},c=this||self;function h(p){var v=typeof p;return v=="object"&&p!=null||v=="function"}function d(p,v,w){return p.call.apply(p.bind,arguments)}function f(p,v,w){return f=d,f.apply(null,arguments)}function y(p,v){var w=Array.prototype.slice.call(arguments,1);return function(){var M=w.slice();return M.push.apply(M,arguments),p.apply(this,M)}}function _(p,v){function w(){}w.prototype=v.prototype,p.Z=v.prototype,p.prototype=new w,p.prototype.constructor=p,p.Ob=function(M,Q,ne){for(var ye=Array(arguments.length-2),He=2;He<arguments.length;He++)ye[He-2]=arguments[He];return v.prototype[Q].apply(M,ye)}}var E=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?p=>p&&AsyncContext.Snapshot.wrap(p):p=>p;function T(p){const v=p.length;if(v>0){const w=Array(v);for(let M=0;M<v;M++)w[M]=p[M];return w}return[]}function C(p,v){for(let M=1;M<arguments.length;M++){const Q=arguments[M];var w=typeof Q;if(w=w!="object"?w:Q?Array.isArray(Q)?"array":w:"null",w=="array"||w=="object"&&typeof Q.length=="number"){w=p.length||0;const ne=Q.length||0;p.length=w+ne;for(let ye=0;ye<ne;ye++)p[w+ye]=Q[ye]}else p.push(Q)}}class R{constructor(v,w){this.i=v,this.j=w,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function I(p){c.setTimeout(()=>{throw p},0)}function D(){var p=x;let v=null;return p.g&&(v=p.g,p.g=p.g.next,p.g||(p.h=null),v.next=null),v}class F{constructor(){this.h=this.g=null}add(v,w){const M=V.get();M.set(v,w),this.h?this.h.next=M:this.g=M,this.h=M}}var V=new R(()=>new B,p=>p.reset());class B{constructor(){this.next=this.g=this.h=null}set(v,w){this.h=v,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let j,G=!1,x=new F,P=()=>{const p=Promise.resolve(void 0);j=()=>{p.then(N)}};function N(){for(var p;p=D();){try{p.h.call(p.g)}catch(w){I(w)}var v=V;v.j(p),v.h<100&&(v.h++,p.next=v.g,v.g=p)}G=!1}function U(){this.u=this.u,this.C=this.C}U.prototype.u=!1,U.prototype.dispose=function(){this.u||(this.u=!0,this.N())},U.prototype[Symbol.dispose]=function(){this.dispose()},U.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function L(p,v){this.type=p,this.g=this.target=v,this.defaultPrevented=!1}L.prototype.h=function(){this.defaultPrevented=!0};var S=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var p=!1,v=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const w=()=>{};c.addEventListener("test",w,v),c.removeEventListener("test",w,v)}catch{}return p})();function k(p){return/^[\s\xa0]*$/.test(p)}function Y(p,v){L.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p&&this.init(p,v)}_(Y,L),Y.prototype.init=function(p,v){const w=this.type=p.type,M=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;this.target=p.target||p.srcElement,this.g=v,v=p.relatedTarget,v||(w=="mouseover"?v=p.fromElement:w=="mouseout"&&(v=p.toElement)),this.relatedTarget=v,M?(this.clientX=M.clientX!==void 0?M.clientX:M.pageX,this.clientY=M.clientY!==void 0?M.clientY:M.pageY,this.screenX=M.screenX||0,this.screenY=M.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=p.pointerType,this.state=p.state,this.i=p,p.defaultPrevented&&Y.Z.h.call(this)},Y.prototype.h=function(){Y.Z.h.call(this);const p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var ee="closure_listenable_"+(Math.random()*1e6|0),H=0;function te(p,v,w,M,Q){this.listener=p,this.proxy=null,this.src=v,this.type=w,this.capture=!!M,this.ha=Q,this.key=++H,this.da=this.fa=!1}function fe(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function le(p,v,w){for(const M in p)v.call(w,p[M],M,p)}function be(p,v){for(const w in p)v.call(void 0,p[w],w,p)}function $(p){const v={};for(const w in p)v[w]=p[w];return v}const ie="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function de(p,v){let w,M;for(let Q=1;Q<arguments.length;Q++){M=arguments[Q];for(w in M)p[w]=M[w];for(let ne=0;ne<ie.length;ne++)w=ie[ne],Object.prototype.hasOwnProperty.call(M,w)&&(p[w]=M[w])}}function pe(p){this.src=p,this.g={},this.h=0}pe.prototype.add=function(p,v,w,M,Q){const ne=p.toString();p=this.g[ne],p||(p=this.g[ne]=[],this.h++);const ye=ve(p,v,M,Q);return ye>-1?(v=p[ye],w||(v.fa=!1)):(v=new te(v,this.src,ne,!!M,Q),v.fa=w,p.push(v)),v};function me(p,v){const w=v.type;if(w in p.g){var M=p.g[w],Q=Array.prototype.indexOf.call(M,v,void 0),ne;(ne=Q>=0)&&Array.prototype.splice.call(M,Q,1),ne&&(fe(v),p.g[w].length==0&&(delete p.g[w],p.h--))}}function ve(p,v,w,M){for(let Q=0;Q<p.length;++Q){const ne=p[Q];if(!ne.da&&ne.listener==v&&ne.capture==!!w&&ne.ha==M)return Q}return-1}var Ne="closure_lm_"+(Math.random()*1e6|0),it={};function De(p,v,w,M,Q){if(Array.isArray(v)){for(let ne=0;ne<v.length;ne++)De(p,v[ne],w,M,Q);return null}return w=Kt(w),p&&p[ee]?p.J(v,w,h(M)?!!M.capture:!1,Q):ke(p,v,w,!1,M,Q)}function ke(p,v,w,M,Q,ne){if(!v)throw Error("Invalid event type");const ye=h(Q)?!!Q.capture:!!Q;let He=ln(p);if(He||(p[Ne]=He=new pe(p)),w=He.add(v,w,M,ye,ne),w.proxy)return w;if(M=Ge(),w.proxy=M,M.src=p,M.listener=w,p.addEventListener)S||(Q=ye),Q===void 0&&(Q=!1),p.addEventListener(v.toString(),M,Q);else if(p.attachEvent)p.attachEvent(Ae(v.toString()),M);else if(p.addListener&&p.removeListener)p.addListener(M);else throw Error("addEventListener and attachEvent are unavailable.");return w}function Ge(){function p(w){return v.call(p.src,p.listener,w)}const v=ut;return p}function Qe(p,v,w,M,Q){if(Array.isArray(v))for(var ne=0;ne<v.length;ne++)Qe(p,v[ne],w,M,Q);else M=h(M)?!!M.capture:!!M,w=Kt(w),p&&p[ee]?(p=p.i,ne=String(v).toString(),ne in p.g&&(v=p.g[ne],w=ve(v,w,M,Q),w>-1&&(fe(v[w]),Array.prototype.splice.call(v,w,1),v.length==0&&(delete p.g[ne],p.h--)))):p&&(p=ln(p))&&(v=p.g[v.toString()],p=-1,v&&(p=ve(v,w,M,Q)),(w=p>-1?v[p]:null)&&ft(w))}function ft(p){if(typeof p!="number"&&p&&!p.da){var v=p.src;if(v&&v[ee])me(v.i,p);else{var w=p.type,M=p.proxy;v.removeEventListener?v.removeEventListener(w,M,p.capture):v.detachEvent?v.detachEvent(Ae(w),M):v.addListener&&v.removeListener&&v.removeListener(M),(w=ln(v))?(me(w,p),w.h==0&&(w.src=null,v[Ne]=null)):fe(p)}}}function Ae(p){return p in it?it[p]:it[p]="on"+p}function ut(p,v){if(p.da)p=!0;else{v=new Y(v,this);const w=p.listener,M=p.ha||p.src;p.fa&&ft(p),p=w.call(M,v)}return p}function ln(p){return p=p[Ne],p instanceof pe?p:null}var cn="__closure_events_fn_"+(Math.random()*1e9>>>0);function Kt(p){return typeof p=="function"?p:(p[cn]||(p[cn]=function(v){return p.handleEvent(v)}),p[cn])}function pt(){U.call(this),this.i=new pe(this),this.M=this,this.G=null}_(pt,U),pt.prototype[ee]=!0,pt.prototype.removeEventListener=function(p,v,w,M){Qe(this,p,v,w,M)};function st(p,v){var w,M=p.G;if(M)for(w=[];M;M=M.G)w.push(M);if(p=p.M,M=v.type||v,typeof v=="string")v=new L(v,p);else if(v instanceof L)v.target=v.target||p;else{var Q=v;v=new L(M,p),de(v,Q)}Q=!0;let ne,ye;if(w)for(ye=w.length-1;ye>=0;ye--)ne=v.g=w[ye],Q=Mt(ne,M,!0,v)&&Q;if(ne=v.g=p,Q=Mt(ne,M,!0,v)&&Q,Q=Mt(ne,M,!1,v)&&Q,w)for(ye=0;ye<w.length;ye++)ne=v.g=w[ye],Q=Mt(ne,M,!1,v)&&Q}pt.prototype.N=function(){if(pt.Z.N.call(this),this.i){var p=this.i;for(const v in p.g){const w=p.g[v];for(let M=0;M<w.length;M++)fe(w[M]);delete p.g[v],p.h--}}this.G=null},pt.prototype.J=function(p,v,w,M){return this.i.add(String(p),v,!1,w,M)},pt.prototype.K=function(p,v,w,M){return this.i.add(String(p),v,!0,w,M)};function Mt(p,v,w,M){if(v=p.i.g[String(v)],!v)return!0;v=v.concat();let Q=!0;for(let ne=0;ne<v.length;++ne){const ye=v[ne];if(ye&&!ye.da&&ye.capture==w){const He=ye.listener,un=ye.ha||ye.src;ye.fa&&me(p.i,ye),Q=He.call(un,M)!==!1&&Q}}return Q&&!M.defaultPrevented}function Pe(p,v){if(typeof p!="function")if(p&&typeof p.handleEvent=="function")p=f(p.handleEvent,p);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:c.setTimeout(p,v||0)}function Nr(p){p.g=Pe(()=>{p.g=null,p.i&&(p.i=!1,Nr(p))},p.l);const v=p.h;p.h=null,p.m.apply(null,v)}class lt extends U{constructor(v,w){super(),this.m=v,this.l=w,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Nr(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fr(p){U.call(this),this.h=p,this.g={}}_(fr,U);var fi=[];function pi(p){le(p.g,function(v,w){this.g.hasOwnProperty(w)&&ft(v)},p),p.g={}}fr.prototype.N=function(){fr.Z.N.call(this),pi(this)},fr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ar=c.JSON.stringify,Li=c.JSON.parse,pr=class{stringify(p){return c.JSON.stringify(p,void 0)}parse(p){return c.JSON.parse(p,void 0)}};function Rt(){}function mi(){}var Jn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function yn(){L.call(this,"d")}_(yn,L);function we(){L.call(this,"c")}_(we,L);var Ue={},en=null;function Pr(){return en=en||new pt}Ue.Ia="serverreachability";function Ia(p){L.call(this,Ue.Ia,p)}_(Ia,L);function Vi(p){const v=Pr();st(v,new Ia(v))}Ue.STAT_EVENT="statevent";function xa(p,v){L.call(this,Ue.STAT_EVENT,p),this.stat=v}_(xa,L);function _n(p){const v=Pr();st(v,new xa(v,p))}Ue.Ja="timingevent";function Ui(p,v){L.call(this,Ue.Ja,p),this.size=v}_(Ui,L);function zi(p,v){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){p()},v)}function gi(){this.g=!0}gi.prototype.ua=function(){this.g=!1};function vy(p,v,w,M,Q,ne){p.info(function(){if(p.g)if(ne){var ye="",He=ne.split("&");for(let mt=0;mt<He.length;mt++){var un=He[mt].split("=");if(un.length>1){const Yt=un[0];un=un[1];const Yr=Yt.split("_");ye=Yr.length>=2&&Yr[1]=="type"?ye+(Yt+"="+un+"&"):ye+(Yt+"=redacted&")}}}else ye=null;else ye=ne;return"XMLHTTP REQ ("+M+") [attempt "+Q+"]: "+v+`
`+w+`
`+ye})}function hf(p,v,w,M,Q,ne,ye){p.info(function(){return"XMLHTTP RESP ("+M+") [ attempt "+Q+"]: "+v+`
`+w+`
`+ne+" "+ye})}function Bi(p,v,w,M){p.info(function(){return"XMLHTTP TEXT ("+v+"): "+Ey(p,w)+(M?" "+M:"")})}function Na(p,v){p.info(function(){return"TIMEOUT: "+v})}gi.prototype.info=function(){};function Ey(p,v){if(!p.g)return v;if(!v)return null;try{const ne=JSON.parse(v);if(ne){for(p=0;p<ne.length;p++)if(Array.isArray(ne[p])){var w=ne[p];if(!(w.length<2)){var M=w[1];if(Array.isArray(M)&&!(M.length<1)){var Q=M[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(let ye=1;ye<M.length;ye++)M[ye]=""}}}}return ar(ne)}catch{return v}}var Pa={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Iu={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},xu;function ka(){}_(ka,Rt),ka.prototype.g=function(){return new XMLHttpRequest},xu=new ka;function xs(p){return encodeURIComponent(String(p))}function df(p){var v=1;p=p.split(":");const w=[];for(;v>0&&p.length;)w.push(p.shift()),v--;return p.length&&w.push(p.join(":")),w}function yi(p,v,w,M){this.j=p,this.i=v,this.l=w,this.S=M||1,this.V=new fr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new _i}function _i(){this.i=null,this.g="",this.h=!1}var vn={},Mn={};function Fi(p,v,w){p.M=1,p.A=Oa(bn(v)),p.u=w,p.R=!0,Ul(p,null)}function Ul(p,v){p.F=Date.now(),ji(p),p.B=bn(p.A);var w=p.B,M=p.S;Array.isArray(M)||(M=[String(M)]),jl(w.i,"t",M),p.C=0,w=p.j.L,p.h=new _i,p.g=Af(p.j,w?v:null,!p.u),p.P>0&&(p.O=new lt(f(p.Y,p,p.g),p.P)),v=p.V,w=p.g,M=p.ba;var Q="readystatechange";Array.isArray(Q)||(Q&&(fi[0]=Q.toString()),Q=fi);for(let ne=0;ne<Q.length;ne++){const ye=De(w,Q[ne],M||v.handleEvent,!1,v.h||v);if(!ye)break;v.g[ye.key]=ye}v=p.J?$(p.J):{},p.u?(p.v||(p.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.B,p.v,p.u,v)):(p.v="GET",p.g.ea(p.B,p.v,null,v)),Vi(),vy(p.i,p.v,p.B,p.l,p.S,p.u)}yi.prototype.ba=function(p){p=p.target;const v=this.O;v&&bi(p)==3?v.j():this.Y(p)},yi.prototype.Y=function(p){try{if(p==this.g)e:{const He=bi(this.g),un=this.g.ya(),mt=this.g.ca();if(!(He<3)&&(He!=3||this.g&&(this.h.h||this.g.la()||Hn(this.g)))){this.K||He!=4||un==7||(un==8||mt<=0?Vi(3):Vi(2)),Hi(this);var v=this.g.ca();this.X=v;var w=by(this);if(this.o=v==200,hf(this.i,this.v,this.B,this.l,this.S,He,v),this.o){if(this.U&&!this.L){t:{if(this.g){var M,Q=this.g;if((M=Q.g?Q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(M)){var ne=M;break t}}ne=null}if(p=ne)Bi(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,$i(this,p);else{this.o=!1,this.m=3,_n(12),kr(this),Gr(this);break e}}if(this.R){p=!0;let Yt;for(;!this.K&&this.C<w.length;)if(Yt=pf(this,w),Yt==Mn){He==4&&(this.m=4,_n(14),p=!1),Bi(this.i,this.l,null,"[Incomplete Response]");break}else if(Yt==vn){this.m=4,_n(15),Bi(this.i,this.l,w,"[Invalid Chunk]"),p=!1;break}else Bi(this.i,this.l,Yt,null),$i(this,Yt);if(ff(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),He!=4||w.length!=0||this.h.h||(this.m=1,_n(16),p=!1),this.o=this.o&&p,!p)Bi(this.i,this.l,w,"[Invalid Chunked Response]"),kr(this),Gr(this);else if(w.length>0&&!this.W){this.W=!0;var ye=this.j;ye.g==this&&ye.aa&&!ye.P&&(ye.j.info("Great, no buffering proxy detected. Bytes received: "+w.length),$u(ye),ye.P=!0,_n(11))}}else Bi(this.i,this.l,w,null),$i(this,w);He==4&&kr(this),this.o&&!this.K&&(He==4?Tf(this.j,this):(this.o=!1,ji(this)))}else Ps(this.g),v==400&&w.indexOf("Unknown SID")>0?(this.m=3,_n(12)):(this.m=0,_n(13)),kr(this),Gr(this)}}}catch{}finally{}};function by(p){if(!ff(p))return p.g.la();const v=Hn(p.g);if(v==="")return"";let w="";const M=v.length,Q=bi(p.g)==4;if(!p.h.i){if(typeof TextDecoder>"u")return kr(p),Gr(p),"";p.h.i=new c.TextDecoder}for(let ne=0;ne<M;ne++)p.h.h=!0,w+=p.h.i.decode(v[ne],{stream:!(Q&&ne==M-1)});return v.length=0,p.h.g+=w,p.C=0,p.h.g}function ff(p){return p.g?p.v=="GET"&&p.M!=2&&p.j.Aa:!1}function pf(p,v){var w=p.C,M=v.indexOf(`
`,w);return M==-1?Mn:(w=Number(v.substring(w,M)),isNaN(w)?vn:(M+=1,M+w>v.length?Mn:(v=v.slice(M,M+w),p.C=M+w,v)))}yi.prototype.cancel=function(){this.K=!0,kr(this)};function ji(p){p.T=Date.now()+p.H,zl(p,p.H)}function zl(p,v){if(p.D!=null)throw Error("WatchDog timer not null");p.D=zi(f(p.aa,p),v)}function Hi(p){p.D&&(c.clearTimeout(p.D),p.D=null)}yi.prototype.aa=function(){this.D=null;const p=Date.now();p-this.T>=0?(Na(this.i,this.B),this.M!=2&&(Vi(),_n(17)),kr(this),this.m=2,Gr(this)):zl(this,this.T-p)};function Gr(p){p.j.I==0||p.K||Tf(p.j,p)}function kr(p){Hi(p);var v=p.O;v&&typeof v.dispose=="function"&&v.dispose(),p.O=null,pi(p.V),p.g&&(v=p.g,p.g=null,v.abort(),v.dispose())}function $i(p,v){try{var w=p.j;if(w.I!=0&&(w.g==p||Gi(w.h,p))){if(!p.L&&Gi(w.h,p)&&w.I==3){try{var M=w.Ba.g.parse(v)}catch{M=null}if(Array.isArray(M)&&M.length==3){var Q=M;if(Q[0]==0){e:if(!w.v){if(w.g)if(w.g.F+3e3<p.F)Wl(w),Ao(w);else break e;Ba(w),_n(18)}}else w.xa=Q[1],0<w.xa-w.K&&Q[2]<37500&&w.F&&w.A==0&&!w.C&&(w.C=zi(f(w.Va,w),6e3));qi(w.h)<=1&&w.ta&&(w.ta=void 0)}else Ji(w,11)}else if((p.L||w.g==p)&&Wl(w),!k(v))for(Q=w.Ba.g.parse(v),v=0;v<Q.length;v++){let mt=Q[v];const Yt=mt[0];if(!(Yt<=w.K))if(w.K=Yt,mt=mt[1],w.I==2)if(mt[0]=="c"){w.M=mt[1],w.ba=mt[2];const Yr=mt[3];Yr!=null&&(w.ka=Yr,w.j.info("VER="+w.ka));const Zi=mt[4];Zi!=null&&(w.za=Zi,w.j.info("SVER="+w.za));const Si=mt[5];Si!=null&&typeof Si=="number"&&Si>0&&(M=1.5*Si,w.O=M,w.j.info("backChannelRequestTimeoutMs_="+M)),M=w;const Ti=p.g;if(Ti){const Fa=Ti.g?Ti.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fa){var ne=M.h;ne.g||Fa.indexOf("spdy")==-1&&Fa.indexOf("quic")==-1&&Fa.indexOf("h2")==-1||(ne.j=ne.l,ne.g=new Set,ne.h&&(ku(ne,ne.h),ne.h=null))}if(M.G){const Kl=Ti.g?Ti.g.getResponseHeader("X-HTTP-Session-Id"):null;Kl&&(M.wa=Kl,At(M.J,M.G,Kl))}}w.I=3,w.l&&w.l.ra(),w.aa&&(w.T=Date.now()-p.F,w.j.info("Handshake RTT: "+w.T+"ms")),M=w;var ye=p;if(M.na=Rf(M,M.L?M.ba:null,M.W),ye.L){Ou(M.h,ye);var He=ye,un=M.O;un&&(He.H=un),He.D&&(Hi(He),ji(He)),M.g=ye}else bf(M);w.i.length>0&&Xi(w)}else mt[0]!="stop"&&mt[0]!="close"||Ji(w,7);else w.I==3&&(mt[0]=="stop"||mt[0]=="close"?mt[0]=="stop"?Ji(w,7):ju(w):mt[0]!="noop"&&w.l&&w.l.qa(mt),w.A=0)}}Vi(4)}catch{}}var En=class{constructor(p,v){this.g=p,this.map=v}};function Nu(p){this.l=p||10,c.PerformanceNavigationTiming?(p=c.performance.getEntriesByType("navigation"),p=p.length>0&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Pu(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function qi(p){return p.h?1:p.g?p.g.size:0}function Gi(p,v){return p.h?p.h==v:p.g?p.g.has(v):!1}function ku(p,v){p.g?p.g.add(v):p.h=v}function Ou(p,v){p.h&&p.h==v?p.h=null:p.g&&p.g.has(v)&&p.g.delete(v)}Nu.prototype.cancel=function(){if(this.i=Du(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function Du(p){if(p.h!=null)return p.i.concat(p.h.G);if(p.g!=null&&p.g.size!==0){let v=p.i;for(const w of p.g.values())v=v.concat(w.G);return v}return T(p.i)}var mf=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Bl(p,v){if(p){p=p.split("&");for(let w=0;w<p.length;w++){const M=p[w].indexOf("=");let Q,ne=null;M>=0?(Q=p[w].substring(0,M),ne=p[w].substring(M+1)):Q=p[w],v(Q,ne?decodeURIComponent(ne.replace(/\+/g," ")):"")}}}function Or(p){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;p instanceof Or?(this.l=p.l,Ln(this,p.j),this.o=p.o,this.g=p.g,Eo(this,p.u),this.h=p.h,Mu(this,vf(p.i)),this.m=p.m):p&&(v=String(p).match(mf))?(this.l=!1,Ln(this,v[1]||"",!0),this.o=Wi(v[2]||""),this.g=Wi(v[3]||"",!0),Eo(this,v[4]),this.h=Wi(v[5]||"",!0),Mu(this,v[6]||"",!0),this.m=Wi(v[7]||"")):(this.l=!1,this.i=new So(null,this.l))}Or.prototype.toString=function(){const p=[];var v=this.j;v&&p.push(Da(v,Fl,!0),":");var w=this.g;return(w||v=="file")&&(p.push("//"),(v=this.o)&&p.push(Da(v,Fl,!0),"@"),p.push(xs(w).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.u,w!=null&&p.push(":",String(w))),(w=this.h)&&(this.g&&w.charAt(0)!="/"&&p.push("/"),p.push(Da(w,w.charAt(0)=="/"?Lu:gf,!0))),(w=this.i.toString())&&p.push("?",w),(w=this.m)&&p.push("#",Da(w,yf)),p.join("")},Or.prototype.resolve=function(p){const v=bn(this);let w=!!p.j;w?Ln(v,p.j):w=!!p.o,w?v.o=p.o:w=!!p.g,w?v.g=p.g:w=p.u!=null;var M=p.h;if(w)Eo(v,p.u);else if(w=!!p.h){if(M.charAt(0)!="/")if(this.g&&!this.h)M="/"+M;else{var Q=v.h.lastIndexOf("/");Q!=-1&&(M=v.h.slice(0,Q+1)+M)}if(Q=M,Q==".."||Q==".")M="";else if(Q.indexOf("./")!=-1||Q.indexOf("/.")!=-1){M=Q.lastIndexOf("/",0)==0,Q=Q.split("/");const ne=[];for(let ye=0;ye<Q.length;){const He=Q[ye++];He=="."?M&&ye==Q.length&&ne.push(""):He==".."?((ne.length>1||ne.length==1&&ne[0]!="")&&ne.pop(),M&&ye==Q.length&&ne.push("")):(ne.push(He),M=!0)}M=ne.join("/")}else M=Q}return w?v.h=M:w=p.i.toString()!=="",w?Mu(v,vf(p.i)):w=!!p.m,w&&(v.m=p.m),v};function bn(p){return new Or(p)}function Ln(p,v,w){p.j=w?Wi(v,!0):v,p.j&&(p.j=p.j.replace(/:$/,""))}function Eo(p,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);p.u=v}else p.u=null}function Mu(p,v,w){v instanceof So?(p.i=v,Hl(p.i,p.l)):(w||(v=Da(v,bo)),p.i=new So(v,p.l))}function At(p,v,w){p.i.set(v,w)}function Oa(p){return At(p,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),p}function Wi(p,v){return p?v?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function Da(p,v,w){return typeof p=="string"?(p=encodeURI(p).replace(v,mr),w&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function mr(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var Fl=/[#\/\?@]/g,gf=/[#\?:]/g,Lu=/[#\?]/g,bo=/[#\?@]/g,yf=/#/g;function So(p,v){this.h=this.g=null,this.i=p||null,this.j=!!v}function gr(p){p.g||(p.g=new Map,p.h=0,p.i&&Bl(p.i,function(v,w){p.add(decodeURIComponent(v.replace(/\+/g," ")),w)}))}t=So.prototype,t.add=function(p,v){gr(this),this.i=null,p=To(this,p);let w=this.g.get(p);return w||this.g.set(p,w=[]),w.push(v),this.h+=1,this};function _f(p,v){gr(p),v=To(p,v),p.g.has(v)&&(p.i=null,p.h-=p.g.get(v).length,p.g.delete(v))}function Vu(p,v){return gr(p),v=To(p,v),p.g.has(v)}t.forEach=function(p,v){gr(this),this.g.forEach(function(w,M){w.forEach(function(Q){p.call(v,Q,M,this)},this)},this)};function Uu(p,v){gr(p);let w=[];if(typeof v=="string")Vu(p,v)&&(w=w.concat(p.g.get(To(p,v))));else for(p=Array.from(p.g.values()),v=0;v<p.length;v++)w=w.concat(p[v]);return w}t.set=function(p,v){return gr(this),this.i=null,p=To(this,p),Vu(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[v]),this.h+=1,this},t.get=function(p,v){return p?(p=Uu(this,p),p.length>0?String(p[0]):v):v};function jl(p,v,w){_f(p,v),w.length>0&&(p.i=null,p.g.set(To(p,v),T(w)),p.h+=w.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],v=Array.from(this.g.keys());for(let M=0;M<v.length;M++){var w=v[M];const Q=xs(w);w=Uu(this,w);for(let ne=0;ne<w.length;ne++){let ye=Q;w[ne]!==""&&(ye+="="+xs(w[ne])),p.push(ye)}}return this.i=p.join("&")};function vf(p){const v=new So;return v.i=p.i,p.g&&(v.g=new Map(p.g),v.h=p.h),v}function To(p,v){return v=String(v),p.j&&(v=v.toLowerCase()),v}function Hl(p,v){v&&!p.j&&(gr(p),p.i=null,p.g.forEach(function(w,M){const Q=M.toLowerCase();M!=Q&&(_f(this,M),jl(this,Q,w))},p)),p.j=v}function vi(p,v){const w=new gi;if(c.Image){const M=new Image;M.onload=y(Wr,w,"TestLoadImage: loaded",!0,v,M),M.onerror=y(Wr,w,"TestLoadImage: error",!1,v,M),M.onabort=y(Wr,w,"TestLoadImage: abort",!1,v,M),M.ontimeout=y(Wr,w,"TestLoadImage: timeout",!1,v,M),c.setTimeout(function(){M.ontimeout&&M.ontimeout()},1e4),M.src=p}else v(!1)}function zu(p,v){const w=new gi,M=new AbortController,Q=setTimeout(()=>{M.abort(),Wr(w,"TestPingServer: timeout",!1,v)},1e4);fetch(p,{signal:M.signal}).then(ne=>{clearTimeout(Q),ne.ok?Wr(w,"TestPingServer: ok",!0,v):Wr(w,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(Q),Wr(w,"TestPingServer: error",!1,v)})}function Wr(p,v,w,M,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),M(w)}catch{}}function wo(){this.g=new pr}function Ki(p){this.i=p.Sb||null,this.h=p.ab||!1}_(Ki,Rt),Ki.prototype.g=function(){return new Ma(this.i,this.h)};function Ma(p,v){pt.call(this),this.H=p,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_(Ma,pt),t=Ma.prototype,t.open=function(p,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=p,this.D=v,this.readyState=1,Ei(this)},t.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};p&&(v.body=p),(this.H||c).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Co(this)),this.readyState=0},t.Pa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,Ei(this)),this.g&&(this.readyState=3,Ei(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;$l(this)}else p.text().then(this.Oa.bind(this),this.ga.bind(this))};function $l(p){p.j.read().then(p.Ma.bind(p)).catch(p.ga.bind(p))}t.Ma=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var v=p.value?p.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!p.done}))&&(this.response=this.responseText+=v)}p.done?Co(this):Ei(this),this.readyState==3&&$l(this)}},t.Oa=function(p){this.g&&(this.response=this.responseText=p,Co(this))},t.Na=function(p){this.g&&(this.response=p,Co(this))},t.ga=function(){this.g&&Co(this)};function Co(p){p.readyState=4,p.l=null,p.j=null,p.B=null,Ei(p)}t.setRequestHeader=function(p,v){this.A.append(p,v)},t.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],v=this.h.entries();for(var w=v.next();!w.done;)w=w.value,p.push(w[0]+": "+w[1]),w=v.next();return p.join(`\r
`)};function Ei(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(Ma.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function Kr(p){let v="";return le(p,function(w,M){v+=M,v+=":",v+=w,v+=`\r
`}),v}function La(p,v,w){e:{for(M in w){var M=!1;break e}M=!0}M||(w=Kr(w),typeof p=="string"?w!=null&&xs(w):At(p,v,w))}function Lt(p){pt.call(this),this.headers=new Map,this.L=p||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_(Lt,pt);var Yi=/^https?$/i,Bu=["POST","PUT"];t=Lt.prototype,t.Fa=function(p){this.H=p},t.ea=function(p,v,w,M){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);v=v?v.toUpperCase():"GET",this.D=p,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():xu.g(),this.g.onreadystatechange=E(f(this.Ca,this));try{this.B=!0,this.g.open(v,String(p),!0),this.B=!1}catch(ne){Va(this,ne);return}if(p=w||"",w=new Map(this.headers),M)if(Object.getPrototypeOf(M)===Object.prototype)for(var Q in M)w.set(Q,M[Q]);else if(typeof M.keys=="function"&&typeof M.get=="function")for(const ne of M.keys())w.set(ne,M.get(ne));else throw Error("Unknown input type for opt_headers: "+String(M));M=Array.from(w.keys()).find(ne=>ne.toLowerCase()=="content-type"),Q=c.FormData&&p instanceof c.FormData,!(Array.prototype.indexOf.call(Bu,v,void 0)>=0)||M||Q||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ne,ye]of w)this.g.setRequestHeader(ne,ye);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(p),this.v=!1}catch(ne){Va(this,ne)}};function Va(p,v){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=v,p.o=5,Fu(p),Ns(p)}function Fu(p){p.A||(p.A=!0,st(p,"complete"),st(p,"error"))}t.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=p||7,st(this,"complete"),st(this,"abort"),Ns(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ns(this,!0)),Lt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Ua(this):this.Xa())},t.Xa=function(){Ua(this)};function Ua(p){if(p.h&&typeof a<"u"){if(p.v&&bi(p)==4)setTimeout(p.Ca.bind(p),0);else if(st(p,"readystatechange"),bi(p)==4){p.h=!1;try{const ne=p.ca();e:switch(ne){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var w;if(!(w=v)){var M;if(M=ne===0){let ye=String(p.D).match(mf)[1]||null;!ye&&c.self&&c.self.location&&(ye=c.self.location.protocol.slice(0,-1)),M=!Yi.test(ye?ye.toLowerCase():"")}w=M}if(w)st(p,"complete"),st(p,"success");else{p.o=6;try{var Q=bi(p)>2?p.g.statusText:""}catch{Q=""}p.l=Q+" ["+p.ca()+"]",Fu(p)}}finally{Ns(p)}}}}function Ns(p,v){if(p.g){p.m&&(clearTimeout(p.m),p.m=null);const w=p.g;p.g=null,v||st(p,"ready");try{w.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function bi(p){return p.g?p.g.readyState:0}t.ca=function(){try{return bi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(p){if(this.g){var v=this.g.responseText;return p&&v.indexOf(p)==0&&(v=v.substring(p.length)),Li(v)}};function Hn(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.F){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function Ps(p){const v={};p=(p.g&&bi(p)>=2&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let M=0;M<p.length;M++){if(k(p[M]))continue;var w=df(p[M]);const Q=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const ne=v[Q]||[];v[Q]=ne,ne.push(w)}be(v,function(M){return M.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Qi(p,v,w){return w&&w.internalChannelParams&&w.internalChannelParams[p]||v}function Ro(p){this.za=0,this.i=[],this.j=new gi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Qi("failFast",!1,p),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Qi("baseRetryDelayMs",5e3,p),this.Za=Qi("retryDelaySeedMs",1e4,p),this.Ta=Qi("forwardChannelMaxRetries",2,p),this.va=Qi("forwardChannelRequestTimeoutMs",2e4,p),this.ma=p&&p.xmlHttpFactory||void 0,this.Ua=p&&p.Rb||void 0,this.Aa=p&&p.useFetchStreams||!1,this.O=void 0,this.L=p&&p.supportsCrossDomainXhr||!1,this.M="",this.h=new Nu(p&&p.concurrentRequestLimit),this.Ba=new wo,this.S=p&&p.fastHandshake||!1,this.R=p&&p.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=p&&p.Pb||!1,p&&p.ua&&this.j.ua(),p&&p.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&p&&p.detectBufferingProxy||!1,this.ia=void 0,p&&p.longPollingTimeout&&p.longPollingTimeout>0&&(this.ia=p.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Ro.prototype,t.ka=8,t.I=1,t.connect=function(p,v,w,M){_n(0),this.W=p,this.H=v||{},w&&M!==void 0&&(this.H.OSID=w,this.H.OAID=M),this.F=this.X,this.J=Rf(this,null,this.W),Xi(this)};function ju(p){if(ql(p),p.I==3){var v=p.V++,w=bn(p.J);if(At(w,"SID",p.M),At(w,"RID",v),At(w,"TYPE","terminate"),za(p,w),v=new yi(p,p.j,v),v.M=2,v.A=Oa(bn(w)),w=!1,c.navigator&&c.navigator.sendBeacon)try{w=c.navigator.sendBeacon(v.A.toString(),"")}catch{}!w&&c.Image&&(new Image().src=v.A,w=!0),w||(v.g=Af(v.j,null),v.g.ea(v.A)),v.F=Date.now(),ji(v)}Cf(p)}function Ao(p){p.g&&($u(p),p.g.cancel(),p.g=null)}function ql(p){Ao(p),p.v&&(c.clearTimeout(p.v),p.v=null),Wl(p),p.h.cancel(),p.m&&(typeof p.m=="number"&&c.clearTimeout(p.m),p.m=null)}function Xi(p){if(!Pu(p.h)&&!p.m){p.m=!0;var v=p.Ea;j||P(),G||(j(),G=!0),x.add(v,p),p.D=0}}function Gl(p,v){return qi(p.h)>=p.h.j-(p.m?1:0)?!1:p.m?(p.i=v.G.concat(p.i),!0):p.I==1||p.I==2||p.D>=(p.Sa?0:p.Ta)?!1:(p.m=zi(f(p.Ea,p,v),wf(p,p.D)),p.D++,!0)}t.Ea=function(p){if(this.m)if(this.m=null,this.I==1){if(!p){this.V=Math.floor(Math.random()*1e5),p=this.V++;const Q=new yi(this,this.j,p);let ne=this.o;if(this.U&&(ne?(ne=$(ne),de(ne,this.U)):ne=this.U),this.u!==null||this.R||(Q.J=ne,ne=null),this.S)e:{for(var v=0,w=0;w<this.i.length;w++){t:{var M=this.i[w];if("__data__"in M.map&&(M=M.map.__data__,typeof M=="string")){M=M.length;break t}M=void 0}if(M===void 0)break;if(v+=M,v>4096){v=w;break e}if(v===4096||w===this.i.length-1){v=w+1;break e}}v=1e3}else v=1e3;v=Ef(this,Q,v),w=bn(this.J),At(w,"RID",p),At(w,"CVER",22),this.G&&At(w,"X-HTTP-Session-Id",this.G),za(this,w),ne&&(this.R?v="headers="+xs(Kr(ne))+"&"+v:this.u&&La(w,this.u,ne)),ku(this.h,Q),this.Ra&&At(w,"TYPE","init"),this.S?(At(w,"$req",v),At(w,"SID","null"),Q.U=!0,Fi(Q,w,null)):Fi(Q,w,v),this.I=2}}else this.I==3&&(p?Hu(this,p):this.i.length==0||Pu(this.h)||Hu(this))};function Hu(p,v){var w;v?w=v.l:w=p.V++;const M=bn(p.J);At(M,"SID",p.M),At(M,"RID",w),At(M,"AID",p.K),za(p,M),p.u&&p.o&&La(M,p.u,p.o),w=new yi(p,p.j,w,p.D+1),p.u===null&&(w.J=p.o),v&&(p.i=v.G.concat(p.i)),v=Ef(p,w,1e3),w.H=Math.round(p.va*.5)+Math.round(p.va*.5*Math.random()),ku(p.h,w),Fi(w,M,v)}function za(p,v){p.H&&le(p.H,function(w,M){At(v,M,w)}),p.l&&le({},function(w,M){At(v,M,w)})}function Ef(p,v,w){w=Math.min(p.i.length,w);const M=p.l?f(p.l.Ka,p.l,p):null;e:{var Q=p.i;let He=-1;for(;;){const un=["count="+w];He==-1?w>0?(He=Q[0].g,un.push("ofs="+He)):He=0:un.push("ofs="+He);let mt=!0;for(let Yt=0;Yt<w;Yt++){var ne=Q[Yt].g;const Yr=Q[Yt].map;if(ne-=He,ne<0)He=Math.max(0,Q[Yt].g-100),mt=!1;else try{ne="req"+ne+"_"||"";try{var ye=Yr instanceof Map?Yr:Object.entries(Yr);for(const[Zi,Si]of ye){let Ti=Si;h(Si)&&(Ti=ar(Si)),un.push(ne+Zi+"="+encodeURIComponent(Ti))}}catch(Zi){throw un.push(ne+"type="+encodeURIComponent("_badmap")),Zi}}catch{M&&M(Yr)}}if(mt){ye=un.join("&");break e}}ye=void 0}return p=p.i.splice(0,w),v.G=p,ye}function bf(p){if(!p.g&&!p.v){p.Y=1;var v=p.Da;j||P(),G||(j(),G=!0),x.add(v,p),p.A=0}}function Ba(p){return p.g||p.v||p.A>=3?!1:(p.Y++,p.v=zi(f(p.Da,p),wf(p,p.A)),p.A++,!0)}t.Da=function(){if(this.v=null,Sf(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var p=4*this.T;this.j.info("BP detection timer enabled: "+p),this.B=zi(f(this.Wa,this),p)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,_n(10),Ao(this),Sf(this))};function $u(p){p.B!=null&&(c.clearTimeout(p.B),p.B=null)}function Sf(p){p.g=new yi(p,p.j,"rpc",p.Y),p.u===null&&(p.g.J=p.o),p.g.P=0;var v=bn(p.na);At(v,"RID","rpc"),At(v,"SID",p.M),At(v,"AID",p.K),At(v,"CI",p.F?"0":"1"),!p.F&&p.ia&&At(v,"TO",p.ia),At(v,"TYPE","xmlhttp"),za(p,v),p.u&&p.o&&La(v,p.u,p.o),p.O&&(p.g.H=p.O);var w=p.g;p=p.ba,w.M=1,w.A=Oa(bn(v)),w.u=null,w.R=!0,Ul(w,p)}t.Va=function(){this.C!=null&&(this.C=null,Ao(this),Ba(this),_n(19))};function Wl(p){p.C!=null&&(c.clearTimeout(p.C),p.C=null)}function Tf(p,v){var w=null;if(p.g==v){Wl(p),$u(p),p.g=null;var M=2}else if(Gi(p.h,v))w=v.G,Ou(p.h,v),M=1;else return;if(p.I!=0){if(v.o)if(M==1){w=v.u?v.u.length:0,v=Date.now()-v.F;var Q=p.D;M=Pr(),st(M,new Ui(M,w)),Xi(p)}else bf(p);else if(Q=v.m,Q==3||Q==0&&v.X>0||!(M==1&&Gl(p,v)||M==2&&Ba(p)))switch(w&&w.length>0&&(v=p.h,v.i=v.i.concat(w)),Q){case 1:Ji(p,5);break;case 4:Ji(p,10);break;case 3:Ji(p,6);break;default:Ji(p,2)}}}function wf(p,v){let w=p.Qa+Math.floor(Math.random()*p.Za);return p.isActive()||(w*=2),w*v}function Ji(p,v){if(p.j.info("Error code "+v),v==2){var w=f(p.bb,p),M=p.Ua;const Q=!M;M=new Or(M||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Ln(M,"https"),Oa(M),Q?vi(M.toString(),w):zu(M.toString(),w)}else _n(2);p.I=0,p.l&&p.l.pa(v),Cf(p),ql(p)}t.bb=function(p){p?(this.j.info("Successfully pinged google.com"),_n(2)):(this.j.info("Failed to ping google.com"),_n(1))};function Cf(p){if(p.I=0,p.ja=[],p.l){const v=Du(p.h);(v.length!=0||p.i.length!=0)&&(C(p.ja,v),C(p.ja,p.i),p.h.i.length=0,T(p.i),p.i.length=0),p.l.oa()}}function Rf(p,v,w){var M=w instanceof Or?bn(w):new Or(w);if(M.g!="")v&&(M.g=v+"."+M.g),Eo(M,M.u);else{var Q=c.location;M=Q.protocol,v=v?v+"."+Q.hostname:Q.hostname,Q=+Q.port;const ne=new Or(null);M&&Ln(ne,M),v&&(ne.g=v),Q&&Eo(ne,Q),w&&(ne.h=w),M=ne}return w=p.G,v=p.wa,w&&v&&At(M,w,v),At(M,"VER",p.ka),za(p,M),M}function Af(p,v,w){if(v&&!p.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=p.Aa&&!p.ma?new Lt(new Ki({ab:w})):new Lt(p.ma),v.Fa(p.L),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function If(){}t=If.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Io(){}Io.prototype.g=function(p,v){return new lr(p,v)};function lr(p,v){pt.call(this),this.g=new Ro(v),this.l=p,this.h=v&&v.messageUrlParams||null,p=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(p?p["X-WebChannel-Content-Type"]=v.messageContentType:p={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(p?p["X-WebChannel-Client-Profile"]=v.sa:p={"X-WebChannel-Client-Profile":v.sa}),this.g.U=p,(p=v&&v.Qb)&&!k(p)&&(this.g.u=p),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!k(v)&&(this.g.G=v,p=this.h,p!==null&&v in p&&(p=this.h,v in p&&delete p[v])),this.j=new ks(this)}_(lr,pt),lr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},lr.prototype.close=function(){ju(this.g)},lr.prototype.o=function(p){var v=this.g;if(typeof p=="string"){var w={};w.__data__=p,p=w}else this.v&&(w={},w.__data__=ar(p),p=w);v.i.push(new En(v.Ya++,p)),v.I==3&&Xi(v)},lr.prototype.N=function(){this.g.l=null,delete this.j,ju(this.g),delete this.g,lr.Z.N.call(this)};function xf(p){yn.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var v=p.__sm__;if(v){e:{for(const w in v){p=w;break e}p=void 0}(this.i=p)&&(p=this.i,v=v!==null&&p in v?v[p]:void 0),this.data=v}else this.data=p}_(xf,yn);function Nf(){we.call(this),this.status=1}_(Nf,we);function ks(p){this.g=p}_(ks,If),ks.prototype.ra=function(){st(this.g,"a")},ks.prototype.qa=function(p){st(this.g,new xf(p))},ks.prototype.pa=function(p){st(this.g,new Nf)},ks.prototype.oa=function(){st(this.g,"b")},Io.prototype.createWebChannel=Io.prototype.g,lr.prototype.send=lr.prototype.o,lr.prototype.open=lr.prototype.m,lr.prototype.close=lr.prototype.close,F2=function(){return new Io},B2=function(){return Pr()},z2=Ue,N0={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Pa.NO_ERROR=0,Pa.TIMEOUT=8,Pa.HTTP_ERROR=6,om=Pa,Iu.COMPLETE="complete",U2=Iu,mi.EventType=Jn,Jn.OPEN="a",Jn.CLOSE="b",Jn.ERROR="c",Jn.MESSAGE="d",pt.prototype.listen=pt.prototype.J,Gh=mi,Lt.prototype.listenOnce=Lt.prototype.K,Lt.prototype.getLastError=Lt.prototype.Ha,Lt.prototype.getLastErrorCode=Lt.prototype.ya,Lt.prototype.getStatus=Lt.prototype.ca,Lt.prototype.getResponseJson=Lt.prototype.La,Lt.prototype.getResponseText=Lt.prototype.la,Lt.prototype.send=Lt.prototype.ea,Lt.prototype.setWithCredentials=Lt.prototype.Fa,V2=Lt}).apply(typeof Fp<"u"?Fp:typeof self<"u"?self:typeof window<"u"?window:{});const JR="@firebase/firestore",ZR="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}nr.UNAUTHENTICATED=new nr(null),nr.GOOGLE_CREDENTIALS=new nr("google-credentials-uid"),nr.FIRST_PARTY=new nr("first-party-uid"),nr.MOCK_USER=new nr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gu="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tl=new Vg("@firebase/firestore");function kc(){return Tl.logLevel}function Se(t,...e){if(Tl.logLevel<=Ze.DEBUG){const n=e.map(ub);Tl.debug(`Firestore (${gu}): ${t}`,...n)}}function fo(t,...e){if(Tl.logLevel<=Ze.ERROR){const n=e.map(ub);Tl.error(`Firestore (${gu}): ${t}`,...n)}}function Zc(t,...e){if(Tl.logLevel<=Ze.WARN){const n=e.map(ub);Tl.warn(`Firestore (${gu}): ${t}`,...n)}}function ub(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Le(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,j2(t,r,n)}function j2(t,e,n){let r=`FIRESTORE (${gu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw fo(r),new Error(r)}function wt(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||j2(e,s,r)}function je(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends ws{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class wF{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(nr.UNAUTHENTICATED)))}shutdown(){}}class CF{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class RF{constructor(e){this.t=e,this.currentUser=nr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){wt(this.o===void 0,42304);let r=this.i;const s=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let a=new la;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new la,e.enqueueRetryable((()=>s(this.currentUser)))};const c=()=>{const d=a;e.enqueueRetryable((async()=>{await d.promise,await s(this.currentUser)}))},h=d=>{Se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((d=>h(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(Se("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new la)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(wt(typeof r.accessToken=="string",31837,{l:r}),new H2(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return wt(e===null||typeof e=="string",2055,{h:e}),new nr(e)}}class AF{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=nr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class IF{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new AF(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(nr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class eA{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xF{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,hr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){wt(this.o===void 0,3512);const r=a=>{a.error!=null&&Se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.m;return this.m=a.token,Se("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const s=a=>{Se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>s(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?s(a):Se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new eA(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(wt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new eA(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NF(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=NF(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<n&&(r+=e.charAt(s[a]%62))}return r}}function nt(t,e){return t<e?-1:t>e?1:0}function P0(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),a=e.charAt(r);if(s!==a)return Fv(s)===Fv(a)?nt(s,a):Fv(s)?1:-1}return nt(t.length,e.length)}const PF=55296,kF=57343;function Fv(t){const e=t.charCodeAt(0);return e>=PF&&e<=kF}function eu(t,e,n){return t.length===e.length&&t.every(((r,s)=>n(r,e[s])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tA="__name__";class os{constructor(e,n,r){n===void 0?n=0:n>e.length&&Le(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Le(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return os.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof os?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const a=os.compareSegments(e.get(s),n.get(s));if(a!==0)return a}return nt(e.length,n.length)}static compareSegments(e,n){const r=os.isNumericId(e),s=os.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?os.extractNumericId(e).compare(os.extractNumericId(n)):P0(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return aa.fromString(e.substring(4,e.length-2))}}class Ht extends os{construct(e,n,r){return new Ht(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new _e(ue.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((s=>s.length>0)))}return new Ht(n)}static emptyPath(){return new Ht([])}}const OF=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qn extends os{construct(e,n,r){return new Qn(e,n,r)}static isValidIdentifier(e){return OF.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===tA}static keyField(){return new Qn([tA])}static fromServerFormat(e){const n=[];let r="",s=0;const a=()=>{if(r.length===0)throw new _e(ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;s<e.length;){const h=e[s];if(h==="\\"){if(s+1===e.length)throw new _e(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[s+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new _e(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,s+=2}else h==="`"?(c=!c,s++):h!=="."||c?(r+=h,s++):(a(),s++)}if(a(),c)throw new _e(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qn(n)}static emptyPath(){return new Qn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e){this.path=e}static fromPath(e){return new xe(Ht.fromString(e))}static fromName(e){return new xe(Ht.fromString(e).popFirst(5))}static empty(){return new xe(Ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ht.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ht.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new xe(new Ht(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $2(t,e,n){if(!n)throw new _e(ue.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function DF(t,e,n,r){if(e===!0&&r===!0)throw new _e(ue.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function nA(t){if(!xe.isDocumentKey(t))throw new _e(ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function rA(t){if(xe.isDocumentKey(t))throw new _e(ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function q2(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function jg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Le(12329,{type:typeof t})}function ki(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new _e(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=jg(t);throw new _e(ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nn(t,e){const n={typeString:t};return e&&(n.value=e),n}function Xd(t,e){if(!q2(t))throw new _e(ue.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const c=t[r];if(s&&typeof c!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(a!==void 0&&c!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new _e(ue.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iA=-62135596800,sA=1e6;class Wt{static now(){return Wt.fromMillis(Date.now())}static fromDate(e){return Wt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*sA);return new Wt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new _e(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new _e(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<iA)throw new _e(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/sA}_compareTo(e){return this.seconds===e.seconds?nt(this.nanoseconds,e.nanoseconds):nt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Wt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Xd(e,Wt._jsonSchema))return new Wt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-iA;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Wt._jsonSchemaVersion="firestore/timestamp/1.0",Wt._jsonSchema={type:Nn("string",Wt._jsonSchemaVersion),seconds:Nn("number"),nanoseconds:Nn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{static fromTimestamp(e){return new ze(e)}static min(){return new ze(new Wt(0,0))}static max(){return new ze(new Wt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sd=-1;function MF(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ze.fromTimestamp(r===1e9?new Wt(n+1,0):new Wt(n,r));return new pa(s,xe.empty(),e)}function LF(t){return new pa(t.readTime,t.key,Sd)}class pa{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new pa(ze.min(),xe.empty(),Sd)}static max(){return new pa(ze.max(),xe.empty(),Sd)}}function VF(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=xe.comparator(t.documentKey,e.documentKey),n!==0?n:nt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class zF{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yu(t){if(t.code!==ue.FAILED_PRECONDITION||t.message!==UF)throw t;Se("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Le(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new he(((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,s)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof he?n:he.resolve(n)}catch(n){return he.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):he.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):he.reject(n)}static resolve(e){return new he(((n,r)=>{n(e)}))}static reject(e){return new he(((n,r)=>{r(e)}))}static waitFor(e){return new he(((n,r)=>{let s=0,a=0,c=!1;e.forEach((h=>{++s,h.next((()=>{++a,c&&a===s&&n()}),(d=>r(d)))})),c=!0,a===s&&n()}))}static or(e){let n=he.resolve(!1);for(const r of e)n=n.next((s=>s?he.resolve(s):r()));return n}static forEach(e,n){const r=[];return e.forEach(((s,a)=>{r.push(n.call(this,s,a))})),this.waitFor(r)}static mapArray(e,n){return new he(((r,s)=>{const a=e.length,c=new Array(a);let h=0;for(let d=0;d<a;d++){const f=d;n(e[f]).next((y=>{c[f]=y,++h,h===a&&r(c)}),(y=>s(y)))}}))}static doWhile(e,n){return new he(((r,s)=>{const a=()=>{e()===!0?n().next((()=>{a()}),s):r()};a()}))}}function BF(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function _u(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Hg.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db=-1;function $g(t){return t==null}function Fm(t){return t===0&&1/t==-1/0}function FF(t){return typeof t=="number"&&Number.isInteger(t)&&!Fm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G2="";function jF(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=oA(e)),e=HF(t.get(n),e);return oA(e)}function HF(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const a=t.charAt(s);switch(a){case"\0":n+="";break;case G2:n+="";break;default:n+=a}}return n}function oA(t){return t+G2+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aA(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function wa(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function W2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pn=class k0{constructor(e,n){this.comparator=e,this.root=n||ca.EMPTY}insert(e,n){return new k0(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ca.BLACK,null,null))}remove(e){return new k0(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ca.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new jp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new jp(this.root,e,this.comparator,!1)}getReverseIterator(){return new jp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new jp(this.root,e,this.comparator,!0)}},jp=class{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},ca=class Qs{constructor(e,n,r,s,a){this.key=e,this.value=n,this.color=r??Qs.RED,this.left=s??Qs.EMPTY,this.right=a??Qs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,a){return new Qs(e??this.key,n??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,n,r),null):a===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Qs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Qs.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Le(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Le(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Le(27949);return e+(this.isRed()?0:1)}};ca.EMPTY=null,ca.RED=!0,ca.BLACK=!1;ca.EMPTY=new class{constructor(){this.size=0}get key(){throw Le(57766)}get value(){throw Le(16141)}get color(){throw Le(16727)}get left(){throw Le(29726)}get right(){throw Le(36894)}copy(e,n,r,s,a){return this}insert(e,n,r){return new ca(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.comparator=e,this.data=new Pn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new lA(this.data.getIterator())}getIteratorFrom(e){return new lA(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Dn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=r.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Dn(this.comparator);return n.data=e,n}}class lA{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e){this.fields=e,e.sort(Qn.comparator)}static empty(){return new jr([])}unionWith(e){let n=new Dn(Qn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new jr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return eu(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new K2("Invalid base64 string: "+a):a}})(e);return new Xn(n)}static fromUint8Array(e){const n=(function(s){let a="";for(let c=0;c<s.length;++c)a+=String.fromCharCode(s[c]);return a})(e);return new Xn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return nt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xn.EMPTY_BYTE_STRING=new Xn("");const $F=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ma(t){if(wt(!!t,39018),typeof t=="string"){let e=0;const n=$F.exec(t);if(wt(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:fn(t.seconds),nanos:fn(t.nanos)}}function fn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ga(t){return typeof t=="string"?Xn.fromBase64String(t):Xn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y2="server_timestamp",Q2="__type__",X2="__previous_value__",J2="__local_write_time__";function fb(t){return(t?.mapValue?.fields||{})[Q2]?.stringValue===Y2}function qg(t){const e=t.mapValue.fields[X2];return fb(e)?qg(e):e}function Td(t){const e=ma(t.mapValue.fields[J2].timestampValue);return new Wt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qF{constructor(e,n,r,s,a,c,h,d,f,y){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=d,this.useFetchStreams=f,this.isUsingEmulator=y}}const jm="(default)";class wd{constructor(e,n){this.projectId=e,this.database=n||jm}static empty(){return new wd("","")}get isDefaultDatabase(){return this.database===jm}isEqual(e){return e instanceof wd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2="__type__",GF="__max__",Hp={mapValue:{}},eN="__vector__",Hm="value";function ya(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?fb(t)?4:KF(t)?9007199254740991:WF(t)?10:11:Le(28295,{value:t})}function Es(t,e){if(t===e)return!0;const n=ya(t);if(n!==ya(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Td(t).isEqual(Td(e));case 3:return(function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const c=ma(s.timestampValue),h=ma(a.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(s,a){return ga(s.bytesValue).isEqual(ga(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(s,a){return fn(s.geoPointValue.latitude)===fn(a.geoPointValue.latitude)&&fn(s.geoPointValue.longitude)===fn(a.geoPointValue.longitude)})(t,e);case 2:return(function(s,a){if("integerValue"in s&&"integerValue"in a)return fn(s.integerValue)===fn(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const c=fn(s.doubleValue),h=fn(a.doubleValue);return c===h?Fm(c)===Fm(h):isNaN(c)&&isNaN(h)}return!1})(t,e);case 9:return eu(t.arrayValue.values||[],e.arrayValue.values||[],Es);case 10:case 11:return(function(s,a){const c=s.mapValue.fields||{},h=a.mapValue.fields||{};if(aA(c)!==aA(h))return!1;for(const d in c)if(c.hasOwnProperty(d)&&(h[d]===void 0||!Es(c[d],h[d])))return!1;return!0})(t,e);default:return Le(52216,{left:t})}}function Cd(t,e){return(t.values||[]).find((n=>Es(n,e)))!==void 0}function tu(t,e){if(t===e)return 0;const n=ya(t),r=ya(e);if(n!==r)return nt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return nt(t.booleanValue,e.booleanValue);case 2:return(function(a,c){const h=fn(a.integerValue||a.doubleValue),d=fn(c.integerValue||c.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1})(t,e);case 3:return cA(t.timestampValue,e.timestampValue);case 4:return cA(Td(t),Td(e));case 5:return P0(t.stringValue,e.stringValue);case 6:return(function(a,c){const h=ga(a),d=ga(c);return h.compareTo(d)})(t.bytesValue,e.bytesValue);case 7:return(function(a,c){const h=a.split("/"),d=c.split("/");for(let f=0;f<h.length&&f<d.length;f++){const y=nt(h[f],d[f]);if(y!==0)return y}return nt(h.length,d.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,c){const h=nt(fn(a.latitude),fn(c.latitude));return h!==0?h:nt(fn(a.longitude),fn(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return uA(t.arrayValue,e.arrayValue);case 10:return(function(a,c){const h=a.fields||{},d=c.fields||{},f=h[Hm]?.arrayValue,y=d[Hm]?.arrayValue,_=nt(f?.values?.length||0,y?.values?.length||0);return _!==0?_:uA(f,y)})(t.mapValue,e.mapValue);case 11:return(function(a,c){if(a===Hp.mapValue&&c===Hp.mapValue)return 0;if(a===Hp.mapValue)return 1;if(c===Hp.mapValue)return-1;const h=a.fields||{},d=Object.keys(h),f=c.fields||{},y=Object.keys(f);d.sort(),y.sort();for(let _=0;_<d.length&&_<y.length;++_){const E=P0(d[_],y[_]);if(E!==0)return E;const T=tu(h[d[_]],f[y[_]]);if(T!==0)return T}return nt(d.length,y.length)})(t.mapValue,e.mapValue);default:throw Le(23264,{he:n})}}function cA(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return nt(t,e);const n=ma(t),r=ma(e),s=nt(n.seconds,r.seconds);return s!==0?s:nt(n.nanos,r.nanos)}function uA(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const a=tu(n[s],r[s]);if(a)return a}return nt(n.length,r.length)}function nu(t){return O0(t)}function O0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=ma(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return ga(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return xe.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",s=!0;for(const a of n.values||[])s?s=!1:r+=",",r+=O0(a);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let s="{",a=!0;for(const c of r)a?a=!1:s+=",",s+=`${c}:${O0(n.fields[c])}`;return s+"}"})(t.mapValue):Le(61005,{value:t})}function am(t){switch(ya(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=qg(t);return e?16+am(e):16;case 5:return 2*t.stringValue.length;case 6:return ga(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,a)=>s+am(a)),0)})(t.arrayValue);case 10:case 11:return(function(r){let s=0;return wa(r.fields,((a,c)=>{s+=a.length+am(c)})),s})(t.mapValue);default:throw Le(13486,{value:t})}}function hA(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function D0(t){return!!t&&"integerValue"in t}function pb(t){return!!t&&"arrayValue"in t}function dA(t){return!!t&&"nullValue"in t}function fA(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function lm(t){return!!t&&"mapValue"in t}function WF(t){return(t?.mapValue?.fields||{})[Z2]?.stringValue===eN}function id(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return wa(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=id(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=id(t.arrayValue.values[n]);return e}return{...t}}function KF(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===GF}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e){this.value=e}static empty(){return new Tr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!lm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=id(n)}setAll(e){let n=Qn.emptyPath(),r={},s=[];e.forEach(((c,h)=>{if(!n.isImmediateParentOf(h)){const d=this.getFieldsMap(n);this.applyChanges(d,r,s),r={},s=[],n=h.popLast()}c?r[h.lastSegment()]=id(c):s.push(h.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,r,s)}delete(e){const n=this.field(e.popLast());lm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Es(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];lm(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){wa(n,((s,a)=>e[s]=a));for(const s of r)delete e[s]}clone(){return new Tr(id(this.value))}}function tN(t){const e=[];return wa(t.fields,((n,r)=>{const s=new Qn([n]);if(lm(r)){const a=tN(r.mapValue).fields;if(a.length===0)e.push(s);else for(const c of a)e.push(s.child(c))}else e.push(s)})),new jr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e,n,r,s,a,c,h){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=a,this.data=c,this.documentState=h}static newInvalidDocument(e){return new rr(e,0,ze.min(),ze.min(),ze.min(),Tr.empty(),0)}static newFoundDocument(e,n,r,s){return new rr(e,1,n,ze.min(),r,s,0)}static newNoDocument(e,n){return new rr(e,2,n,ze.min(),ze.min(),Tr.empty(),0)}static newUnknownDocument(e,n){return new rr(e,3,n,ze.min(),ze.min(),Tr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ze.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Tr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Tr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ze.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof rr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new rr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(e,n){this.position=e,this.inclusive=n}}function pA(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const a=e[s],c=t.position[s];if(a.field.isKeyField()?r=xe.comparator(xe.fromName(c.referenceValue),n.key):r=tu(c,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function mA(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Es(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(e,n="asc"){this.field=e,this.dir=n}}function YF(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{}class xn extends nN{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new XF(e,n,r):n==="array-contains"?new ej(e,r):n==="in"?new tj(e,r):n==="not-in"?new nj(e,r):n==="array-contains-any"?new rj(e,r):new xn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new JF(e,r):new ZF(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(tu(n,this.value)):n!==null&&ya(this.value)===ya(n)&&this.matchesComparison(tu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Le(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Mi extends nN{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Mi(e,n)}matches(e){return rN(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function rN(t){return t.op==="and"}function iN(t){return QF(t)&&rN(t)}function QF(t){for(const e of t.filters)if(e instanceof Mi)return!1;return!0}function M0(t){if(t instanceof xn)return t.field.canonicalString()+t.op.toString()+nu(t.value);if(iN(t))return t.filters.map((e=>M0(e))).join(",");{const e=t.filters.map((n=>M0(n))).join(",");return`${t.op}(${e})`}}function sN(t,e){return t instanceof xn?(function(r,s){return s instanceof xn&&r.op===s.op&&r.field.isEqual(s.field)&&Es(r.value,s.value)})(t,e):t instanceof Mi?(function(r,s){return s instanceof Mi&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((a,c,h)=>a&&sN(c,s.filters[h])),!0):!1})(t,e):void Le(19439)}function oN(t){return t instanceof xn?(function(n){return`${n.field.canonicalString()} ${n.op} ${nu(n.value)}`})(t):t instanceof Mi?(function(n){return n.op.toString()+" {"+n.getFilters().map(oN).join(" ,")+"}"})(t):"Filter"}class XF extends xn{constructor(e,n,r){super(e,n,r),this.key=xe.fromName(r.referenceValue)}matches(e){const n=xe.comparator(e.key,this.key);return this.matchesComparison(n)}}class JF extends xn{constructor(e,n){super(e,"in",n),this.keys=aN("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class ZF extends xn{constructor(e,n){super(e,"not-in",n),this.keys=aN("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function aN(t,e){return(e.arrayValue?.values||[]).map((n=>xe.fromName(n.referenceValue)))}class ej extends xn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return pb(n)&&Cd(n.arrayValue,this.value)}}class tj extends xn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Cd(this.value.arrayValue,n)}}class nj extends xn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Cd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Cd(this.value.arrayValue,n)}}class rj extends xn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!pb(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Cd(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ij{constructor(e,n=null,r=[],s=[],a=null,c=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=c,this.endAt=h,this.Te=null}}function gA(t,e=null,n=[],r=[],s=null,a=null,c=null){return new ij(t,e,n,r,s,a,c)}function mb(t){const e=je(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>M0(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),$g(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>nu(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>nu(r))).join(",")),e.Te=n}return e.Te}function gb(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!YF(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!sN(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!mA(t.startAt,e.startAt)&&mA(t.endAt,e.endAt)}function L0(t){return xe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(e,n=null,r=[],s=[],a=null,c="F",h=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=c,this.startAt=h,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function sj(t,e,n,r,s,a,c,h){return new vu(t,e,n,r,s,a,c,h)}function yb(t){return new vu(t)}function yA(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function lN(t){return t.collectionGroup!==null}function sd(t){const e=je(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new Dn(Qn.comparator);return c.filters.forEach((d=>{d.getFlattenedFilters().forEach((f=>{f.isInequality()&&(h=h.add(f.field))}))})),h})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Rd(a,r))})),n.has(Qn.keyField().canonicalString())||e.Ie.push(new Rd(Qn.keyField(),r))}return e.Ie}function ms(t){const e=je(t);return e.Ee||(e.Ee=oj(e,sd(t))),e.Ee}function oj(t,e){if(t.limitType==="F")return gA(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((s=>{const a=s.dir==="desc"?"asc":"desc";return new Rd(s.field,a)}));const n=t.endAt?new $m(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new $m(t.startAt.position,t.startAt.inclusive):null;return gA(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function V0(t,e){const n=t.filters.concat([e]);return new vu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function U0(t,e,n){return new vu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Gg(t,e){return gb(ms(t),ms(e))&&t.limitType===e.limitType}function cN(t){return`${mb(ms(t))}|lt:${t.limitType}`}function Oc(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((s=>oN(s))).join(", ")}]`),$g(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((s=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(s))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((s=>nu(s))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((s=>nu(s))).join(",")),`Target(${r})`})(ms(t))}; limitType=${t.limitType})`}function Wg(t,e){return e.isFoundDocument()&&(function(r,s){const a=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):xe.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(t,e)&&(function(r,s){for(const a of sd(r))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(r,s){for(const a of r.filters)if(!a.matches(s))return!1;return!0})(t,e)&&(function(r,s){return!(r.startAt&&!(function(c,h,d){const f=pA(c,h,d);return c.inclusive?f<=0:f<0})(r.startAt,sd(r),s)||r.endAt&&!(function(c,h,d){const f=pA(c,h,d);return c.inclusive?f>=0:f>0})(r.endAt,sd(r),s))})(t,e)}function aj(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function uN(t){return(e,n)=>{let r=!1;for(const s of sd(t)){const a=lj(s,e,n);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function lj(t,e,n){const r=t.field.isKeyField()?xe.comparator(e.key,n.key):(function(a,c,h){const d=c.data.field(a),f=h.data.field(a);return d!==null&&f!==null?tu(d,f):Le(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Le(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,a]of r)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){wa(this.inner,((n,r)=>{for(const[s,a]of r)e(s,a)}))}isEmpty(){return W2(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cj=new Pn(xe.comparator);function po(){return cj}const hN=new Pn(xe.comparator);function Wh(...t){let e=hN;for(const n of t)e=e.insert(n.key,n);return e}function dN(t){let e=hN;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function fl(){return od()}function fN(){return od()}function od(){return new kl((t=>t.toString()),((t,e)=>t.isEqual(e)))}const uj=new Pn(xe.comparator),hj=new Dn(xe.comparator);function rt(...t){let e=hj;for(const n of t)e=e.add(n);return e}const dj=new Dn(nt);function fj(){return dj}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _b(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fm(e)?"-0":e}}function pN(t){return{integerValue:""+t}}function pj(t,e){return FF(e)?pN(e):_b(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(){this._=void 0}}function mj(t,e,n){return t instanceof Ad?(function(s,a){const c={fields:{[Q2]:{stringValue:Y2},[J2]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&fb(a)&&(a=qg(a)),a&&(c.fields[X2]=a),{mapValue:c}})(n,e):t instanceof ru?gN(t,e):t instanceof iu?yN(t,e):(function(s,a){const c=mN(s,a),h=_A(c)+_A(s.Ae);return D0(c)&&D0(s.Ae)?pN(h):_b(s.serializer,h)})(t,e)}function gj(t,e,n){return t instanceof ru?gN(t,e):t instanceof iu?yN(t,e):n}function mN(t,e){return t instanceof qm?(function(r){return D0(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class Ad extends Kg{}class ru extends Kg{constructor(e){super(),this.elements=e}}function gN(t,e){const n=_N(e);for(const r of t.elements)n.some((s=>Es(s,r)))||n.push(r);return{arrayValue:{values:n}}}class iu extends Kg{constructor(e){super(),this.elements=e}}function yN(t,e){let n=_N(e);for(const r of t.elements)n=n.filter((s=>!Es(s,r)));return{arrayValue:{values:n}}}class qm extends Kg{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function _A(t){return fn(t.integerValue||t.doubleValue)}function _N(t){return pb(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(e,n){this.field=e,this.transform=n}}function yj(t,e){return t.field.isEqual(e.field)&&(function(r,s){return r instanceof ru&&s instanceof ru||r instanceof iu&&s instanceof iu?eu(r.elements,s.elements,Es):r instanceof qm&&s instanceof qm?Es(r.Ae,s.Ae):r instanceof Ad&&s instanceof Ad})(t.transform,e.transform)}class _j{constructor(e,n){this.version=e,this.transformResults=n}}class Oi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Oi}static exists(e){return new Oi(void 0,e)}static updateTime(e){return new Oi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function cm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Yg{}function vN(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new bN(t.key,Oi.none()):new Jd(t.key,t.data,Oi.none());{const n=t.data,r=Tr.empty();let s=new Dn(Qn.comparator);for(let a of e.fields)if(!s.has(a)){let c=n.field(a);c===null&&a.length>1&&(a=a.popLast(),c=n.field(a)),c===null?r.delete(a):r.set(a,c),s=s.add(a)}return new Ca(t.key,r,new jr(s.toArray()),Oi.none())}}function vj(t,e,n){t instanceof Jd?(function(s,a,c){const h=s.value.clone(),d=EA(s.fieldTransforms,a,c.transformResults);h.setAll(d),a.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(t,e,n):t instanceof Ca?(function(s,a,c){if(!cm(s.precondition,a))return void a.convertToUnknownDocument(c.version);const h=EA(s.fieldTransforms,a,c.transformResults),d=a.data;d.setAll(EN(s)),d.setAll(h),a.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(t,e,n):(function(s,a,c){a.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function ad(t,e,n,r){return t instanceof Jd?(function(a,c,h,d){if(!cm(a.precondition,c))return h;const f=a.value.clone(),y=bA(a.fieldTransforms,d,c);return f.setAll(y),c.convertToFoundDocument(c.version,f).setHasLocalMutations(),null})(t,e,n,r):t instanceof Ca?(function(a,c,h,d){if(!cm(a.precondition,c))return h;const f=bA(a.fieldTransforms,d,c),y=c.data;return y.setAll(EN(a)),y.setAll(f),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),h===null?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((_=>_.field)))})(t,e,n,r):(function(a,c,h){return cm(a.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(t,e,n)}function Ej(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),a=mN(r.transform,s||null);a!=null&&(n===null&&(n=Tr.empty()),n.set(r.field,a))}return n||null}function vA(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&eu(r,s,((a,c)=>yj(a,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Jd extends Yg{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ca extends Yg{constructor(e,n,r,s,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function EN(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function EA(t,e,n){const r=new Map;wt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const a=t[s],c=a.transform,h=e.data.field(a.field);r.set(a.field,gj(c,h,n[s]))}return r}function bA(t,e,n){const r=new Map;for(const s of t){const a=s.transform,c=n.data.field(s.field);r.set(s.field,mj(a,c,e))}return r}class bN extends Yg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class bj extends Yg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sj{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&vj(a,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ad(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ad(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=fN();return this.mutations.forEach((s=>{const a=e.get(s.key),c=a.overlayedDocument;let h=this.applyToLocalView(c,a.mutatedFields);h=n.has(s.key)?null:h;const d=vN(c,h);d!==null&&r.set(s.key,d),c.isValidDocument()||c.convertToNoDocument(ze.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),rt())}isEqual(e){return this.batchId===e.batchId&&eu(this.mutations,e.mutations,((n,r)=>vA(n,r)))&&eu(this.baseMutations,e.baseMutations,((n,r)=>vA(n,r)))}}class Eb{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){wt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=(function(){return uj})();const a=e.mutations;for(let c=0;c<a.length;c++)s=s.insert(a[c].key,r[c].version);return new Eb(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tj{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wj{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rn,at;function Cj(t){switch(t){case ue.OK:return Le(64938);case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0;default:return Le(15467,{code:t})}}function SN(t){if(t===void 0)return fo("GRPC error has no .code"),ue.UNKNOWN;switch(t){case Rn.OK:return ue.OK;case Rn.CANCELLED:return ue.CANCELLED;case Rn.UNKNOWN:return ue.UNKNOWN;case Rn.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case Rn.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case Rn.INTERNAL:return ue.INTERNAL;case Rn.UNAVAILABLE:return ue.UNAVAILABLE;case Rn.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case Rn.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case Rn.NOT_FOUND:return ue.NOT_FOUND;case Rn.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case Rn.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case Rn.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case Rn.ABORTED:return ue.ABORTED;case Rn.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case Rn.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case Rn.DATA_LOSS:return ue.DATA_LOSS;default:return Le(39323,{code:t})}}(at=Rn||(Rn={}))[at.OK=0]="OK",at[at.CANCELLED=1]="CANCELLED",at[at.UNKNOWN=2]="UNKNOWN",at[at.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",at[at.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",at[at.NOT_FOUND=5]="NOT_FOUND",at[at.ALREADY_EXISTS=6]="ALREADY_EXISTS",at[at.PERMISSION_DENIED=7]="PERMISSION_DENIED",at[at.UNAUTHENTICATED=16]="UNAUTHENTICATED",at[at.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",at[at.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",at[at.ABORTED=10]="ABORTED",at[at.OUT_OF_RANGE=11]="OUT_OF_RANGE",at[at.UNIMPLEMENTED=12]="UNIMPLEMENTED",at[at.INTERNAL=13]="INTERNAL",at[at.UNAVAILABLE=14]="UNAVAILABLE",at[at.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rj(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aj=new aa([4294967295,4294967295],0);function SA(t){const e=Rj().encode(t),n=new L2;return n.update(e),new Uint8Array(n.digest())}function TA(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new aa([n,r],0),new aa([s,a],0)]}class bb{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Kh(`Invalid padding: ${n}`);if(r<0)throw new Kh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Kh(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Kh(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=aa.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(aa.fromNumber(r)));return s.compare(Aj)===1&&(s=new aa([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=SA(e),[r,s]=TA(n);for(let a=0;a<this.hashCount;a++){const c=this.ye(r,s,a);if(!this.we(c))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),c=new bb(a,s,n);return r.forEach((h=>c.insert(h))),c}insert(e){if(this.ge===0)return;const n=SA(e),[r,s]=TA(n);for(let a=0;a<this.hashCount;a++){const c=this.ye(r,s,a);this.Se(c)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Kh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(e,n,r,s,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Zd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Qg(ze.min(),s,new Pn(nt),po(),rt())}}class Zd{constructor(e,n,r,s,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Zd(r,n,rt(),rt(),rt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class TN{constructor(e,n){this.targetId=e,this.Ce=n}}class wN{constructor(e,n,r=Xn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class wA{constructor(){this.ve=0,this.Fe=CA(),this.Me=Xn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=rt(),n=rt(),r=rt();return this.Fe.forEach(((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Le(38017,{changeType:a})}})),new Zd(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=CA()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,wt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Ij{constructor(e){this.Ge=e,this.ze=new Map,this.je=po(),this.Je=$p(),this.He=$p(),this.Ye=new Pn(nt)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Le(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,s)=>{this.rt(s)&&n(s)}))}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const a=s.target;if(L0(a))if(r===0){const c=new xe(a.path);this.et(n,c,rr.newNoDocument(c,ze.min()))}else wt(r===1,20013,{expectedCount:r});else{const c=this._t(n);if(c!==r){const h=this.ut(e),d=h?this.ct(h,e,c):1;if(d!==0){this.it(n);const f=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,f)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:a=0}=n;let c,h;try{c=ga(r).toUint8Array()}catch(d){if(d instanceof K2)return Zc("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{h=new bb(c,s,a)}catch(d){return Zc(d instanceof Kh?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return h.ge===0?null:h}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach((a=>{const c=this.Ge.ht(),h=`projects/${c.projectId}/databases/${c.database}/documents/${a.path.canonicalString()}`;e.mightContain(h)||(this.et(n,a,null),s++)})),s}Tt(e){const n=new Map;this.ze.forEach(((a,c)=>{const h=this.ot(c);if(h){if(a.current&&L0(h.target)){const d=new xe(h.target.path);this.It(d).has(c)||this.Et(c,d)||this.et(c,d,rr.newNoDocument(d,e))}a.Be&&(n.set(c,a.ke()),a.qe())}}));let r=rt();this.He.forEach(((a,c)=>{let h=!0;c.forEachWhile((d=>{const f=this.ot(d);return!f||f.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(r=r.add(a))})),this.je.forEach(((a,c)=>c.setReadTime(e)));const s=new Qg(e,n,this.Ye,this.je,r);return this.je=po(),this.Je=$p(),this.He=$p(),this.Ye=new Pn(nt),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new wA,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Dn(nt),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Dn(nt),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Se("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new wA),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function $p(){return new Pn(xe.comparator)}function CA(){return new Pn(xe.comparator)}const xj={asc:"ASCENDING",desc:"DESCENDING"},Nj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Pj={and:"AND",or:"OR"};class kj{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function z0(t,e){return t.useProto3Json||$g(e)?e:{value:e}}function Gm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function CN(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Oj(t,e){return Gm(t,e.toTimestamp())}function gs(t){return wt(!!t,49232),ze.fromTimestamp((function(n){const r=ma(n);return new Wt(r.seconds,r.nanos)})(t))}function Sb(t,e){return B0(t,e).canonicalString()}function B0(t,e){const n=(function(s){return new Ht(["projects",s.projectId,"databases",s.database])})(t).child("documents");return e===void 0?n:n.child(e)}function RN(t){const e=Ht.fromString(t);return wt(PN(e),10190,{key:e.toString()}),e}function F0(t,e){return Sb(t.databaseId,e.path)}function jv(t,e){const n=RN(e);if(n.get(1)!==t.databaseId.projectId)throw new _e(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new _e(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new xe(IN(n))}function AN(t,e){return Sb(t.databaseId,e)}function Dj(t){const e=RN(t);return e.length===4?Ht.emptyPath():IN(e)}function j0(t){return new Ht(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function IN(t){return wt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function RA(t,e,n){return{name:F0(t,e),fields:n.value.mapValue.fields}}function Mj(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Le(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=(function(f,y){return f.useProto3Json?(wt(y===void 0||typeof y=="string",58123),Xn.fromBase64String(y||"")):(wt(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),Xn.fromUint8Array(y||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&(function(f){const y=f.code===void 0?ue.UNKNOWN:SN(f.code);return new _e(y,f.message||"")})(c);n=new wN(r,s,a,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=jv(t,r.document.name),a=gs(r.document.updateTime),c=r.document.createTime?gs(r.document.createTime):ze.min(),h=new Tr({mapValue:{fields:r.document.fields}}),d=rr.newFoundDocument(s,a,c,h),f=r.targetIds||[],y=r.removedTargetIds||[];n=new um(f,y,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=jv(t,r.document),a=r.readTime?gs(r.readTime):ze.min(),c=rr.newNoDocument(s,a),h=r.removedTargetIds||[];n=new um([],h,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=jv(t,r.document),a=r.removedTargetIds||[];n=new um([],a,s,null)}else{if(!("filter"in e))return Le(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:a}=r,c=new wj(s,a),h=r.targetId;n=new TN(h,c)}}return n}function Lj(t,e){let n;if(e instanceof Jd)n={update:RA(t,e.key,e.value)};else if(e instanceof bN)n={delete:F0(t,e.key)};else if(e instanceof Ca)n={update:RA(t,e.key,e.data),updateMask:qj(e.fieldMask)};else{if(!(e instanceof bj))return Le(16599,{Vt:e.type});n={verify:F0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(a,c){const h=c.transform;if(h instanceof Ad)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof ru)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof iu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof qm)return{fieldPath:c.field.canonicalString(),increment:h.Ae};throw Le(20930,{transform:c.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(s,a){return a.updateTime!==void 0?{updateTime:Oj(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Le(27497)})(t,e.precondition)),n}function Vj(t,e){return t&&t.length>0?(wt(e!==void 0,14353),t.map((n=>(function(s,a){let c=s.updateTime?gs(s.updateTime):gs(a);return c.isEqual(ze.min())&&(c=gs(a)),new _j(c,s.transformResults||[])})(n,e)))):[]}function Uj(t,e){return{documents:[AN(t,e.path)]}}function zj(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=AN(t,s);const a=(function(f){if(f.length!==0)return NN(Mi.create(f,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const c=(function(f){if(f.length!==0)return f.map((y=>(function(E){return{field:Dc(E.field),direction:jj(E.dir)}})(y)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const h=z0(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{ft:n,parent:s}}function Bj(t){let e=Dj(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){wt(r===1,65062);const y=n.from[0];y.allDescendants?s=y.collectionId:e=e.child(y.collectionId)}let a=[];n.where&&(a=(function(_){const E=xN(_);return E instanceof Mi&&iN(E)?E.getFilters():[E]})(n.where));let c=[];n.orderBy&&(c=(function(_){return _.map((E=>(function(C){return new Rd(Mc(C.field),(function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(C.direction))})(E)))})(n.orderBy));let h=null;n.limit&&(h=(function(_){let E;return E=typeof _=="object"?_.value:_,$g(E)?null:E})(n.limit));let d=null;n.startAt&&(d=(function(_){const E=!!_.before,T=_.values||[];return new $m(T,E)})(n.startAt));let f=null;return n.endAt&&(f=(function(_){const E=!_.before,T=_.values||[];return new $m(T,E)})(n.endAt)),sj(e,s,c,a,h,"F",d,f)}function Fj(t,e){const n=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Le(28987,{purpose:s})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function xN(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Mc(n.unaryFilter.field);return xn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Mc(n.unaryFilter.field);return xn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Mc(n.unaryFilter.field);return xn.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Mc(n.unaryFilter.field);return xn.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Le(61313);default:return Le(60726)}})(t):t.fieldFilter!==void 0?(function(n){return xn.create(Mc(n.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Le(58110);default:return Le(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Mi.create(n.compositeFilter.filters.map((r=>xN(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Le(1026)}})(n.compositeFilter.op))})(t):Le(30097,{filter:t})}function jj(t){return xj[t]}function Hj(t){return Nj[t]}function $j(t){return Pj[t]}function Dc(t){return{fieldPath:t.canonicalString()}}function Mc(t){return Qn.fromServerFormat(t.fieldPath)}function NN(t){return t instanceof xn?(function(n){if(n.op==="=="){if(fA(n.value))return{unaryFilter:{field:Dc(n.field),op:"IS_NAN"}};if(dA(n.value))return{unaryFilter:{field:Dc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(fA(n.value))return{unaryFilter:{field:Dc(n.field),op:"IS_NOT_NAN"}};if(dA(n.value))return{unaryFilter:{field:Dc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Dc(n.field),op:Hj(n.op),value:n.value}}})(t):t instanceof Mi?(function(n){const r=n.getFilters().map((s=>NN(s)));return r.length===1?r[0]:{compositeFilter:{op:$j(n.op),filters:r}}})(t):Le(54877,{filter:t})}function qj(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function PN(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e,n,r,s,a=ze.min(),c=ze.min(),h=Xn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=d}withSequenceNumber(e){return new ra(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ra(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ra(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ra(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gj{constructor(e){this.yt=e}}function Wj(t){const e=Bj({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?U0(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kj{constructor(){this.Cn=new Yj}addToCollectionParentIndex(e,n){return this.Cn.add(n),he.resolve()}getCollectionParents(e,n){return he.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return he.resolve()}deleteFieldIndex(e,n){return he.resolve()}deleteAllFieldIndexes(e){return he.resolve()}createTargetIndexes(e,n){return he.resolve()}getDocumentsMatchingTarget(e,n){return he.resolve(null)}getIndexType(e,n){return he.resolve(0)}getFieldIndexes(e,n){return he.resolve([])}getNextCollectionGroupToUpdate(e){return he.resolve(null)}getMinOffset(e,n){return he.resolve(pa.min())}getMinOffsetFromCollectionGroup(e,n){return he.resolve(pa.min())}updateCollectionGroup(e,n,r){return he.resolve()}updateIndexEntries(e,n){return he.resolve()}}class Yj{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Dn(Ht.comparator),a=!s.has(r);return this.index[n]=s.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Dn(Ht.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},kN=41943040;class Sr{static withCacheSize(e){return new Sr(e,Sr.DEFAULT_COLLECTION_PERCENTILE,Sr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Sr.DEFAULT_COLLECTION_PERCENTILE=10,Sr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sr.DEFAULT=new Sr(kN,Sr.DEFAULT_COLLECTION_PERCENTILE,Sr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sr.DISABLED=new Sr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new su(0)}static cr(){return new su(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IA="LruGarbageCollector",Qj=1048576;function xA([t,e],[n,r]){const s=nt(t,n);return s===0?nt(e,r):s}class Xj{constructor(e){this.Ir=e,this.buffer=new Dn(xA),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();xA(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Jj{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Se(IA,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){_u(n)?Se(IA,"Ignoring IndexedDB error during garbage collection: ",n):await yu(n)}await this.Vr(3e5)}))}}class Zj{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return he.resolve(Hg.ce);const r=new Xj(n);return this.mr.forEachTarget(e,(s=>r.Ar(s.sequenceNumber))).next((()=>this.mr.pr(e,(s=>r.Ar(s))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Se("LruGarbageCollector","Garbage collection skipped; disabled"),he.resolve(AA)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Se("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),AA):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,a,c,h,d,f;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(Se("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),s=this.params.maximumSequenceNumbersToCollect):s=_,c=Date.now(),this.nthSequenceNumber(e,s)))).next((_=>(r=_,h=Date.now(),this.removeTargets(e,r,n)))).next((_=>(a=_,d=Date.now(),this.removeOrphanedDocuments(e,r)))).next((_=>(f=Date.now(),kc()<=Ze.DEBUG&&Se("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${s} in `+(h-c)+`ms
	Removed ${a} targets in `+(d-h)+`ms
	Removed ${_} documents in `+(f-d)+`ms
Total Duration: ${f-y}ms`),he.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:_}))))}}function e8(t,e){return new Zj(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t8{constructor(){this.changes=new kl((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,rr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?he.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n8{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r8{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,n)))).next((s=>(r!==null&&ad(r.mutation,s,jr.empty(),Wt.now()),s)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,rt()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=rt()){const s=fl();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,r).next((a=>{let c=Wh();return a.forEach(((h,d)=>{c=c.insert(h,d.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const r=fl();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,rt())))}populateOverlays(e,n,r){const s=[];return r.forEach((a=>{n.has(a)||s.push(a)})),this.documentOverlayCache.getOverlays(e,s).next((a=>{a.forEach(((c,h)=>{n.set(c,h)}))}))}computeViews(e,n,r,s){let a=po();const c=od(),h=(function(){return od()})();return n.forEach(((d,f)=>{const y=r.get(f.key);s.has(f.key)&&(y===void 0||y.mutation instanceof Ca)?a=a.insert(f.key,f):y!==void 0?(c.set(f.key,y.mutation.getFieldMask()),ad(y.mutation,f,y.mutation.getFieldMask(),Wt.now())):c.set(f.key,jr.empty())})),this.recalculateAndSaveOverlays(e,a).next((d=>(d.forEach(((f,y)=>c.set(f,y))),n.forEach(((f,y)=>h.set(f,new n8(y,c.get(f)??null)))),h)))}recalculateAndSaveOverlays(e,n){const r=od();let s=new Pn(((c,h)=>c-h)),a=rt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const h of c)h.keys().forEach((d=>{const f=n.get(d);if(f===null)return;let y=r.get(d)||jr.empty();y=h.applyToLocalView(f,y),r.set(d,y);const _=(s.get(h.batchId)||rt()).add(d);s=s.insert(h.batchId,_)}))})).next((()=>{const c=[],h=s.getReverseIterator();for(;h.hasNext();){const d=h.getNext(),f=d.key,y=d.value,_=fN();y.forEach((E=>{if(!a.has(E)){const T=vN(n.get(E),r.get(E));T!==null&&_.set(E,T),a=a.add(E)}})),c.push(this.documentOverlayCache.saveOverlays(e,f,_))}return he.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,s){return(function(c){return xe.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):lN(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next((a=>{const c=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-a.size):he.resolve(fl());let h=Sd,d=a;return c.next((f=>he.forEach(f,((y,_)=>(h<_.largestBatchId&&(h=_.largestBatchId),a.get(y)?he.resolve():this.remoteDocumentCache.getEntry(e,y).next((E=>{d=d.insert(y,E)}))))).next((()=>this.populateOverlays(e,f,a))).next((()=>this.computeViews(e,d,f,rt()))).next((y=>({batchId:h,changes:dN(y)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new xe(n)).next((r=>{let s=Wh();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const a=n.collectionGroup;let c=Wh();return this.indexManager.getCollectionParents(e,a).next((h=>he.forEach(h,(d=>{const f=(function(_,E){return new vu(E,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(n,d.child(a));return this.getDocumentsMatchingCollectionQuery(e,f,r,s).next((y=>{y.forEach(((_,E)=>{c=c.insert(_,E)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,r,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((c=>(a=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,s)))).next((c=>{a.forEach(((d,f)=>{const y=f.getKey();c.get(y)===null&&(c=c.insert(y,rr.newInvalidDocument(y)))}));let h=Wh();return c.forEach(((d,f)=>{const y=a.get(d);y!==void 0&&ad(y.mutation,f,jr.empty(),Wt.now()),Wg(n,f)&&(h=h.insert(d,f))})),h}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i8{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return he.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(s){return{id:s.id,version:s.version,createTime:gs(s.createTime)}})(n)),he.resolve()}getNamedQuery(e,n){return he.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(s){return{name:s.name,query:Wj(s.bundledQuery),readTime:gs(s.readTime)}})(n)),he.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s8{constructor(){this.overlays=new Pn(xe.comparator),this.qr=new Map}getOverlay(e,n){return he.resolve(this.overlays.get(n))}getOverlays(e,n){const r=fl();return he.forEach(n,(s=>this.getOverlay(e,s).next((a=>{a!==null&&r.set(s,a)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((s,a)=>{this.St(e,n,a)})),he.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(r)),he.resolve()}getOverlaysForCollection(e,n,r){const s=fl(),a=n.length+1,c=new xe(n.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const d=h.getNext().value,f=d.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===a&&d.largestBatchId>r&&s.set(d.getKey(),d)}return he.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let a=new Pn(((f,y)=>f-y));const c=this.overlays.getIterator();for(;c.hasNext();){const f=c.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let y=a.get(f.largestBatchId);y===null&&(y=fl(),a=a.insert(f.largestBatchId,y)),y.set(f.getKey(),f)}}const h=fl(),d=a.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((f,y)=>h.set(f,y))),!(h.size()>=s)););return he.resolve(h)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const c=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new Tj(n,r));let a=this.qr.get(n);a===void 0&&(a=rt(),this.qr.set(n,a)),this.qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o8{constructor(){this.sessionToken=Xn.EMPTY_BYTE_STRING}getSessionToken(e){return he.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,he.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(){this.Qr=new Dn(zn.$r),this.Ur=new Dn(zn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new zn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new zn(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new xe(new Ht([])),r=new zn(n,e),s=new zn(n,e+1),a=[];return this.Ur.forEachInRange([r,s],(c=>{this.Gr(c),a.push(c.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new xe(new Ht([])),r=new zn(n,e),s=new zn(n,e+1);let a=rt();return this.Ur.forEachInRange([r,s],(c=>{a=a.add(c.key)})),a}containsKey(e){const n=new zn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class zn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return xe.comparator(e.key,n.key)||nt(e.Yr,n.Yr)}static Kr(e,n){return nt(e.Yr,n.Yr)||xe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a8{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Dn(zn.$r)}checkEmpty(e){return he.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new Sj(a,n,r,s);this.mutationQueue.push(c);for(const h of s)this.Zr=this.Zr.add(new zn(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return he.resolve(c)}lookupMutationBatch(e,n){return he.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),a=s<0?0:s;return he.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return he.resolve(this.mutationQueue.length===0?db:this.tr-1)}getAllMutationBatches(e){return he.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new zn(n,0),s=new zn(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,s],(c=>{const h=this.Xr(c.Yr);a.push(h)})),he.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Dn(nt);return n.forEach((s=>{const a=new zn(s,0),c=new zn(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,c],(h=>{r=r.add(h.Yr)}))})),he.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let a=r;xe.isDocumentKey(a)||(a=a.child(""));const c=new zn(new xe(a),0);let h=new Dn(nt);return this.Zr.forEachWhile((d=>{const f=d.key.path;return!!r.isPrefixOf(f)&&(f.length===s&&(h=h.add(d.Yr)),!0)}),c),he.resolve(this.ti(h))}ti(e){const n=[];return e.forEach((r=>{const s=this.Xr(r);s!==null&&n.push(s)})),n}removeMutationBatch(e,n){wt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return he.forEach(n.mutations,(s=>{const a=new zn(s.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new zn(n,0),s=this.Zr.firstAfterOrEqual(r);return he.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,he.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l8{constructor(e){this.ri=e,this.docs=(function(){return new Pn(xe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),a=s?s.size:0,c=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return he.resolve(r?r.document.mutableCopy():rr.newInvalidDocument(n))}getEntries(e,n){let r=po();return n.forEach((s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():rr.newInvalidDocument(s))})),he.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let a=po();const c=n.path,h=new xe(c.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(h);for(;d.hasNext();){const{key:f,value:{document:y}}=d.getNext();if(!c.isPrefixOf(f.path))break;f.path.length>c.length+1||VF(LF(y),r)<=0||(s.has(y.key)||Wg(n,y))&&(a=a.insert(y.key,y.mutableCopy()))}return he.resolve(a)}getAllFromCollectionGroup(e,n,r,s){Le(9500)}ii(e,n){return he.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new c8(this)}getSize(e){return he.resolve(this.size)}}class c8 extends t8{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)})),he.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u8{constructor(e){this.persistence=e,this.si=new kl((n=>mb(n)),gb),this.lastRemoteSnapshotVersion=ze.min(),this.highestTargetId=0,this.oi=0,this._i=new Tb,this.targetCount=0,this.ai=su.ur()}forEachTarget(e,n){return this.si.forEach(((r,s)=>n(s))),he.resolve()}getLastRemoteSnapshotVersion(e){return he.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return he.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),he.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),he.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new su(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,he.resolve()}updateTargetData(e,n){return this.Pr(n),he.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,he.resolve()}removeTargets(e,n,r){let s=0;const a=[];return this.si.forEach(((c,h)=>{h.sequenceNumber<=n&&r.get(h.targetId)===null&&(this.si.delete(c),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),s++)})),he.waitFor(a).next((()=>s))}getTargetCount(e){return he.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return he.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),he.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,a=[];return s&&n.forEach((c=>{a.push(s.markPotentiallyOrphaned(e,c))})),he.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),he.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return he.resolve(r)}containsKey(e,n){return he.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(e,n){this.ui={},this.overlays={},this.ci=new Hg(0),this.li=!1,this.li=!0,this.hi=new o8,this.referenceDelegate=e(this),this.Pi=new u8(this),this.indexManager=new Kj,this.remoteDocumentCache=(function(s){return new l8(s)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new Gj(n),this.Ii=new i8(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new s8,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new a8(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Se("MemoryPersistence","Starting transaction:",e);const s=new h8(this.ci.next());return this.referenceDelegate.Ei(),r(s).next((a=>this.referenceDelegate.di(s).next((()=>a)))).toPromise().then((a=>(s.raiseOnCommittedEvent(),a)))}Ai(e,n){return he.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class h8 extends zF{constructor(e){super(),this.currentSequenceNumber=e}}class wb{constructor(e){this.persistence=e,this.Ri=new Tb,this.Vi=null}static mi(e){return new wb(e)}get fi(){if(this.Vi)return this.Vi;throw Le(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),he.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),he.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),he.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((s=>this.fi.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((s=>{s.forEach((a=>this.fi.add(a.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return he.forEach(this.fi,(r=>{const s=xe.fromPath(r);return this.gi(e,s).next((a=>{a||n.removeEntry(s,ze.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return he.or([()=>he.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Wm{constructor(e,n){this.persistence=e,this.pi=new kl((r=>jF(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=e8(this,n)}static mi(e,n){return new Wm(e,n)}Ei(){}di(e){return he.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((s=>r+s))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return he.forEach(this.pi,((r,s)=>this.br(e,r,s).next((a=>a?he.resolve():n(s)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.ii(e,(c=>this.br(e,c,n).next((h=>{h||(r++,a.removeEntry(c,ze.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),he.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),he.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),he.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),he.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=am(e.data.value)),n}br(e,n,r){return he.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return he.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=rt(),s=rt();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new Cb(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d8{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f8{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return LU()?8:BF(sr())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const a={result:null};return this.ys(e,n).next((c=>{a.result=c})).next((()=>{if(!a.result)return this.ws(e,n,s,r).next((c=>{a.result=c}))})).next((()=>{if(a.result)return;const c=new d8;return this.Ss(e,n,c).next((h=>{if(a.result=h,this.Vs)return this.bs(e,n,c,h.size)}))})).next((()=>a.result))}bs(e,n,r,s){return r.documentReadCount<this.fs?(kc()<=Ze.DEBUG&&Se("QueryEngine","SDK will not create cache indexes for query:",Oc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),he.resolve()):(kc()<=Ze.DEBUG&&Se("QueryEngine","Query:",Oc(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(kc()<=Ze.DEBUG&&Se("QueryEngine","The SDK decides to create cache indexes for query:",Oc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ms(n))):he.resolve())}ys(e,n){if(yA(n))return he.resolve(null);let r=ms(n);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(n.limit!==null&&s===1&&(n=U0(n,null,"F"),r=ms(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const c=rt(...a);return this.ps.getDocuments(e,c).next((h=>this.indexManager.getMinOffset(e,r).next((d=>{const f=this.Ds(n,h);return this.Cs(n,f,c,d.readTime)?this.ys(e,U0(n,null,"F")):this.vs(e,f,n,d)}))))})))))}ws(e,n,r,s){return yA(n)||s.isEqual(ze.min())?he.resolve(null):this.ps.getDocuments(e,r).next((a=>{const c=this.Ds(n,a);return this.Cs(n,c,r,s)?he.resolve(null):(kc()<=Ze.DEBUG&&Se("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Oc(n)),this.vs(e,c,n,MF(s,Sd)).next((h=>h)))}))}Ds(e,n){let r=new Dn(uN(e));return n.forEach(((s,a)=>{Wg(e,a)&&(r=r.add(a))})),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}Ss(e,n,r){return kc()<=Ze.DEBUG&&Se("QueryEngine","Using full collection scan to execute query:",Oc(n)),this.ps.getDocumentsMatchingQuery(e,n,pa.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next((a=>(n.forEach((c=>{a=a.insert(c.key,c)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb="LocalStore",p8=3e8;class m8{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new Pn(nt),this.xs=new kl((a=>mb(a)),gb),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new r8(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function g8(t,e,n,r){return new m8(t,e,n,r)}async function DN(t,e){const n=je(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next((a=>(s=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((a=>{const c=[],h=[];let d=rt();for(const f of s){c.push(f.batchId);for(const y of f.mutations)d=d.add(y.key)}for(const f of a){h.push(f.batchId);for(const y of f.mutations)d=d.add(y.key)}return n.localDocuments.getDocuments(r,d).next((f=>({Ls:f,removedBatchIds:c,addedBatchIds:h})))}))}))}function y8(t,e){const n=je(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,d,f,y){const _=f.batch,E=_.keys();let T=he.resolve();return E.forEach((C=>{T=T.next((()=>y.getEntry(d,C))).next((R=>{const I=f.docVersions.get(C);wt(I!==null,48541),R.version.compareTo(I)<0&&(_.applyToRemoteDocument(R,f),R.isValidDocument()&&(R.setReadTime(f.commitVersion),y.addEntry(R)))}))})),T.next((()=>h.mutationQueue.removeMutationBatch(d,_)))})(n,r,e,a).next((()=>a.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(h){let d=rt();for(let f=0;f<h.mutationResults.length;++f)h.mutationResults[f].transformResults.length>0&&(d=d.add(h.batch.mutations[f].key));return d})(e)))).next((()=>n.localDocuments.getDocuments(r,s)))}))}function MN(t){const e=je(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function _8(t,e){const n=je(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const h=[];e.targetChanges.forEach(((y,_)=>{const E=s.get(_);if(!E)return;h.push(n.Pi.removeMatchingKeys(a,y.removedDocuments,_).next((()=>n.Pi.addMatchingKeys(a,y.addedDocuments,_))));let T=E.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(_)!==null?T=T.withResumeToken(Xn.EMPTY_BYTE_STRING,ze.min()).withLastLimboFreeSnapshotVersion(ze.min()):y.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(y.resumeToken,r)),s=s.insert(_,T),(function(R,I,D){return R.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=p8?!0:D.addedDocuments.size+D.modifiedDocuments.size+D.removedDocuments.size>0})(E,T,y)&&h.push(n.Pi.updateTargetData(a,T))}));let d=po(),f=rt();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(a,y))})),h.push(v8(a,c,e.documentUpdates).next((y=>{d=y.ks,f=y.qs}))),!r.isEqual(ze.min())){const y=n.Pi.getLastRemoteSnapshotVersion(a).next((_=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r)));h.push(y)}return he.waitFor(h).next((()=>c.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,d,f))).next((()=>d))})).then((a=>(n.Ms=s,a)))}function v8(t,e,n){let r=rt(),s=rt();return n.forEach((a=>r=r.add(a))),e.getEntries(t,r).next((a=>{let c=po();return n.forEach(((h,d)=>{const f=a.get(h);d.isFoundDocument()!==f.isFoundDocument()&&(s=s.add(h)),d.isNoDocument()&&d.version.isEqual(ze.min())?(e.removeEntry(h,d.readTime),c=c.insert(h,d)):!f.isValidDocument()||d.version.compareTo(f.version)>0||d.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(d),c=c.insert(h,d)):Se(Rb,"Ignoring outdated watch update for ",h,". Current version:",f.version," Watch version:",d.version)})),{ks:c,qs:s}}))}function E8(t,e){const n=je(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=db),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function b8(t,e){const n=je(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return n.Pi.getTargetData(r,e).next((a=>a?(s=a,he.resolve(s)):n.Pi.allocateTargetId(r).next((c=>(s=new ra(e,c,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function H0(t,e,n){const r=je(t),s=r.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(c=>r.persistence.referenceDelegate.removeTarget(c,s)))}catch(c){if(!_u(c))throw c;Se(Rb,`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function NA(t,e,n){const r=je(t);let s=ze.min(),a=rt();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(d,f,y){const _=je(d),E=_.xs.get(y);return E!==void 0?he.resolve(_.Ms.get(E)):_.Pi.getTargetData(f,y)})(r,c,ms(e)).next((h=>{if(h)return s=h.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(c,h.targetId).next((d=>{a=d}))})).next((()=>r.Fs.getDocumentsMatchingQuery(c,e,n?s:ze.min(),n?a:rt()))).next((h=>(S8(r,aj(e),h),{documents:h,Qs:a})))))}function S8(t,e,n){let r=t.Os.get(e)||ze.min();n.forEach(((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),t.Os.set(e,r)}class PA{constructor(){this.activeTargetIds=fj()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class T8{constructor(){this.Mo=new PA,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new PA,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w8{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kA="ConnectivityMonitor";class OA{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Se(kA,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Se(kA,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qp=null;function $0(){return qp===null?qp=(function(){return 268435456+Math.round(2147483648*Math.random())})():qp++,"0x"+qp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hv="RestConnection",C8={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class R8{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===jm?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,a){const c=$0(),h=this.zo(e,n.toUriEncodedString());Se(Hv,`Sending RPC '${e}' ${c}:`,h,r);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,s,a);const{host:f}=new URL(h),y=Ts(f);return this.Jo(e,h,d,r,y).then((_=>(Se(Hv,`Received RPC '${e}' ${c}: `,_),_)),(_=>{throw Zc(Hv,`RPC '${e}' ${c} failed with error: `,_,"url: ",h,"request:",r),_}))}Ho(e,n,r,s,a,c){return this.Go(e,n,r,s,a)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+gu})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((s,a)=>e[a]=s)),r&&r.headers.forEach(((s,a)=>e[a]=s))}zo(e,n){const r=C8[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A8{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const er="WebChannelConnection";class I8 extends R8{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,a){const c=$0();return new Promise(((h,d)=>{const f=new V2;f.setWithCredentials(!0),f.listenOnce(U2.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case om.NO_ERROR:const _=f.getResponseJson();Se(er,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(_)),h(_);break;case om.TIMEOUT:Se(er,`RPC '${e}' ${c} timed out`),d(new _e(ue.DEADLINE_EXCEEDED,"Request time out"));break;case om.HTTP_ERROR:const E=f.getStatus();if(Se(er,`RPC '${e}' ${c} failed with status:`,E,"response text:",f.getResponseText()),E>0){let T=f.getResponseJson();Array.isArray(T)&&(T=T[0]);const C=T?.error;if(C&&C.status&&C.message){const R=(function(D){const F=D.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf(F)>=0?F:ue.UNKNOWN})(C.status);d(new _e(R,C.message))}else d(new _e(ue.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new _e(ue.UNAVAILABLE,"Connection failed."));break;default:Le(9055,{l_:e,streamId:c,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{Se(er,`RPC '${e}' ${c} completed.`)}}));const y=JSON.stringify(s);Se(er,`RPC '${e}' ${c} sending request:`,s),f.send(n,"POST",y,r,15)}))}T_(e,n,r){const s=$0(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=F2(),h=B2(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(d.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const y=a.join("");Se(er,`Creating RPC '${e}' stream ${s}: ${y}`,d);const _=c.createWebChannel(y,d);this.I_(_);let E=!1,T=!1;const C=new A8({Yo:I=>{T?Se(er,`Not sending because RPC '${e}' stream ${s} is closed:`,I):(E||(Se(er,`Opening RPC '${e}' stream ${s} transport.`),_.open(),E=!0),Se(er,`RPC '${e}' stream ${s} sending:`,I),_.send(I))},Zo:()=>_.close()}),R=(I,D,F)=>{I.listen(D,(V=>{try{F(V)}catch(B){setTimeout((()=>{throw B}),0)}}))};return R(_,Gh.EventType.OPEN,(()=>{T||(Se(er,`RPC '${e}' stream ${s} transport opened.`),C.o_())})),R(_,Gh.EventType.CLOSE,(()=>{T||(T=!0,Se(er,`RPC '${e}' stream ${s} transport closed`),C.a_(),this.E_(_))})),R(_,Gh.EventType.ERROR,(I=>{T||(T=!0,Zc(er,`RPC '${e}' stream ${s} transport errored. Name:`,I.name,"Message:",I.message),C.a_(new _e(ue.UNAVAILABLE,"The operation could not be completed")))})),R(_,Gh.EventType.MESSAGE,(I=>{if(!T){const D=I.data[0];wt(!!D,16349);const F=D,V=F?.error||F[0]?.error;if(V){Se(er,`RPC '${e}' stream ${s} received error:`,V);const B=V.status;let j=(function(P){const N=Rn[P];if(N!==void 0)return SN(N)})(B),G=V.message;j===void 0&&(j=ue.INTERNAL,G="Unknown error status: "+B+" with message "+V.message),T=!0,C.a_(new _e(j,G)),_.close()}else Se(er,`RPC '${e}' stream ${s} received:`,D),C.u_(D)}})),R(h,z2.STAT_EVENT,(I=>{I.stat===N0.PROXY?Se(er,`RPC '${e}' stream ${s} detected buffering proxy`):I.stat===N0.NOPROXY&&Se(er,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{C.__()}),0),C}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function $v(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xg(t){return new kj(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e,n,r=1e3,s=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&Se("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DA="PersistentStream";class VN{constructor(e,n,r,s,a,c,h,d){this.Mi=e,this.S_=r,this.b_=s,this.connection=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new LN(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ue.RESOURCE_EXHAUSTED?(fo(n.toString()),fo("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ue.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===n&&this.G_(r,s)}),(r=>{e((()=>{const s=new _e(ue.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Se(DA,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Se(DA,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class x8 extends VN{constructor(e,n,r,s,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,c),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=Mj(this.serializer,e),r=(function(a){if(!("targetChange"in a))return ze.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?ze.min():c.readTime?gs(c.readTime):ze.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=j0(this.serializer),n.addTarget=(function(a,c){let h;const d=c.target;if(h=L0(d)?{documents:Uj(a,d)}:{query:zj(a,d).ft},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=CN(a,c.resumeToken);const f=z0(a,c.expectedCount);f!==null&&(h.expectedCount=f)}else if(c.snapshotVersion.compareTo(ze.min())>0){h.readTime=Gm(a,c.snapshotVersion.toTimestamp());const f=z0(a,c.expectedCount);f!==null&&(h.expectedCount=f)}return h})(this.serializer,e);const r=Fj(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=j0(this.serializer),n.removeTarget=e,this.q_(n)}}class N8 extends VN{constructor(e,n,r,s,a,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,c),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return wt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,wt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){wt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=Vj(e.writeResults,e.commitTime),r=gs(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=j0(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>Lj(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P8{}class k8 extends P8{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new _e(ue.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,c])=>this.connection.Go(e,B0(n,r),s,a,c))).catch((a=>{throw a.name==="FirebaseError"?(a.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new _e(ue.UNKNOWN,a.toString())}))}Ho(e,n,r,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Ho(e,B0(n,r),s,c,h,a))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new _e(ue.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class O8{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(fo(n),this.aa=!1):Se("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wl="RemoteStore";class D8{constructor(e,n,r,s,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((c=>{r.enqueueAndForget((async()=>{Ol(this)&&(Se(wl,"Restarting streams for network reachability change."),await(async function(d){const f=je(d);f.Ea.add(4),await ef(f),f.Ra.set("Unknown"),f.Ea.delete(4),await Jg(f)})(this))}))})),this.Ra=new O8(r,s)}}async function Jg(t){if(Ol(t))for(const e of t.da)await e(!0)}async function ef(t){for(const e of t.da)await e(!1)}function UN(t,e){const n=je(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Nb(n)?xb(n):Eu(n).O_()&&Ib(n,e))}function Ab(t,e){const n=je(t),r=Eu(n);n.Ia.delete(e),r.O_()&&zN(n,e),n.Ia.size===0&&(r.O_()?r.L_():Ol(n)&&n.Ra.set("Unknown"))}function Ib(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ze.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Eu(t).Y_(e)}function zN(t,e){t.Va.Ue(e),Eu(t).Z_(e)}function xb(t){t.Va=new Ij({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Eu(t).start(),t.Ra.ua()}function Nb(t){return Ol(t)&&!Eu(t).x_()&&t.Ia.size>0}function Ol(t){return je(t).Ea.size===0}function BN(t){t.Va=void 0}async function M8(t){t.Ra.set("Online")}async function L8(t){t.Ia.forEach(((e,n)=>{Ib(t,e)}))}async function V8(t,e){BN(t),Nb(t)?(t.Ra.ha(e),xb(t)):t.Ra.set("Unknown")}async function U8(t,e,n){if(t.Ra.set("Online"),e instanceof wN&&e.state===2&&e.cause)try{await(async function(s,a){const c=a.cause;for(const h of a.targetIds)s.Ia.has(h)&&(await s.remoteSyncer.rejectListen(h,c),s.Ia.delete(h),s.Va.removeTarget(h))})(t,e)}catch(r){Se(wl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Km(t,r)}else if(e instanceof um?t.Va.Ze(e):e instanceof TN?t.Va.st(e):t.Va.tt(e),!n.isEqual(ze.min()))try{const r=await MN(t.localStore);n.compareTo(r)>=0&&await(function(a,c){const h=a.Va.Tt(c);return h.targetChanges.forEach(((d,f)=>{if(d.resumeToken.approximateByteSize()>0){const y=a.Ia.get(f);y&&a.Ia.set(f,y.withResumeToken(d.resumeToken,c))}})),h.targetMismatches.forEach(((d,f)=>{const y=a.Ia.get(d);if(!y)return;a.Ia.set(d,y.withResumeToken(Xn.EMPTY_BYTE_STRING,y.snapshotVersion)),zN(a,d);const _=new ra(y.target,d,f,y.sequenceNumber);Ib(a,_)})),a.remoteSyncer.applyRemoteEvent(h)})(t,n)}catch(r){Se(wl,"Failed to raise snapshot:",r),await Km(t,r)}}async function Km(t,e,n){if(!_u(e))throw e;t.Ea.add(1),await ef(t),t.Ra.set("Offline"),n||(n=()=>MN(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Se(wl,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Jg(t)}))}function FN(t,e){return e().catch((n=>Km(t,n,e)))}async function Zg(t){const e=je(t),n=_a(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:db;for(;z8(e);)try{const s=await E8(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,B8(e,s)}catch(s){await Km(e,s)}jN(e)&&HN(e)}function z8(t){return Ol(t)&&t.Ta.length<10}function B8(t,e){t.Ta.push(e);const n=_a(t);n.O_()&&n.X_&&n.ea(e.mutations)}function jN(t){return Ol(t)&&!_a(t).x_()&&t.Ta.length>0}function HN(t){_a(t).start()}async function F8(t){_a(t).ra()}async function j8(t){const e=_a(t);for(const n of t.Ta)e.ea(n.mutations)}async function H8(t,e,n){const r=t.Ta.shift(),s=Eb.from(r,e,n);await FN(t,(()=>t.remoteSyncer.applySuccessfulWrite(s))),await Zg(t)}async function $8(t,e){e&&_a(t).X_&&await(async function(r,s){if((function(c){return Cj(c)&&c!==ue.ABORTED})(s.code)){const a=r.Ta.shift();_a(r).B_(),await FN(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,s))),await Zg(r)}})(t,e),jN(t)&&HN(t)}async function MA(t,e){const n=je(t);n.asyncQueue.verifyOperationInProgress(),Se(wl,"RemoteStore received new credentials");const r=Ol(n);n.Ea.add(3),await ef(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Jg(n)}async function q8(t,e){const n=je(t);e?(n.Ea.delete(2),await Jg(n)):e||(n.Ea.add(2),await ef(n),n.Ra.set("Unknown"))}function Eu(t){return t.ma||(t.ma=(function(n,r,s){const a=je(n);return a.sa(),new x8(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)})(t.datastore,t.asyncQueue,{Xo:M8.bind(null,t),t_:L8.bind(null,t),r_:V8.bind(null,t),H_:U8.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),Nb(t)?xb(t):t.Ra.set("Unknown")):(await t.ma.stop(),BN(t))}))),t.ma}function _a(t){return t.fa||(t.fa=(function(n,r,s){const a=je(n);return a.sa(),new N8(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:F8.bind(null,t),r_:$8.bind(null,t),ta:j8.bind(null,t),na:H8.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Zg(t)):(await t.fa.stop(),t.Ta.length>0&&(Se(wl,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(e,n,r,s,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new la,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,a){const c=Date.now()+r,h=new Pb(e,n,c,s,a);return h.start(r),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _e(ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function kb(t,e){if(fo("AsyncQueue",`${e}: ${t}`),_u(t))return new _e(ue.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{static emptySet(e){return new Hc(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||xe.comparator(n.key,r.key):(n,r)=>xe.comparator(n.key,r.key),this.keyedMap=Wh(),this.sortedSet=new Pn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Hc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Hc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(){this.ga=new Pn(xe.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Le(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class ou{constructor(e,n,r,s,a,c,h,d,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=d,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,s,a){const c=[];return n.forEach((h=>{c.push({type:0,doc:h})})),new ou(e,n,Hc.emptySet(n),c,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G8{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class W8{constructor(){this.queries=VA(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=je(n),a=s.queries;s.queries=VA(),a.forEach(((c,h)=>{for(const d of h.Sa)d.onError(r)}))})(this,new _e(ue.ABORTED,"Firestore shutting down"))}}function VA(){return new kl((t=>cN(t)),Gg)}async function $N(t,e){const n=je(t);let r=3;const s=e.query;let a=n.queries.get(s);a?!a.ba()&&e.Da()&&(r=2):(a=new G8,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(s,!0);break;case 1:a.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(c){const h=kb(c,`Initialization of query '${Oc(e.query)}' failed`);return void e.onError(h)}n.queries.set(s,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&Ob(n)}async function qN(t,e){const n=je(t),r=e.query;let s=3;const a=n.queries.get(r);if(a){const c=a.Sa.indexOf(e);c>=0&&(a.Sa.splice(c,1),a.Sa.length===0?s=e.Da()?0:1:!a.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function K8(t,e){const n=je(t);let r=!1;for(const s of e){const a=s.query,c=n.queries.get(a);if(c){for(const h of c.Sa)h.Fa(s)&&(r=!0);c.wa=s}}r&&Ob(n)}function Y8(t,e,n){const r=je(t),s=r.queries.get(e);if(s)for(const a of s.Sa)a.onError(n);r.queries.delete(e)}function Ob(t){t.Ca.forEach((e=>{e.next()}))}var q0,UA;(UA=q0||(q0={})).Ma="default",UA.Cache="cache";class GN{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new ou(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ou.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==q0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(e){this.key=e}}class KN{constructor(e){this.key=e}}class Q8{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=rt(),this.mutatedKeys=rt(),this.eu=uN(e),this.tu=new Hc(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new LA,s=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,c=s,h=!1;const d=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,f=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((y,_)=>{const E=s.get(y),T=Wg(this.query,_)?_:null,C=!!E&&this.mutatedKeys.has(E.key),R=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let I=!1;E&&T?E.data.isEqual(T.data)?C!==R&&(r.track({type:3,doc:T}),I=!0):this.su(E,T)||(r.track({type:2,doc:T}),I=!0,(d&&this.eu(T,d)>0||f&&this.eu(T,f)<0)&&(h=!0)):!E&&T?(r.track({type:0,doc:T}),I=!0):E&&!T&&(r.track({type:1,doc:E}),I=!0,(d||f)&&(h=!0)),I&&(T?(c=c.add(T),a=R?a.add(y):a.delete(y)):(c=c.delete(y),a=a.delete(y)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),a=a.delete(y.key),r.track({type:1,doc:y})}return{tu:c,iu:r,Cs:h,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((y,_)=>(function(T,C){const R=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Le(20277,{Rt:I})}};return R(T)-R(C)})(y.type,_.type)||this.eu(y.doc,_.doc))),this.ou(r),s=s??!1;const h=n&&!s?this._u():[],d=this.Xa.size===0&&this.current&&!s?1:0,f=d!==this.Za;return this.Za=d,c.length!==0||f?{snapshot:new ou(this.query,e.tu,a,c,e.mutatedKeys,d===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new LA,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=rt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new KN(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new WN(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=rt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ou.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Db="SyncEngine";class X8{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class J8{constructor(e){this.key=e,this.hu=!1}}class Z8{constructor(e,n,r,s,a,c){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new kl((h=>cN(h)),Gg),this.Iu=new Map,this.Eu=new Set,this.du=new Pn(xe.comparator),this.Au=new Map,this.Ru=new Tb,this.Vu={},this.mu=new Map,this.fu=su.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function e7(t,e,n=!0){const r=eP(t);let s;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.lu()):s=await YN(r,e,n,!0),s}async function t7(t,e){const n=eP(t);await YN(n,e,!0,!1)}async function YN(t,e,n,r){const s=await b8(t.localStore,ms(e)),a=s.targetId,c=t.sharedClientState.addLocalQueryTarget(a,n);let h;return r&&(h=await n7(t,e,a,c==="current",s.resumeToken)),t.isPrimaryClient&&n&&UN(t.remoteStore,s),h}async function n7(t,e,n,r,s){t.pu=(_,E,T)=>(async function(R,I,D,F){let V=I.view.ru(D);V.Cs&&(V=await NA(R.localStore,I.query,!1).then((({documents:x})=>I.view.ru(x,V))));const B=F&&F.targetChanges.get(I.targetId),j=F&&F.targetMismatches.get(I.targetId)!=null,G=I.view.applyChanges(V,R.isPrimaryClient,B,j);return BA(R,I.targetId,G.au),G.snapshot})(t,_,E,T);const a=await NA(t.localStore,e,!0),c=new Q8(e,a.Qs),h=c.ru(a.documents),d=Zd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),f=c.applyChanges(h,t.isPrimaryClient,d);BA(t,n,f.au);const y=new X8(e,n,c);return t.Tu.set(e,y),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),f.snapshot}async function r7(t,e,n){const r=je(t),s=r.Tu.get(e),a=r.Iu.get(s.targetId);if(a.length>1)return r.Iu.set(s.targetId,a.filter((c=>!Gg(c,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await H0(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Ab(r.remoteStore,s.targetId),G0(r,s.targetId)})).catch(yu)):(G0(r,s.targetId),await H0(r.localStore,s.targetId,!0))}async function i7(t,e){const n=je(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Ab(n.remoteStore,r.targetId))}async function s7(t,e,n){const r=d7(t);try{const s=await(function(c,h){const d=je(c),f=Wt.now(),y=h.reduce(((T,C)=>T.add(C.key)),rt());let _,E;return d.persistence.runTransaction("Locally write mutations","readwrite",(T=>{let C=po(),R=rt();return d.Ns.getEntries(T,y).next((I=>{C=I,C.forEach(((D,F)=>{F.isValidDocument()||(R=R.add(D))}))})).next((()=>d.localDocuments.getOverlayedDocuments(T,C))).next((I=>{_=I;const D=[];for(const F of h){const V=Ej(F,_.get(F.key).overlayedDocument);V!=null&&D.push(new Ca(F.key,V,tN(V.value.mapValue),Oi.exists(!0)))}return d.mutationQueue.addMutationBatch(T,f,D,h)})).next((I=>{E=I;const D=I.applyToLocalDocumentSet(_,R);return d.documentOverlayCache.saveOverlays(T,I.batchId,D)}))})).then((()=>({batchId:E.batchId,changes:dN(_)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(c,h,d){let f=c.Vu[c.currentUser.toKey()];f||(f=new Pn(nt)),f=f.insert(h,d),c.Vu[c.currentUser.toKey()]=f})(r,s.batchId,n),await tf(r,s.changes),await Zg(r.remoteStore)}catch(s){const a=kb(s,"Failed to persist write");n.reject(a)}}async function QN(t,e){const n=je(t);try{const r=await _8(n.localStore,e);e.targetChanges.forEach(((s,a)=>{const c=n.Au.get(a);c&&(wt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?c.hu=!0:s.modifiedDocuments.size>0?wt(c.hu,14607):s.removedDocuments.size>0&&(wt(c.hu,42227),c.hu=!1))})),await tf(n,r,e)}catch(r){await yu(r)}}function zA(t,e,n){const r=je(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach(((a,c)=>{const h=c.view.va(e);h.snapshot&&s.push(h.snapshot)})),(function(c,h){const d=je(c);d.onlineState=h;let f=!1;d.queries.forEach(((y,_)=>{for(const E of _.Sa)E.va(h)&&(f=!0)})),f&&Ob(d)})(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function o7(t,e,n){const r=je(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),a=s&&s.key;if(a){let c=new Pn(xe.comparator);c=c.insert(a,rr.newNoDocument(a,ze.min()));const h=rt().add(a),d=new Qg(ze.min(),new Map,new Pn(nt),c,h);await QN(r,d),r.du=r.du.remove(a),r.Au.delete(e),Mb(r)}else await H0(r.localStore,e,!1).then((()=>G0(r,e,n))).catch(yu)}async function a7(t,e){const n=je(t),r=e.batch.batchId;try{const s=await y8(n.localStore,e);JN(n,r,null),XN(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await tf(n,s)}catch(s){await yu(s)}}async function l7(t,e,n){const r=je(t);try{const s=await(function(c,h){const d=je(c);return d.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let y;return d.mutationQueue.lookupMutationBatch(f,h).next((_=>(wt(_!==null,37113),y=_.keys(),d.mutationQueue.removeMutationBatch(f,_)))).next((()=>d.mutationQueue.performConsistencyCheck(f))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(f,y,h))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,y))).next((()=>d.localDocuments.getDocuments(f,y)))}))})(r.localStore,e);JN(r,e,n),XN(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await tf(r,s)}catch(s){await yu(s)}}function XN(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function JN(t,e,n){const r=je(t);let s=r.Vu[r.currentUser.toKey()];if(s){const a=s.get(e);a&&(n?a.reject(n):a.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function G0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||ZN(t,r)}))}function ZN(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Ab(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Mb(t))}function BA(t,e,n){for(const r of n)r instanceof WN?(t.Ru.addReference(r.key,e),c7(t,r)):r instanceof KN?(Se(Db,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||ZN(t,r.key)):Le(19791,{wu:r})}function c7(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Se(Db,"New document in limbo: "+n),t.Eu.add(r),Mb(t))}function Mb(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new xe(Ht.fromString(e)),r=t.fu.next();t.Au.set(r,new J8(n)),t.du=t.du.insert(n,r),UN(t.remoteStore,new ra(ms(yb(n.path)),r,"TargetPurposeLimboResolution",Hg.ce))}}async function tf(t,e,n){const r=je(t),s=[],a=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((h,d)=>{c.push(r.pu(d,e,n).then((f=>{if((f||n)&&r.isPrimaryClient){const y=f?!f.fromCache:n?.targetChanges.get(d.targetId)?.current;r.sharedClientState.updateQueryState(d.targetId,y?"current":"not-current")}if(f){s.push(f);const y=Cb.As(d.targetId,f);a.push(y)}})))})),await Promise.all(c),r.Pu.H_(s),await(async function(d,f){const y=je(d);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>he.forEach(f,(E=>he.forEach(E.Es,(T=>y.persistence.referenceDelegate.addReference(_,E.targetId,T))).next((()=>he.forEach(E.ds,(T=>y.persistence.referenceDelegate.removeReference(_,E.targetId,T)))))))))}catch(_){if(!_u(_))throw _;Se(Rb,"Failed to update sequence numbers: "+_)}for(const _ of f){const E=_.targetId;if(!_.fromCache){const T=y.Ms.get(E),C=T.snapshotVersion,R=T.withLastLimboFreeSnapshotVersion(C);y.Ms=y.Ms.insert(E,R)}}})(r.localStore,a))}async function u7(t,e){const n=je(t);if(!n.currentUser.isEqual(e)){Se(Db,"User change. New user:",e.toKey());const r=await DN(n.localStore,e);n.currentUser=e,(function(a,c){a.mu.forEach((h=>{h.forEach((d=>{d.reject(new _e(ue.CANCELLED,c))}))})),a.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await tf(n,r.Ls)}}function h7(t,e){const n=je(t),r=n.Au.get(e);if(r&&r.hu)return rt().add(r.key);{let s=rt();const a=n.Iu.get(e);if(!a)return s;for(const c of a){const h=n.Tu.get(c);s=s.unionWith(h.view.nu)}return s}}function eP(t){const e=je(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=QN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=h7.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=o7.bind(null,e),e.Pu.H_=K8.bind(null,e.eventManager),e.Pu.yu=Y8.bind(null,e.eventManager),e}function d7(t){const e=je(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=a7.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=l7.bind(null,e),e}class Ym{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Xg(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return g8(this.persistence,new f8,e.initialUser,this.serializer)}Cu(e){return new ON(wb.mi,this.serializer)}Du(e){return new T8}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ym.provider={build:()=>new Ym};class f7 extends Ym{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){wt(this.persistence.referenceDelegate instanceof Wm,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Jj(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Sr.withCacheSize(this.cacheSizeBytes):Sr.DEFAULT;return new ON((r=>Wm.mi(r,n)),this.serializer)}}class W0{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>zA(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=u7.bind(null,this.syncEngine),await q8(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new W8})()}createDatastore(e){const n=Xg(e.databaseInfo.databaseId),r=(function(a){return new I8(a)})(e.databaseInfo);return(function(a,c,h,d){return new k8(a,c,h,d)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,s,a,c,h){return new D8(r,s,a,c,h)})(this.localStore,this.datastore,e.asyncQueue,(n=>zA(this.syncEngine,n,0)),(function(){return OA.v()?new OA:new w8})())}createSyncEngine(e,n){return(function(s,a,c,h,d,f,y){const _=new Z8(s,a,c,h,d,f);return y&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=je(n);Se(wl,"RemoteStore shutting down."),r.Ea.add(5),await ef(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}W0.provider={build:()=>new W0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):fo("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va="FirestoreClient";class p7{constructor(e,n,r,s,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=nr.UNAUTHENTICATED,this.clientId=hb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async c=>{Se(va,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(Se(va,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new la;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=kb(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function qv(t,e){t.asyncQueue.verifyOperationInProgress(),Se(va,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async s=>{r.isEqual(s)||(await DN(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function FA(t,e){t.asyncQueue.verifyOperationInProgress();const n=await m7(t);Se(va,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>MA(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,s)=>MA(e.remoteStore,s))),t._onlineComponents=e}async function m7(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Se(va,"Using user provided OfflineComponentProvider");try{await qv(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(s){return s.name==="FirebaseError"?s.code===ue.FAILED_PRECONDITION||s.code===ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(n))throw n;Zc("Error using user provided cache. Falling back to memory cache: "+n),await qv(t,new Ym)}}else Se(va,"Using default OfflineComponentProvider"),await qv(t,new f7(void 0));return t._offlineComponents}async function nP(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Se(va,"Using user provided OnlineComponentProvider"),await FA(t,t._uninitializedComponentsProvider._online)):(Se(va,"Using default OnlineComponentProvider"),await FA(t,new W0))),t._onlineComponents}function g7(t){return nP(t).then((e=>e.syncEngine))}async function K0(t){const e=await nP(t),n=e.eventManager;return n.onListen=e7.bind(null,e.syncEngine),n.onUnlisten=r7.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=t7.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=i7.bind(null,e.syncEngine),n}function y7(t,e,n={}){const r=new la;return t.asyncQueue.enqueueAndForget((async()=>(function(a,c,h,d,f){const y=new tP({next:E=>{y.Nu(),c.enqueueAndForget((()=>qN(a,_))),E.fromCache&&d.source==="server"?f.reject(new _e(ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(E)},error:E=>f.reject(E)}),_=new GN(h,y,{includeMetadataChanges:!0,qa:!0});return $N(a,_)})(await K0(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rP(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jA=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iP="firestore.googleapis.com",HA=!0;class $A{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new _e(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=iP,this.ssl=HA}else this.host=e.host,this.ssl=e.ssl??HA;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=kN;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Qj)throw new _e(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}DF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=rP(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new _e(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new _e(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new _e(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ey{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $A({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _e(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new _e(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $A(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new wF;switch(r.type){case"firstParty":return new IF(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new _e(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=jA.get(n);r&&(Se("ComponentProvider","Removing Datastore"),jA.delete(n),r.terminate())})(this),Promise.resolve()}}function _7(t,e,n,r={}){t=ki(t,ey);const s=Ts(e),a=t._getSettings(),c={...a,emulatorOptions:t._getEmulatorOptions()},h=`${e}:${n}`;s&&(Dg(`https://${h}`),Mg("Firestore",!0)),a.host!==iP&&a.host!==h&&Zc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...a,host:h,ssl:s,emulatorOptions:r};if(!vs(d,c)&&(t._setSettings(d),r.mockUserToken)){let f,y;if(typeof r.mockUserToken=="string")f=r.mockUserToken,y=nr.MOCK_USER;else{f=XE(r.mockUserToken,t._app?.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new _e(ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new nr(_)}t._authCredentials=new CF(new H2(f,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ra(this.firestore,e,this._query)}}class mn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ua(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new mn(this.firestore,e,this._key)}toJSON(){return{type:mn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Xd(n,mn._jsonSchema))return new mn(e,r||null,new xe(Ht.fromString(n.referencePath)))}}mn._jsonSchemaVersion="firestore/documentReference/1.0",mn._jsonSchema={type:Nn("string",mn._jsonSchemaVersion),referencePath:Nn("string")};class ua extends Ra{constructor(e,n,r){super(e,n,yb(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new mn(this.firestore,null,new xe(e))}withConverter(e){return new ua(this.firestore,e,this._path)}}function gl(t,e,...n){if(t=kt(t),$2("collection","path",e),t instanceof ey){const r=Ht.fromString(e,...n);return rA(r),new ua(t,null,r)}{if(!(t instanceof mn||t instanceof ua))throw new _e(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ht.fromString(e,...n));return rA(r),new ua(t.firestore,null,r)}}function oi(t,e,...n){if(t=kt(t),arguments.length===1&&(e=hb.newId()),$2("doc","path",e),t instanceof ey){const r=Ht.fromString(e,...n);return nA(r),new mn(t,null,new xe(r))}{if(!(t instanceof mn||t instanceof ua))throw new _e(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ht.fromString(e,...n));return nA(r),new mn(t.firestore,t instanceof ua?t.converter:null,new xe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qA="AsyncQueue";class GA{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new LN(this,"async_queue_retry"),this._c=()=>{const r=$v();r&&Se(qA,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=$v();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=$v();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new la;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!_u(e))throw e;Se(qA,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,fo("INTERNAL UNHANDLED ERROR: ",WA(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=Pb.createAndSchedule(this,e,n,r,(a=>this.hc(a)));return this.tc.push(s),s}uc(){this.nc&&Le(47125,{Pc:WA(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function WA(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KA(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const a of r)if(a in s&&typeof s[a]=="function")return!0;return!1})(t,["next","error","complete"])}class Cl extends ey{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new GA,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new GA(e),this._firestoreClient=void 0,await e}}}function v7(t,e){const n=typeof t=="object"?t:Ug(),r=typeof t=="string"?t:jm,s=Gd(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const a=QE("firestore");a&&_7(s,...a)}return s}function Lb(t){if(t._terminated)throw new _e(ue.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||E7(t),t._firestoreClient}function E7(t){const e=t._freezeSettings(),n=(function(s,a,c,h){return new qF(s,a,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,rP(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new p7(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(s){const a=s?._online.build();return{_offline:s?._offline.build(a),_online:a}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ai(Xn.fromBase64String(e))}catch(n){throw new _e(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ai(Xn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ai._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Xd(e,ai._jsonSchema))return ai.fromBase64String(e.bytes)}}ai._jsonSchemaVersion="firestore/bytes/1.0",ai._jsonSchema={type:Nn("string",ai._jsonSchemaVersion),bytes:Nn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new _e(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new _e(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new _e(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return nt(this._lat,e._lat)||nt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ys._jsonSchemaVersion}}static fromJSON(e){if(Xd(e,ys._jsonSchema))return new ys(e.latitude,e.longitude)}}ys._jsonSchemaVersion="firestore/geoPoint/1.0",ys._jsonSchema={type:Nn("string",ys._jsonSchemaVersion),latitude:Nn("number"),longitude:Nn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==s[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:_s._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Xd(e,_s._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new _s(e.vectorValues);throw new _e(ue.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}_s._jsonSchemaVersion="firestore/vectorValue/1.0",_s._jsonSchema={type:Nn("string",_s._jsonSchemaVersion),vectorValues:Nn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b7=/^__.*__$/;class S7{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ca(e,this.data,this.fieldMask,n,this.fieldTransforms):new Jd(e,this.data,n,this.fieldTransforms)}}class sP{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ca(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function oP(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Le(40011,{Ac:t})}}class ny{constructor(e,n,r,s,a,c){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new ny({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Qm(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(oP(this.Ac)&&b7.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class T7{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Xg(e)}Cc(e,n,r,s=!1){return new ny({Ac:e,methodName:n,Dc:r,path:Qn.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ry(t){const e=t._freezeSettings(),n=Xg(t._databaseId);return new T7(t._databaseId,!!e.ignoreUndefinedProperties,n)}function aP(t,e,n,r,s,a={}){const c=t.Cc(a.merge||a.mergeFields?2:0,e,n,s);Bb("Data must be an object, but it was:",c,r);const h=cP(r,c);let d,f;if(a.merge)d=new jr(c.fieldMask),f=c.fieldTransforms;else if(a.mergeFields){const y=[];for(const _ of a.mergeFields){const E=Y0(e,_,n);if(!c.contains(E))throw new _e(ue.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);hP(y,E)||y.push(E)}d=new jr(y),f=c.fieldTransforms.filter((_=>d.covers(_.field)))}else d=null,f=c.fieldTransforms;return new S7(new Tr(h),d,f)}class iy extends bu{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof iy}}function lP(t,e,n){return new ny({Ac:3,Dc:e.settings.Dc,methodName:t._methodName,fc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Vb extends bu{_toFieldTransform(e){return new vb(e.path,new Ad)}isEqual(e){return e instanceof Vb}}class Ub extends bu{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=lP(this,e,!0),r=this.vc.map((a=>Dl(a,n))),s=new ru(r);return new vb(e.path,s)}isEqual(e){return e instanceof Ub&&vs(this.vc,e.vc)}}class zb extends bu{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=lP(this,e,!0),r=this.vc.map((a=>Dl(a,n))),s=new iu(r);return new vb(e.path,s)}isEqual(e){return e instanceof zb&&vs(this.vc,e.vc)}}function w7(t,e,n,r){const s=t.Cc(1,e,n);Bb("Data must be an object, but it was:",s,r);const a=[],c=Tr.empty();wa(r,((d,f)=>{const y=Fb(e,d,n);f=kt(f);const _=s.yc(y);if(f instanceof iy)a.push(y);else{const E=Dl(f,_);E!=null&&(a.push(y),c.set(y,E))}}));const h=new jr(a);return new sP(c,h,s.fieldTransforms)}function C7(t,e,n,r,s,a){const c=t.Cc(1,e,n),h=[Y0(e,r,n)],d=[s];if(a.length%2!=0)throw new _e(ue.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<a.length;E+=2)h.push(Y0(e,a[E])),d.push(a[E+1]);const f=[],y=Tr.empty();for(let E=h.length-1;E>=0;--E)if(!hP(f,h[E])){const T=h[E];let C=d[E];C=kt(C);const R=c.yc(T);if(C instanceof iy)f.push(T);else{const I=Dl(C,R);I!=null&&(f.push(T),y.set(T,I))}}const _=new jr(f);return new sP(y,_,c.fieldTransforms)}function R7(t,e,n,r=!1){return Dl(n,t.Cc(r?4:3,e))}function Dl(t,e){if(uP(t=kt(t)))return Bb("Unsupported field value:",e,t),cP(t,e);if(t instanceof bu)return(function(r,s){if(!oP(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(s);a&&s.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,s){const a=[];let c=0;for(const h of r){let d=Dl(h,s.wc(c));d==null&&(d={nullValue:"NULL_VALUE"}),a.push(d),c++}return{arrayValue:{values:a}}})(t,e)}return(function(r,s){if((r=kt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return pj(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Wt.fromDate(r);return{timestampValue:Gm(s.serializer,a)}}if(r instanceof Wt){const a=new Wt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Gm(s.serializer,a)}}if(r instanceof ys)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ai)return{bytesValue:CN(s.serializer,r._byteString)};if(r instanceof mn){const a=s.databaseId,c=r.firestore._databaseId;if(!c.isEqual(a))throw s.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Sb(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof _s)return(function(c,h){return{mapValue:{fields:{[Z2]:{stringValue:eN},[Hm]:{arrayValue:{values:c.toArray().map((f=>{if(typeof f!="number")throw h.Sc("VectorValues must only contain numeric values.");return _b(h.serializer,f)}))}}}}}})(r,s);throw s.Sc(`Unsupported field value: ${jg(r)}`)})(t,e)}function cP(t,e){const n={};return W2(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):wa(t,((r,s)=>{const a=Dl(s,e.mc(r));a!=null&&(n[r]=a)})),{mapValue:{fields:n}}}function uP(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Wt||t instanceof ys||t instanceof ai||t instanceof mn||t instanceof bu||t instanceof _s)}function Bb(t,e,n){if(!uP(n)||!q2(n)){const r=jg(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Y0(t,e,n){if((e=kt(e))instanceof ty)return e._internalPath;if(typeof e=="string")return Fb(t,e);throw Qm("Field path arguments must be of type string or ",t,!1,void 0,n)}const A7=new RegExp("[~\\*/\\[\\]]");function Fb(t,e,n){if(e.search(A7)>=0)throw Qm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ty(...e.split("."))._internalPath}catch{throw Qm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Qm(t,e,n,r,s){const a=r&&!r.isEmpty(),c=s!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(a||c)&&(d+=" (found",a&&(d+=` in field ${r}`),c&&(d+=` in document ${s}`),d+=")"),new _e(ue.INVALID_ARGUMENT,h+t+d)}function hP(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(e,n,r,s,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new mn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new I7(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(sy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class I7 extends dP{data(){return super.data()}}function sy(t,e){return typeof e=="string"?Fb(t,e):e instanceof ty?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fP(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new _e(ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class jb{}class pP extends jb{}function Xm(t,e,...n){let r=[];e instanceof jb&&r.push(e),r=r.concat(n),(function(a){const c=a.filter((d=>d instanceof Hb)).length,h=a.filter((d=>d instanceof oy)).length;if(c>1||c>0&&h>0)throw new _e(ue.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const s of r)t=s._apply(t);return t}class oy extends pP{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new oy(e,n,r)}_apply(e){const n=this._parse(e);return mP(e._query,n),new Ra(e.firestore,e.converter,V0(e._query,n))}_parse(e){const n=ry(e.firestore);return(function(a,c,h,d,f,y,_){let E;if(f.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new _e(ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){QA(_,y);const C=[];for(const R of _)C.push(YA(d,a,R));E={arrayValue:{values:C}}}else E=YA(d,a,_)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||QA(_,y),E=R7(h,c,_,y==="in"||y==="not-in");return xn.create(f,y,E)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function hm(t,e,n){const r=e,s=sy("where",t);return oy._create(s,r,n)}class Hb extends jb{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Hb(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Mi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(s,a){let c=s;const h=a.getFlattenedFilters();for(const d of h)mP(c,d),c=V0(c,d)})(e._query,n),new Ra(e.firestore,e.converter,V0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class $b extends pP{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new $b(e,n)}_apply(e){const n=(function(s,a,c){if(s.startAt!==null)throw new _e(ue.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new _e(ue.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Rd(a,c)})(e._query,this._field,this._direction);return new Ra(e.firestore,e.converter,(function(s,a){const c=s.explicitOrderBy.concat([a]);return new vu(s.path,s.collectionGroup,c,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)})(e._query,n))}}function x7(t,e="asc"){const n=e,r=sy("orderBy",t);return $b._create(r,n)}function YA(t,e,n){if(typeof(n=kt(n))=="string"){if(n==="")throw new _e(ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!lN(e)&&n.indexOf("/")!==-1)throw new _e(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ht.fromString(n));if(!xe.isDocumentKey(r))throw new _e(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return hA(t,new xe(r))}if(n instanceof mn)return hA(t,n._key);throw new _e(ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${jg(n)}.`)}function QA(t,e){if(!Array.isArray(t)||t.length===0)throw new _e(ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function mP(t,e){const n=(function(s,a){for(const c of s)for(const h of c.getFlattenedFilters())if(a.indexOf(h.op)>=0)return h.op;return null})(t.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new _e(ue.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new _e(ue.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class N7{convertValue(e,n="none"){switch(ya(e)){case 0:return null;case 1:return e.booleanValue;case 2:return fn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ga(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Le(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return wa(e,((s,a)=>{r[s]=this.convertValue(a,n)})),r}convertVectorValue(e){const n=e.fields?.[Hm].arrayValue?.values?.map((r=>fn(r.doubleValue)));return new _s(n)}convertGeoPoint(e){return new ys(fn(e.latitude),fn(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=qg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Td(e));default:return null}}convertTimestamp(e){const n=ma(e);return new Wt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ht.fromString(e);wt(PN(r),9688,{name:e});const s=new wd(r.get(1),r.get(3)),a=new xe(r.popFirst(5));return s.isEqual(n)||fo(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gP(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Yh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class yl extends dP{constructor(e,n,r,s,a,c){super(e,n,r,s,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new dm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(sy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new _e(ue.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=yl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}yl._jsonSchemaVersion="firestore/documentSnapshot/1.0",yl._jsonSchema={type:Nn("string",yl._jsonSchemaVersion),bundleSource:Nn("string","DocumentSnapshot"),bundleName:Nn("string"),bundle:Nn("string")};class dm extends yl{data(e={}){return super.data(e)}}class _l{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Yh(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new dm(this._firestore,this._userDataWriter,r.key,r,new Yh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new _e(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(s,a){if(s._snapshot.oldDocs.isEmpty()){let c=0;return s._snapshot.docChanges.map((h=>{const d=new dm(s._firestore,s._userDataWriter,h.doc.key,h.doc,new Yh(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:c++}}))}{let c=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((h=>a||h.type!==3)).map((h=>{const d=new dm(s._firestore,s._userDataWriter,h.doc.key,h.doc,new Yh(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);let f=-1,y=-1;return h.type!==0&&(f=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),y=c.indexOf(h.doc.key)),{type:P7(h.type),doc:d,oldIndex:f,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new _e(ue.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=_l._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=hb.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach((a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),s.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function P7(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Le(61501,{type:t})}}_l._jsonSchemaVersion="firestore/querySnapshot/1.0",_l._jsonSchema={type:Nn("string",_l._jsonSchemaVersion),bundleSource:Nn("string","QuerySnapshot"),bundleName:Nn("string"),bundle:Nn("string")};class qb extends N7{constructor(e){super(),this.firestore=e}convertBytes(e){return new ai(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new mn(this.firestore,null,n)}}function XA(t){t=ki(t,Ra);const e=ki(t.firestore,Cl),n=Lb(e),r=new qb(e);return fP(t._query),y7(n,t._query).then((s=>new _l(e,r,t,s)))}function JA(t,e,n){t=ki(t,mn);const r=ki(t.firestore,Cl),s=gP(t.converter,e,n);return Gb(r,[aP(ry(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Oi.none())])}function Jo(t,e,n,...r){t=ki(t,mn);const s=ki(t.firestore,Cl),a=ry(s);let c;return c=typeof(e=kt(e))=="string"||e instanceof ty?C7(a,"updateDoc",t._key,e,n,r):w7(a,"updateDoc",t._key,e),Gb(s,[c.toMutation(t._key,Oi.exists(!0))])}function Q0(t,e){const n=ki(t.firestore,Cl),r=oi(t),s=gP(t.converter,e);return Gb(n,[aP(ry(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Oi.exists(!1))]).then((()=>r))}function ld(t,...e){t=kt(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||KA(e[r])||(n=e[r++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(KA(e[r])){const d=e[r];e[r]=d.next?.bind(d),e[r+1]=d.error?.bind(d),e[r+2]=d.complete?.bind(d)}let a,c,h;if(t instanceof mn)c=ki(t.firestore,Cl),h=yb(t._key.path),a={next:d=>{e[r]&&e[r](k7(c,t,d))},error:e[r+1],complete:e[r+2]};else{const d=ki(t,Ra);c=ki(d.firestore,Cl),h=d._query;const f=new qb(c);a={next:y=>{e[r]&&e[r](new _l(c,f,d,y))},error:e[r+1],complete:e[r+2]},fP(t._query)}return(function(f,y,_,E){const T=new tP(E),C=new GN(y,T,_);return f.asyncQueue.enqueueAndForget((async()=>$N(await K0(f),C))),()=>{T.Nu(),f.asyncQueue.enqueueAndForget((async()=>qN(await K0(f),C)))}})(Lb(c),h,s,a)}function Gb(t,e){return(function(r,s){const a=new la;return r.asyncQueue.enqueueAndForget((async()=>s7(await g7(r),s,a))),a.promise})(Lb(t),e)}function k7(t,e,n){const r=n.docs.get(e._key),s=new qb(t);return new yl(t,s,e._key,r,new Yh(n.hasPendingWrites,n.fromCache),e.converter)}function Lc(){return new Vb("serverTimestamp")}function O7(...t){return new Ub("arrayUnion",t)}function Gp(...t){return new zb("arrayRemove",t)}(function(e,n=!0){(function(s){gu=s})(Ta),fa(new co("firestore",((r,{instanceIdentifier:s,options:a})=>{const c=r.getProvider("app").getImmediate(),h=new Cl(new RF(r.getProvider("auth-internal")),new xF(c,r.getProvider("app-check-internal")),(function(f,y){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new _e(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wd(f.options.projectId,y)})(c,s),c);return a={useFetchStreams:n,...a},h._setSettings(a),h}),"PUBLIC").setMultipleInstances(!0)),ui(JR,ZR,e),ui(JR,ZR,"esm2020")})();var ZA={};const eI="@firebase/database",tI="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yP="";function D7(t){yP=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M7{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),jn(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:vd(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L7{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Cs(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _P=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new M7(e)}}catch{}return new L7},pl=_P("localStorage"),V7=_P("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $c=new Vg("@firebase/database"),U7=(function(){let t=1;return function(){return t++}})(),vP=function(t){const e=KU(t),n=new $U;n.update(e);const r=n.digest();return YE.encodeByteArray(r)},nf=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=nf.apply(null,r):typeof r=="object"?e+=jn(r):e+=r,e+=" "}return e};let cd=null,nI=!0;const z7=function(t,e){ge(!0,"Can't turn on custom loggers persistently."),$c.logLevel=Ze.VERBOSE,cd=$c.log.bind($c)},Yn=function(...t){if(nI===!0&&(nI=!1,cd===null&&V7.get("logging_enabled")===!0&&z7()),cd){const e=nf.apply(null,t);cd(e)}},rf=function(t){return function(...e){Yn(t,...e)}},X0=function(...t){const e="FIREBASE INTERNAL ERROR: "+nf(...t);$c.error(e)},mo=function(...t){const e=`FIREBASE FATAL ERROR: ${nf(...t)}`;throw $c.error(e),new Error(e)},Ir=function(...t){const e="FIREBASE WARNING: "+nf(...t);$c.warn(e)},B7=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Ir("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},ay=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},F7=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},au="[MIN_NAME]",Rl="[MAX_NAME]",Ml=function(t,e){if(t===e)return 0;if(t===au||e===Rl)return-1;if(e===au||t===Rl)return 1;{const n=rI(t),r=rI(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},j7=function(t,e){return t===e?0:t<e?-1:1},Dh=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+jn(e))},Wb=function(t){if(typeof t!="object"||t===null)return jn(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=jn(e[r]),n+=":",n+=Wb(t[e[r]]);return n+="}",n},EP=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let s=0;s<n;s+=e)s+e>n?r.push(t.substring(s,n)):r.push(t.substring(s,s+e));return r};function or(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const bP=function(t){ge(!ay(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let s,a,c,h,d;t===0?(a=0,c=0,s=1/t===-1/0?1:0):(s=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(h=Math.min(Math.floor(Math.log(t)/Math.LN2),r),a=h+r,c=Math.round(t*Math.pow(2,n-h)-Math.pow(2,n))):(a=0,c=Math.round(t/Math.pow(2,1-r-n))));const f=[];for(d=n;d;d-=1)f.push(c%2?1:0),c=Math.floor(c/2);for(d=e;d;d-=1)f.push(a%2?1:0),a=Math.floor(a/2);f.push(s?1:0),f.reverse();const y=f.join("");let _="";for(d=0;d<64;d+=8){let E=parseInt(y.substr(d,8),2).toString(16);E.length===1&&(E="0"+E),_=_+E}return _.toLowerCase()},H7=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},$7=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function q7(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const G7=new RegExp("^-?(0*)\\d{1,10}$"),W7=-2147483648,K7=2147483647,rI=function(t){if(G7.test(t)){const e=Number(t);if(e>=W7&&e<=K7)return e}return null},Su=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Ir("Exception was thrown by user callback.",n),e},Math.floor(0))}},Y7=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ud=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q7{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,hr(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.appCheckProvider?.get().then(n=>n.addTokenListener(e))}notifyForInvalidToken(){Ir(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X7{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Yn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ir(e)}}class fm{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}fm.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kb="5",SP="v",TP="s",wP="r",CP="f",RP=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,AP="ls",IP="p",J0="ac",xP="websocket",NP="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{constructor(e,n,r,s,a=!1,c="",h=!1,d=!1,f=null){this.secure=n,this.namespace=r,this.webSocketOnly=s,this.nodeAdmin=a,this.persistenceKey=c,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=d,this.emulatorOptions=f,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=pl.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&pl.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function J7(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function kP(t,e,n){ge(typeof e=="string","typeof type must == string"),ge(typeof n=="object","typeof params must == object");let r;if(e===xP)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===NP)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);J7(t)&&(n.ns=t.namespace);const s=[];return or(n,(a,c)=>{s.push(a+"="+c)}),r+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z7{constructor(){this.counters_={}}incrementCounter(e,n=1){Cs(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return TU(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gv={},Wv={};function Yb(t){const e=t.toString();return Gv[e]||(Gv[e]=new Z7),Gv[e]}function eH(t,e){const n=t.toString();return Wv[n]||(Wv[n]=e()),Wv[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tH{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<r.length;++s)r[s]&&Su(()=>{this.onMessage_(r[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI="start",nH="close",rH="pLPCommand",iH="pRTLPCB",OP="id",DP="pw",MP="ser",sH="cb",oH="seg",aH="ts",lH="d",cH="dframe",LP=1870,VP=30,uH=LP-VP,hH=25e3,dH=3e4;class Vc{constructor(e,n,r,s,a,c,h){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=s,this.authToken=a,this.transportSessionId=c,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=rf(e),this.stats_=Yb(n),this.urlFn=d=>(this.appCheckToken&&(d[J0]=this.appCheckToken),kP(n,NP,d))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new tH(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(dH)),F7(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Qb((...a)=>{const[c,h,d,f,y]=a;if(this.incrementIncomingBytes_(a),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,c===iI)this.id=h,this.password=d;else if(c===nH)h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+c)},(...a)=>{const[c,h]=a;this.incrementIncomingBytes_(a),this.myPacketOrderer.handleResponse(c,h)},()=>{this.onClosed_()},this.urlFn);const r={};r[iI]="t",r[MP]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[sH]=this.scriptTagHolder.uniqueCallbackIdentifier),r[SP]=Kb,this.transportSessionId&&(r[TP]=this.transportSessionId),this.lastSessionId&&(r[AP]=this.lastSessionId),this.applicationId&&(r[IP]=this.applicationId),this.appCheckToken&&(r[J0]=this.appCheckToken),typeof location<"u"&&location.hostname&&RP.test(location.hostname)&&(r[wP]=CP);const s=this.urlFn(r);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Vc.forceAllow_=!0}static forceDisallow(){Vc.forceDisallow_=!0}static isAvailable(){return Vc.forceAllow_?!0:!Vc.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!H7()&&!$7()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=jn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=qx(n),s=EP(r,uH);for(let a=0;a<s.length;a++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[a]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[cH]="t",r[OP]=e,r[DP]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=jn(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Qb{constructor(e,n,r,s){this.onDisconnect=r,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=U7(),window[rH+this.uniqueCallbackIdentifier]=e,window[iH+this.uniqueCallbackIdentifier]=n,this.myIFrame=Qb.createIFrame_();let a="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(a='<script>document.domain="'+document.domain+'";<\/script>');const c="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(h){Yn("frame writing exception"),h.stack&&Yn(h.stack),Yn(h)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Yn("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[OP]=this.myID,e[DP]=this.myPW,e[MP]=this.currentSerial;let n=this.urlFn(e),r="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+VP+r.length<=LP;){const c=this.pendingSegs.shift();r=r+"&"+oH+s+"="+c.seg+"&"+aH+s+"="+c.ts+"&"+lH+s+"="+c.d,s++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(r,Math.floor(hH)),a=()=>{clearTimeout(s),r()};this.addTag(e,a)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const s=r.readyState;(!s||s==="loaded"||s==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Yn("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fH=16384,pH=45e3;let Jm=null;typeof MozWebSocket<"u"?Jm=MozWebSocket:typeof WebSocket<"u"&&(Jm=WebSocket);class Ii{constructor(e,n,r,s,a,c,h){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=rf(this.connId),this.stats_=Yb(n),this.connURL=Ii.connectionURL_(n,c,h,s,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,s,a){const c={};return c[SP]=Kb,typeof location<"u"&&location.hostname&&RP.test(location.hostname)&&(c[wP]=CP),n&&(c[TP]=n),r&&(c[AP]=r),s&&(c[J0]=s),a&&(c[IP]=a),kP(e,xP,c)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,pl.set("previous_websocket_failure",!0);try{let r;MU(),this.mySock=new Jm(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){Ii.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Jm!==null&&!Ii.forceDisallow_}static previouslyFailed(){return pl.isInMemoryStorage||pl.get("previous_websocket_failure")===!0}markConnectionHealthy(){pl.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=vd(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(ge(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=jn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=EP(n,fH);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(pH))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Ii.responsesRequiredToBeHealthy=2;Ii.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{static get ALL_TRANSPORTS(){return[Vc,Ii]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=Ii&&Ii.isAvailable();let r=n&&!Ii.previouslyFailed();if(e.webSocketOnly&&(n||Ir("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Ii];else{const s=this.transports_=[];for(const a of Id.ALL_TRANSPORTS)a&&a.isAvailable()&&s.push(a);Id.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Id.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mH=6e4,gH=5e3,yH=10*1024,_H=100*1024,Kv="t",sI="d",vH="s",oI="r",EH="e",aI="o",lI="a",cI="n",uI="p",bH="h";class SH{constructor(e,n,r,s,a,c,h,d,f,y){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=s,this.authToken_=a,this.onMessage_=c,this.onReady_=h,this.onDisconnect_=d,this.onKill_=f,this.lastSessionId=y,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=rf("c:"+this.id+":"),this.transportManager_=new Id(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=ud(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>_H?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>yH?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Kv in e){const n=e[Kv];n===lI?this.upgradeIfSecondaryHealthy_():n===oI?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===aI&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Dh("t",e),r=Dh("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:uI,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:lI,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:cI,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Dh("t",e),r=Dh("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Dh(Kv,e);if(sI in e){const r=e[sI];if(n===bH){const s={...r};this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===cI){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===vH?this.onConnectionShutdown_(r):n===oI?this.onReset_(r):n===EH?X0("Server Error: "+r):n===aI?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):X0("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Kb!==r&&Ir("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),ud(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(mH))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ud(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(gH))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:uI,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(pl.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{put(e,n,r,s){}merge(e,n,r,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zP{constructor(e){this.allowedEvents_=e,this.listeners_={},ge(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let s=0;s<r.length;s++)r[s].callback.apply(r[s].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const s=this.getInitialEvent(e);s&&n.apply(r,s)}off(e,n,r){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let a=0;a<s.length;a++)if(s[a].callback===n&&(!r||r===s[a].context)){s.splice(a,1);return}}validateEventType_(e){ge(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm extends zP{static getInstance(){return new Zm}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!JE()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return ge(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI=32,dI=768;class Ot{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[r]=this.pieces_[s],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function vt(){return new Ot("")}function We(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Ea(t){return t.pieces_.length-t.pieceNum_}function jt(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Ot(t.pieces_,e)}function Xb(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function TH(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function xd(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function BP(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Ot(e,0)}function pn(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Ot)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let s=0;s<r.length;s++)r[s].length>0&&n.push(r[s])}return new Ot(n,0)}function Ke(t){return t.pieceNum_>=t.pieces_.length}function wr(t,e){const n=We(t),r=We(e);if(n===null)return e;if(n===r)return wr(jt(t),jt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function wH(t,e){const n=xd(t,0),r=xd(e,0);for(let s=0;s<n.length&&s<r.length;s++){const a=Ml(n[s],r[s]);if(a!==0)return a}return n.length===r.length?0:n.length<r.length?-1:1}function Jb(t,e){if(Ea(t)!==Ea(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function ci(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Ea(t)>Ea(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class CH{constructor(e,n){this.errorPrefix_=n,this.parts_=xd(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Lg(this.parts_[r]);FP(this)}}function RH(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Lg(e),FP(t)}function AH(t){const e=t.parts_.pop();t.byteLength_-=Lg(e),t.parts_.length>0&&(t.byteLength_-=1)}function FP(t){if(t.byteLength_>dI)throw new Error(t.errorPrefix_+"has a key path longer than "+dI+" bytes ("+t.byteLength_+").");if(t.parts_.length>hI)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+hI+") or object contains a cycle "+cl(t))}function cl(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb extends zP{static getInstance(){return new Zb}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return ge(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mh=1e3,IH=300*1e3,fI=30*1e3,xH=1.3,NH=3e4,PH="server_kill",pI=3;class io extends UP{constructor(e,n,r,s,a,c,h,d){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=a,this.authTokenProvider_=c,this.appCheckTokenProvider_=h,this.authOverride_=d,this.id=io.nextPersistentConnectionId_++,this.log_=rf("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Mh,this.maxReconnectDelay_=IH,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,d)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Zb.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Zm.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const s=++this.requestNumber_,a={r:s,a:e,b:n};this.log_(jn(a)),ge(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const n=new Xs,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:c=>{const h=c.d;c.s==="ok"?n.resolve(h):n.reject(h)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const a=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(a),n.promise}listen(e,n,r,s){this.initConnection_();const a=e._queryIdentifier,c=e._path.toString();this.log_("Listen called for "+c+" "+a),this.listens.has(c)||this.listens.set(c,new Map),ge(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ge(!this.listens.get(c).has(a),"listen() called twice for same path/queryId.");const h={onComplete:s,hashFn:n,query:e,tag:r};this.listens.get(c).set(a,h),this.connected_&&this.sendListen_(h)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+r+" for "+s);const a={p:r},c="q";e.tag&&(a.q=n._queryObject,a.t=e.tag),a.h=e.hashFn(),this.sendRequest(c,a,h=>{const d=h.d,f=h.s;io.warnOnListenWarnings_(d,n),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",h),f!=="ok"&&this.removeListen_(r,s),e.onComplete&&e.onComplete(f,d))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Cs(e,"w")){const r=Qc(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',a=n._path.toString();Ir(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${a} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||HU(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=fI)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=jU(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,s=>{const a=s.s,c=s.d||"error";this.authToken_===e&&(a==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(a,c))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),ge(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,n)}sendUnlisten_(e,n,r,s){this.log_("Unlisten on "+e+" for "+n);const a={p:e},c="n";s&&(a.q=r,a.t=s),this.sendRequest(c,a)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,s){const a={p:n,d:r};this.log_("onDisconnect "+e,a),this.sendRequest(e,a,c=>{s&&setTimeout(()=>{s(c.s,c.d)},Math.floor(0))})}put(e,n,r,s){this.putInternal("p",e,n,r,s)}merge(e,n,r,s){this.putInternal("m",e,n,r,s)}putInternal(e,n,r,s,a){this.initConnection_();const c={p:n,d:r};a!==void 0&&(c.h=a),this.outstandingPuts_.push({action:e,request:c,onComplete:s}),this.outstandingPutCount_++;const h=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(h):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,a=>{this.log_(n+" response",a),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(a.s,a.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const a=r.d;this.log_("reportStats","Error sending stats: "+a)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+jn(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):X0("Unrecognized action received from server: "+jn(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){ge(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Mh,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Mh,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>NH&&(this.reconnectDelay_=Mh),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*xH)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+io.nextConnectionId_++,a=this.lastSessionId;let c=!1,h=null;const d=function(){h?h.close():(c=!0,r())},f=function(_){ge(h,"sendRequest call when we're not connected not allowed."),h.sendRequest(_)};this.realtime_={close:d,sendRequest:f};const y=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[_,E]=await Promise.all([this.authTokenProvider_.getToken(y),this.appCheckTokenProvider_.getToken(y)]);c?Yn("getToken() completed but was canceled"):(Yn("getToken() completed. Creating connection."),this.authToken_=_&&_.accessToken,this.appCheckToken_=E&&E.token,h=new SH(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,T=>{Ir(T+" ("+this.repoInfo_.toString()+")"),this.interrupt(PH)},a))}catch(_){this.log_("Failed to get token: "+_),c||(this.repoInfo_.nodeAdmin&&Ir(_),d())}}}interrupt(e){Yn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Yn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Pm(this.interruptReasons_)&&(this.reconnectDelay_=Mh,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(a=>Wb(a)).join("$"):r="default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,n){const r=new Ot(e).toString();let s;if(this.listens.has(r)){const a=this.listens.get(r);s=a.get(n),a.delete(n),a.size===0&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,n){Yn("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=pI&&(this.reconnectDelay_=fI,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Yn("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=pI&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+yP.replace(/\./g,"-")]=1,JE()?e["framework.cordova"]=1:Qx()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Zm.getInstance().currentlyOnline();return Pm(this.interruptReasons_)&&e}}io.nextPersistentConnectionId_=0;io.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Ye(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new Ye(au,e),s=new Ye(au,n);return this.compare(r,s)!==0}minPost(){return Ye.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wp;class jP extends ly{static get __EMPTY_NODE(){return Wp}static set __EMPTY_NODE(e){Wp=e}compare(e,n){return Ml(e.name,n.name)}isDefinedOn(e){throw fu("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Ye.MIN}maxPost(){return new Ye(Rl,Wp)}makePost(e,n){return ge(typeof e=="string","KeyIndex indexValue must always be a string."),new Ye(e,Wp)}toString(){return".key"}}const qc=new jP;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(e,n,r,s,a=null){this.isReverse_=s,this.resultGenerator_=a,this.nodeStack_=[];let c=1;for(;!e.isEmpty();)if(e=e,c=n?r(e.key,n):1,s&&(c*=-1),c<0)this.isReverse_?e=e.left:e=e.right;else if(c===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Fn{constructor(e,n,r,s,a){this.key=e,this.value=n,this.color=r??Fn.RED,this.left=s??Cr.EMPTY_NODE,this.right=a??Cr.EMPTY_NODE}copy(e,n,r,s,a){return new Fn(e??this.key,n??this.value,r??this.color,s??this.left,a??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const a=r(e,s.key);return a<0?s=s.copy(null,null,null,s.left.insert(e,n,r),null):a===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Cr.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,s;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Cr.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Fn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Fn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Fn.RED=!0;Fn.BLACK=!1;class kH{copy(e,n,r,s,a){return this}insert(e,n,r){return new Fn(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Cr{constructor(e,n=Cr.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Cr(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Fn.BLACK,null,null))}remove(e){return new Cr(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Fn.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,s=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return s?s.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(s=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Kp(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Kp(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Kp(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Kp(this.root_,null,this.comparator_,!0,e)}}Cr.EMPTY_NODE=new kH;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OH(t,e){return Ml(t.name,e.name)}function eS(t,e){return Ml(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Z0;function DH(t){Z0=t}const HP=function(t){return typeof t=="number"?"number:"+bP(t):"string:"+t},$P=function(t){if(t.isLeafNode()){const e=t.val();ge(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Cs(e,".sv"),"Priority must be a string or number.")}else ge(t===Z0||t.isEmpty(),"priority of unexpected type.");ge(t===Z0||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mI;class Un{static set __childrenNodeConstructor(e){mI=e}static get __childrenNodeConstructor(){return mI}constructor(e,n=Un.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,ge(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),$P(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Un(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Un.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Ke(e)?this:We(e)===".priority"?this.priorityNode_:Un.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Un.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=We(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(ge(r!==".priority"||Ea(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Un.__childrenNodeConstructor.EMPTY_NODE.updateChild(jt(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+HP(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=bP(this.value_):e+=this.value_,this.lazyHash_=vP(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Un.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Un.__childrenNodeConstructor?-1:(ge(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,s=Un.VALUE_TYPE_ORDER.indexOf(n),a=Un.VALUE_TYPE_ORDER.indexOf(r);return ge(s>=0,"Unknown leaf type: "+n),ge(a>=0,"Unknown leaf type: "+r),s===a?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:a-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Un.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qP,GP;function MH(t){qP=t}function LH(t){GP=t}class VH extends ly{compare(e,n){const r=e.node.getPriority(),s=n.node.getPriority(),a=r.compareTo(s);return a===0?Ml(e.name,n.name):a}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Ye.MIN}maxPost(){return new Ye(Rl,new Un("[PRIORITY-POST]",GP))}makePost(e,n){const r=qP(e);return new Ye(n,new Un("[PRIORITY-POST]",r))}toString(){return".priority"}}const Jt=new VH;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UH=Math.log(2);class zH{constructor(e){const n=a=>parseInt(Math.log(a)/UH,10),r=a=>parseInt(Array(a+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const s=r(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const eg=function(t,e,n,r){t.sort(e);const s=function(d,f){const y=f-d;let _,E;if(y===0)return null;if(y===1)return _=t[d],E=n?n(_):_,new Fn(E,_.node,Fn.BLACK,null,null);{const T=parseInt(y/2,10)+d,C=s(d,T),R=s(T+1,f);return _=t[T],E=n?n(_):_,new Fn(E,_.node,Fn.BLACK,C,R)}},a=function(d){let f=null,y=null,_=t.length;const E=function(C,R){const I=_-C,D=_;_-=C;const F=s(I+1,D),V=t[I],B=n?n(V):V;T(new Fn(B,V.node,R,null,F))},T=function(C){f?(f.left=C,f=C):(y=C,f=C)};for(let C=0;C<d.count;++C){const R=d.nextBitIsOne(),I=Math.pow(2,d.count-(C+1));R?E(I,Fn.BLACK):(E(I,Fn.BLACK),E(I,Fn.RED))}return y},c=new zH(t.length),h=a(c);return new Cr(r||e,h)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yv;const Nc={};class to{static get Default(){return ge(Nc&&Jt,"ChildrenNode.ts has not been loaded"),Yv=Yv||new to({".priority":Nc},{".priority":Jt}),Yv}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=Qc(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Cr?n:null}hasIndex(e){return Cs(this.indexSet_,e.toString())}addIndex(e,n){ge(e!==qc,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let s=!1;const a=n.getIterator(Ye.Wrap);let c=a.getNext();for(;c;)s=s||e.isDefinedOn(c.node),r.push(c),c=a.getNext();let h;s?h=eg(r,e.getCompare()):h=Nc;const d=e.toString(),f={...this.indexSet_};f[d]=e;const y={...this.indexes_};return y[d]=h,new to(y,f)}addToIndexes(e,n){const r=km(this.indexes_,(s,a)=>{const c=Qc(this.indexSet_,a);if(ge(c,"Missing index implementation for "+a),s===Nc)if(c.isDefinedOn(e.node)){const h=[],d=n.getIterator(Ye.Wrap);let f=d.getNext();for(;f;)f.name!==e.name&&h.push(f),f=d.getNext();return h.push(e),eg(h,c.getCompare())}else return Nc;else{const h=n.get(e.name);let d=s;return h&&(d=d.remove(new Ye(e.name,h))),d.insert(e,e.node)}});return new to(r,this.indexSet_)}removeFromIndexes(e,n){const r=km(this.indexes_,s=>{if(s===Nc)return s;{const a=n.get(e.name);return a?s.remove(new Ye(e.name,a)):s}});return new to(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lh;class Ve{static get EMPTY_NODE(){return Lh||(Lh=new Ve(new Cr(eS),null,to.Default))}constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&$P(this.priorityNode_),this.children_.isEmpty()&&ge(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Lh}updatePriority(e){return this.children_.isEmpty()?this:new Ve(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Lh:n}}getChild(e){const n=We(e);return n===null?this:this.getImmediateChild(n).getChild(jt(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(ge(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new Ye(e,n);let s,a;n.isEmpty()?(s=this.children_.remove(e),a=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,n),a=this.indexMap_.addToIndexes(r,this.children_));const c=s.isEmpty()?Lh:this.priorityNode_;return new Ve(s,c,a)}}updateChild(e,n){const r=We(e);if(r===null)return n;{ge(We(e)!==".priority"||Ea(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(jt(e),n);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,s=0,a=!0;if(this.forEachChild(Jt,(c,h)=>{n[c]=h.val(e),r++,a&&Ve.INTEGER_REGEXP_.test(c)?s=Math.max(s,Number(c)):a=!1}),!e&&a&&s<2*r){const c=[];for(const h in n)c[h]=n[h];return c}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+HP(this.getPriority().val())+":"),this.forEachChild(Jt,(n,r)=>{const s=r.hash();s!==""&&(e+=":"+n+":"+s)}),this.lazyHash_=e===""?"":vP(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const s=this.resolveIndex_(r);if(s){const a=s.getPredecessorKey(new Ye(e,n));return a?a.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Ye(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Ye(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,Ye.Wrap);let a=s.peek();for(;a!=null&&n.compare(a,e)<0;)s.getNext(),a=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,Ye.Wrap);let a=s.peek();for(;a!=null&&n.compare(a,e)>0;)s.getNext(),a=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===sf?-1:0}withIndex(e){if(e===qc||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Ve(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===qc||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Jt),s=n.getIterator(Jt);let a=r.getNext(),c=s.getNext();for(;a&&c;){if(a.name!==c.name||!a.node.equals(c.node))return!1;a=r.getNext(),c=s.getNext()}return a===null&&c===null}else return!1;else return!1}}resolveIndex_(e){return e===qc?null:this.indexMap_.get(e.toString())}}Ve.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class BH extends Ve{constructor(){super(new Cr(eS),Ve.EMPTY_NODE,to.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Ve.EMPTY_NODE}isEmpty(){return!1}}const sf=new BH;Object.defineProperties(Ye,{MIN:{value:new Ye(au,Ve.EMPTY_NODE)},MAX:{value:new Ye(Rl,sf)}});jP.__EMPTY_NODE=Ve.EMPTY_NODE;Un.__childrenNodeConstructor=Ve;DH(sf);LH(sf);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FH=!0;function In(t,e=null){if(t===null)return Ve.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),ge(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Un(n,In(e))}if(!(t instanceof Array)&&FH){const n=[];let r=!1;if(or(t,(c,h)=>{if(c.substring(0,1)!=="."){const d=In(h);d.isEmpty()||(r=r||!d.getPriority().isEmpty(),n.push(new Ye(c,d)))}}),n.length===0)return Ve.EMPTY_NODE;const a=eg(n,OH,c=>c.name,eS);if(r){const c=eg(n,Jt.getCompare());return new Ve(a,In(e),new to({".priority":c},{".priority":Jt}))}else return new Ve(a,In(e),to.Default)}else{let n=Ve.EMPTY_NODE;return or(t,(r,s)=>{if(Cs(t,r)&&r.substring(0,1)!=="."){const a=In(s);(a.isLeafNode()||!a.isEmpty())&&(n=n.updateImmediateChild(r,a))}}),n.updatePriority(In(e))}}MH(In);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jH extends ly{constructor(e){super(),this.indexPath_=e,ge(!Ke(e)&&We(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),s=this.extractChild(n.node),a=r.compareTo(s);return a===0?Ml(e.name,n.name):a}makePost(e,n){const r=In(e),s=Ve.EMPTY_NODE.updateChild(this.indexPath_,r);return new Ye(n,s)}maxPost(){const e=Ve.EMPTY_NODE.updateChild(this.indexPath_,sf);return new Ye(Rl,e)}toString(){return xd(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HH extends ly{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Ml(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Ye.MIN}maxPost(){return Ye.MAX}makePost(e,n){const r=In(e);return new Ye(n,r)}toString(){return".value"}}const $H=new HH;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WP(t){return{type:"value",snapshotNode:t}}function lu(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Nd(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Pd(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function qH(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(e){this.index_=e}updateChild(e,n,r,s,a,c){ge(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=e.getImmediateChild(n);return h.getChild(s).equals(r.getChild(s))&&h.isEmpty()===r.isEmpty()||(c!=null&&(r.isEmpty()?e.hasChild(n)?c.trackChildChange(Nd(n,h)):ge(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?c.trackChildChange(lu(n,r)):c.trackChildChange(Pd(n,r,h))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Jt,(s,a)=>{n.hasChild(s)||r.trackChildChange(Nd(s,a))}),n.isLeafNode()||n.forEachChild(Jt,(s,a)=>{if(e.hasChild(s)){const c=e.getImmediateChild(s);c.equals(a)||r.trackChildChange(Pd(s,a,c))}else r.trackChildChange(lu(s,a))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?Ve.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(e){this.indexedFilter_=new tS(e.getIndex()),this.index_=e.getIndex(),this.startPost_=kd.getStartPost_(e),this.endPost_=kd.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,s,a,c){return this.matches(new Ye(n,r))||(r=Ve.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,s,a,c)}updateFullNode(e,n,r){n.isLeafNode()&&(n=Ve.EMPTY_NODE);let s=n.withIndex(this.index_);s=s.updatePriority(Ve.EMPTY_NODE);const a=this;return n.forEachChild(Jt,(c,h)=>{a.matches(new Ye(c,h))||(s=s.updateImmediateChild(c,Ve.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,s,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GH{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new kd(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,s,a,c){return this.rangedFilter_.matches(new Ye(n,r))||(r=Ve.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,s,a,c):this.fullLimitUpdateChild_(e,n,r,a,c)}updateFullNode(e,n,r){let s;if(n.isLeafNode()||n.isEmpty())s=Ve.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){s=Ve.EMPTY_NODE.withIndex(this.index_);let a;this.reverse_?a=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):a=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let c=0;for(;a.hasNext()&&c<this.limit_;){const h=a.getNext();if(this.withinDirectionalStart(h))if(this.withinDirectionalEnd(h))s=s.updateImmediateChild(h.name,h.node),c++;else break;else continue}}else{s=n.withIndex(this.index_),s=s.updatePriority(Ve.EMPTY_NODE);let a;this.reverse_?a=s.getReverseIterator(this.index_):a=s.getIterator(this.index_);let c=0;for(;a.hasNext();){const h=a.getNext();c<this.limit_&&this.withinDirectionalStart(h)&&this.withinDirectionalEnd(h)?c++:s=s.updateImmediateChild(h.name,Ve.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,s,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,s,a){let c;if(this.reverse_){const _=this.index_.getCompare();c=(E,T)=>_(T,E)}else c=this.index_.getCompare();const h=e;ge(h.numChildren()===this.limit_,"");const d=new Ye(n,r),f=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),y=this.rangedFilter_.matches(d);if(h.hasChild(n)){const _=h.getImmediateChild(n);let E=s.getChildAfterChild(this.index_,f,this.reverse_);for(;E!=null&&(E.name===n||h.hasChild(E.name));)E=s.getChildAfterChild(this.index_,E,this.reverse_);const T=E==null?1:c(E,d);if(y&&!r.isEmpty()&&T>=0)return a?.trackChildChange(Pd(n,r,_)),h.updateImmediateChild(n,r);{a?.trackChildChange(Nd(n,_));const R=h.updateImmediateChild(n,Ve.EMPTY_NODE);return E!=null&&this.rangedFilter_.matches(E)?(a?.trackChildChange(lu(E.name,E.node)),R.updateImmediateChild(E.name,E.node)):R}}else return r.isEmpty()?e:y&&c(f,d)>=0?(a!=null&&(a.trackChildChange(Nd(f.name,f.node)),a.trackChildChange(lu(n,r))),h.updateImmediateChild(n,r).updateImmediateChild(f.name,Ve.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Jt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return ge(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ge(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:au}hasEnd(){return this.endSet_}getIndexEndValue(){return ge(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ge(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Rl}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return ge(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Jt}copy(){const e=new nS;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function WH(t){return t.loadsAllData()?new tS(t.getIndex()):t.hasLimit()?new GH(t):new kd(t)}function gI(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Jt?n="$priority":t.index_===$H?n="$value":t.index_===qc?n="$key":(ge(t.index_ instanceof jH,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=jn(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=jn(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+jn(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=jn(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+jn(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function yI(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Jt&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg extends UP{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(ge(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,s){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=s,this.log_=rf("p:rest:"),this.listens_={}}listen(e,n,r,s){const a=e._path.toString();this.log_("Listen called for "+a+" "+e._queryIdentifier);const c=tg.getListenId_(e,r),h={};this.listens_[c]=h;const d=gI(e._queryParams);this.restRequest_(a+".json",d,(f,y)=>{let _=y;if(f===404&&(_=null,f=null),f===null&&this.onDataUpdate_(a,_,!1,r),Qc(this.listens_,c)===h){let E;f?f===401?E="permission_denied":E="rest_error:"+f:E="ok",s(E,null)}})}unlisten(e,n){const r=tg.getListenId_(e,n);delete this.listens_[r]}get(e){const n=gI(e._queryParams),r=e._path.toString(),s=new Xs;return this.restRequest_(r+".json",n,(a,c)=>{let h=c;a===404&&(h=null,a=null),a===null?(this.onDataUpdate_(r,h,!1,null),s.resolve(h)):s.reject(new Error(h))}),s.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,a])=>{s&&s.accessToken&&(n.auth=s.accessToken),a&&a.token&&(n.ac=a.token);const c=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+pu(n);this.log_("Sending REST request for "+c);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(r&&h.readyState===4){this.log_("REST Response for "+c+" received. status:",h.status,"response:",h.responseText);let d=null;if(h.status>=200&&h.status<300){try{d=vd(h.responseText)}catch{Ir("Failed to parse JSON response for "+c+": "+h.responseText)}r(null,d)}else h.status!==401&&h.status!==404&&Ir("Got unsuccessful REST response for "+c+" Status: "+h.status),r(h.status);r=null}},h.open("GET",c,!0),h.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KH{constructor(){this.rootNode_=Ve.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ng(){return{value:null,children:new Map}}function Tu(t,e,n){if(Ke(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=We(e);t.children.has(r)||t.children.set(r,ng());const s=t.children.get(r);e=jt(e),Tu(s,e,n)}}function eE(t,e){if(Ke(e))return t.value=null,t.children.clear(),!0;if(t.value!==null){if(t.value.isLeafNode())return!1;{const n=t.value;return t.value=null,n.forEachChild(Jt,(r,s)=>{Tu(t,new Ot(r),s)}),eE(t,e)}}else if(t.children.size>0){const n=We(e);return e=jt(e),t.children.has(n)&&eE(t.children.get(n),e)&&t.children.delete(n),t.children.size===0}else return!0}function tE(t,e,n){t.value!==null?n(e,t.value):YH(t,(r,s)=>{const a=new Ot(e.toString()+"/"+r);tE(s,a,n)})}function YH(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QH{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n={...e};return this.last_&&or(this.last_,(r,s)=>{n[r]=n[r]-s}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _I=10*1e3,XH=30*1e3,JH=300*1e3;class ZH{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new QH(e);const r=_I+(XH-_I)*Math.random();ud(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;or(e,(s,a)=>{a>0&&Cs(this.statsToReport_,s)&&(n[s]=a,r=!0)}),r&&this.server_.reportStats(n),ud(this.reportStats_.bind(this),Math.floor(Math.random()*2*JH))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ni;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Ni||(Ni={}));function KP(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function rS(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function iS(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Ni.ACK_USER_WRITE,this.source=KP()}operationForChild(e){if(Ke(this.path)){if(this.affectedTree.value!=null)return ge(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Ot(e));return new rg(vt(),n,this.revert)}}else return ge(We(this.path)===e,"operationForChild called for unrelated child."),new rg(jt(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(e,n){this.source=e,this.path=n,this.type=Ni.LISTEN_COMPLETE}operationForChild(e){return Ke(this.path)?new Od(this.source,vt()):new Od(this.source,jt(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Ni.OVERWRITE}operationForChild(e){return Ke(this.path)?new Al(this.source,vt(),this.snap.getImmediateChild(e)):new Al(this.source,jt(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Ni.MERGE}operationForChild(e){if(Ke(this.path)){const n=this.children.subtree(new Ot(e));return n.isEmpty()?null:n.value?new Al(this.source,vt(),n.value):new Dd(this.source,vt(),n)}else return ge(We(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Dd(this.source,jt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Ke(e))return this.isFullyInitialized()&&!this.filtered_;const n=We(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e${constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function t$(t,e,n,r){const s=[],a=[];return e.forEach(c=>{c.type==="child_changed"&&t.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&a.push(qH(c.childName,c.snapshotNode))}),Vh(t,s,"child_removed",e,r,n),Vh(t,s,"child_added",e,r,n),Vh(t,s,"child_moved",a,r,n),Vh(t,s,"child_changed",e,r,n),Vh(t,s,"value",e,r,n),s}function Vh(t,e,n,r,s,a){const c=r.filter(h=>h.type===n);c.sort((h,d)=>r$(t,h,d)),c.forEach(h=>{const d=n$(t,h,a);s.forEach(f=>{f.respondsTo(h.type)&&e.push(f.createEvent(d,t.query_))})})}function n$(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function r$(t,e,n){if(e.childName==null||n.childName==null)throw fu("Should only compare child_ events.");const r=new Ye(e.childName,e.snapshotNode),s=new Ye(n.childName,n.snapshotNode);return t.index_.compare(r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cy(t,e){return{eventCache:t,serverCache:e}}function hd(t,e,n,r){return cy(new Il(e,n,r),t.serverCache)}function YP(t,e,n,r){return cy(t.eventCache,new Il(e,n,r))}function nE(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function xl(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qv;const i$=()=>(Qv||(Qv=new Cr(j7)),Qv);class Gt{static fromObject(e){let n=new Gt(null);return or(e,(r,s)=>{n=n.set(new Ot(r),s)}),n}constructor(e,n=i$()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:vt(),value:this.value};if(Ke(e))return null;{const r=We(e),s=this.children.get(r);if(s!==null){const a=s.findRootMostMatchingPathAndValue(jt(e),n);return a!=null?{path:pn(new Ot(r),a.path),value:a.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Ke(e))return this;{const n=We(e),r=this.children.get(n);return r!==null?r.subtree(jt(e)):new Gt(null)}}set(e,n){if(Ke(e))return new Gt(n,this.children);{const r=We(e),a=(this.children.get(r)||new Gt(null)).set(jt(e),n),c=this.children.insert(r,a);return new Gt(this.value,c)}}remove(e){if(Ke(e))return this.children.isEmpty()?new Gt(null):new Gt(null,this.children);{const n=We(e),r=this.children.get(n);if(r){const s=r.remove(jt(e));let a;return s.isEmpty()?a=this.children.remove(n):a=this.children.insert(n,s),this.value===null&&a.isEmpty()?new Gt(null):new Gt(this.value,a)}else return this}}get(e){if(Ke(e))return this.value;{const n=We(e),r=this.children.get(n);return r?r.get(jt(e)):null}}setTree(e,n){if(Ke(e))return n;{const r=We(e),a=(this.children.get(r)||new Gt(null)).setTree(jt(e),n);let c;return a.isEmpty()?c=this.children.remove(r):c=this.children.insert(r,a),new Gt(this.value,c)}}fold(e){return this.fold_(vt(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((s,a)=>{r[s]=a.fold_(pn(e,s),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,vt(),n)}findOnPath_(e,n,r){const s=this.value?r(n,this.value):!1;if(s)return s;if(Ke(e))return null;{const a=We(e),c=this.children.get(a);return c?c.findOnPath_(jt(e),pn(n,a),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,vt(),n)}foreachOnPath_(e,n,r){if(Ke(e))return this;{this.value&&r(n,this.value);const s=We(e),a=this.children.get(s);return a?a.foreachOnPath_(jt(e),pn(n,s),r):new Gt(null)}}foreach(e){this.foreach_(vt(),e)}foreach_(e,n){this.children.inorderTraversal((r,s)=>{s.foreach_(pn(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e){this.writeTree_=e}static empty(){return new Di(new Gt(null))}}function dd(t,e,n){if(Ke(e))return new Di(new Gt(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const s=r.path;let a=r.value;const c=wr(s,e);return a=a.updateChild(c,n),new Di(t.writeTree_.set(s,a))}else{const s=new Gt(n),a=t.writeTree_.setTree(e,s);return new Di(a)}}}function vI(t,e,n){let r=t;return or(n,(s,a)=>{r=dd(r,pn(e,s),a)}),r}function EI(t,e){if(Ke(e))return Di.empty();{const n=t.writeTree_.setTree(e,new Gt(null));return new Di(n)}}function rE(t,e){return Ll(t,e)!=null}function Ll(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(wr(n.path,e)):null}function bI(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Jt,(r,s)=>{e.push(new Ye(r,s))}):t.writeTree_.children.inorderTraversal((r,s)=>{s.value!=null&&e.push(new Ye(r,s.value))}),e}function ha(t,e){if(Ke(e))return t;{const n=Ll(t,e);return n!=null?new Di(new Gt(n)):new Di(t.writeTree_.subtree(e))}}function iE(t){return t.writeTree_.isEmpty()}function cu(t,e){return QP(vt(),t.writeTree_,e)}function QP(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((s,a)=>{s===".priority"?(ge(a.value!==null,"Priority writes must always be leaf nodes"),r=a.value):n=QP(pn(t,s),a,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(pn(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sS(t,e){return ek(e,t)}function s$(t,e,n,r,s){ge(r>t.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:s}),s&&(t.visibleWrites=dd(t.visibleWrites,e,n)),t.lastWriteId=r}function o$(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function a$(t,e){const n=t.allWrites.findIndex(h=>h.writeId===e);ge(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let s=r.visible,a=!1,c=t.allWrites.length-1;for(;s&&c>=0;){const h=t.allWrites[c];h.visible&&(c>=n&&l$(h,r.path)?s=!1:ci(r.path,h.path)&&(a=!0)),c--}if(s){if(a)return c$(t),!0;if(r.snap)t.visibleWrites=EI(t.visibleWrites,r.path);else{const h=r.children;or(h,d=>{t.visibleWrites=EI(t.visibleWrites,pn(r.path,d))})}return!0}else return!1}function l$(t,e){if(t.snap)return ci(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&ci(pn(t.path,n),e))return!0;return!1}function c$(t){t.visibleWrites=XP(t.allWrites,u$,vt()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function u$(t){return t.visible}function XP(t,e,n){let r=Di.empty();for(let s=0;s<t.length;++s){const a=t[s];if(e(a)){const c=a.path;let h;if(a.snap)ci(n,c)?(h=wr(n,c),r=dd(r,h,a.snap)):ci(c,n)&&(h=wr(c,n),r=dd(r,vt(),a.snap.getChild(h)));else if(a.children){if(ci(n,c))h=wr(n,c),r=vI(r,h,a.children);else if(ci(c,n))if(h=wr(c,n),Ke(h))r=vI(r,vt(),a.children);else{const d=Qc(a.children,We(h));if(d){const f=d.getChild(jt(h));r=dd(r,vt(),f)}}}else throw fu("WriteRecord should have .snap or .children")}}return r}function JP(t,e,n,r,s){if(!r&&!s){const a=Ll(t.visibleWrites,e);if(a!=null)return a;{const c=ha(t.visibleWrites,e);if(iE(c))return n;if(n==null&&!rE(c,vt()))return null;{const h=n||Ve.EMPTY_NODE;return cu(c,h)}}}else{const a=ha(t.visibleWrites,e);if(!s&&iE(a))return n;if(!s&&n==null&&!rE(a,vt()))return null;{const c=function(f){return(f.visible||s)&&(!r||!~r.indexOf(f.writeId))&&(ci(f.path,e)||ci(e,f.path))},h=XP(t.allWrites,c,e),d=n||Ve.EMPTY_NODE;return cu(h,d)}}}function h$(t,e,n){let r=Ve.EMPTY_NODE;const s=Ll(t.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(Jt,(a,c)=>{r=r.updateImmediateChild(a,c)}),r;if(n){const a=ha(t.visibleWrites,e);return n.forEachChild(Jt,(c,h)=>{const d=cu(ha(a,new Ot(c)),h);r=r.updateImmediateChild(c,d)}),bI(a).forEach(c=>{r=r.updateImmediateChild(c.name,c.node)}),r}else{const a=ha(t.visibleWrites,e);return bI(a).forEach(c=>{r=r.updateImmediateChild(c.name,c.node)}),r}}function d$(t,e,n,r,s){ge(r||s,"Either existingEventSnap or existingServerSnap must exist");const a=pn(e,n);if(rE(t.visibleWrites,a))return null;{const c=ha(t.visibleWrites,a);return iE(c)?s.getChild(n):cu(c,s.getChild(n))}}function f$(t,e,n,r){const s=pn(e,n),a=Ll(t.visibleWrites,s);if(a!=null)return a;if(r.isCompleteForChild(n)){const c=ha(t.visibleWrites,s);return cu(c,r.getNode().getImmediateChild(n))}else return null}function p$(t,e){return Ll(t.visibleWrites,e)}function m$(t,e,n,r,s,a,c){let h;const d=ha(t.visibleWrites,e),f=Ll(d,vt());if(f!=null)h=f;else if(n!=null)h=cu(d,n);else return[];if(h=h.withIndex(c),!h.isEmpty()&&!h.isLeafNode()){const y=[],_=c.getCompare(),E=a?h.getReverseIteratorFrom(r,c):h.getIteratorFrom(r,c);let T=E.getNext();for(;T&&y.length<s;)_(T,r)!==0&&y.push(T),T=E.getNext();return y}else return[]}function g$(){return{visibleWrites:Di.empty(),allWrites:[],lastWriteId:-1}}function ig(t,e,n,r){return JP(t.writeTree,t.treePath,e,n,r)}function oS(t,e){return h$(t.writeTree,t.treePath,e)}function SI(t,e,n,r){return d$(t.writeTree,t.treePath,e,n,r)}function sg(t,e){return p$(t.writeTree,pn(t.treePath,e))}function y$(t,e,n,r,s,a){return m$(t.writeTree,t.treePath,e,n,r,s,a)}function aS(t,e,n){return f$(t.writeTree,t.treePath,e,n)}function ZP(t,e){return ek(pn(t.treePath,e),t.writeTree)}function ek(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _${constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;ge(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),ge(r!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(r);if(s){const a=s.type;if(n==="child_added"&&a==="child_removed")this.changeMap.set(r,Pd(r,e.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&a==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&a==="child_changed")this.changeMap.set(r,Nd(r,s.oldSnap));else if(n==="child_changed"&&a==="child_added")this.changeMap.set(r,lu(r,e.snapshotNode));else if(n==="child_changed"&&a==="child_changed")this.changeMap.set(r,Pd(r,e.snapshotNode,s.oldSnap));else throw fu("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v${getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const tk=new v$;class lS{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Il(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return aS(this.writes_,e,r)}}getChildAfterChild(e,n,r){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:xl(this.viewCache_),a=y$(this.writes_,s,n,1,r,e);return a.length===0?null:a[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E$(t){return{filter:t}}function b$(t,e){ge(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),ge(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function S$(t,e,n,r,s){const a=new _$;let c,h;if(n.type===Ni.OVERWRITE){const f=n;f.source.fromUser?c=sE(t,e,f.path,f.snap,r,s,a):(ge(f.source.fromServer,"Unknown source."),h=f.source.tagged||e.serverCache.isFiltered()&&!Ke(f.path),c=og(t,e,f.path,f.snap,r,s,h,a))}else if(n.type===Ni.MERGE){const f=n;f.source.fromUser?c=w$(t,e,f.path,f.children,r,s,a):(ge(f.source.fromServer,"Unknown source."),h=f.source.tagged||e.serverCache.isFiltered(),c=oE(t,e,f.path,f.children,r,s,h,a))}else if(n.type===Ni.ACK_USER_WRITE){const f=n;f.revert?c=A$(t,e,f.path,r,s,a):c=C$(t,e,f.path,f.affectedTree,r,s,a)}else if(n.type===Ni.LISTEN_COMPLETE)c=R$(t,e,n.path,r,a);else throw fu("Unknown operation type: "+n.type);const d=a.getChanges();return T$(e,c,d),{viewCache:c,changes:d}}function T$(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const s=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=nE(t);(n.length>0||!t.eventCache.isFullyInitialized()||s&&!r.getNode().equals(a)||!r.getNode().getPriority().equals(a.getPriority()))&&n.push(WP(nE(e)))}}function nk(t,e,n,r,s,a){const c=e.eventCache;if(sg(r,n)!=null)return e;{let h,d;if(Ke(n))if(ge(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const f=xl(e),y=f instanceof Ve?f:Ve.EMPTY_NODE,_=oS(r,y);h=t.filter.updateFullNode(e.eventCache.getNode(),_,a)}else{const f=ig(r,xl(e));h=t.filter.updateFullNode(e.eventCache.getNode(),f,a)}else{const f=We(n);if(f===".priority"){ge(Ea(n)===1,"Can't have a priority with additional path components");const y=c.getNode();d=e.serverCache.getNode();const _=SI(r,n,y,d);_!=null?h=t.filter.updatePriority(y,_):h=c.getNode()}else{const y=jt(n);let _;if(c.isCompleteForChild(f)){d=e.serverCache.getNode();const E=SI(r,n,c.getNode(),d);E!=null?_=c.getNode().getImmediateChild(f).updateChild(y,E):_=c.getNode().getImmediateChild(f)}else _=aS(r,f,e.serverCache);_!=null?h=t.filter.updateChild(c.getNode(),f,_,y,s,a):h=c.getNode()}}return hd(e,h,c.isFullyInitialized()||Ke(n),t.filter.filtersNodes())}}function og(t,e,n,r,s,a,c,h){const d=e.serverCache;let f;const y=c?t.filter:t.filter.getIndexedFilter();if(Ke(n))f=y.updateFullNode(d.getNode(),r,null);else if(y.filtersNodes()&&!d.isFiltered()){const T=d.getNode().updateChild(n,r);f=y.updateFullNode(d.getNode(),T,null)}else{const T=We(n);if(!d.isCompleteForPath(n)&&Ea(n)>1)return e;const C=jt(n),I=d.getNode().getImmediateChild(T).updateChild(C,r);T===".priority"?f=y.updatePriority(d.getNode(),I):f=y.updateChild(d.getNode(),T,I,C,tk,null)}const _=YP(e,f,d.isFullyInitialized()||Ke(n),y.filtersNodes()),E=new lS(s,_,a);return nk(t,_,n,s,E,h)}function sE(t,e,n,r,s,a,c){const h=e.eventCache;let d,f;const y=new lS(s,e,a);if(Ke(n))f=t.filter.updateFullNode(e.eventCache.getNode(),r,c),d=hd(e,f,!0,t.filter.filtersNodes());else{const _=We(n);if(_===".priority")f=t.filter.updatePriority(e.eventCache.getNode(),r),d=hd(e,f,h.isFullyInitialized(),h.isFiltered());else{const E=jt(n),T=h.getNode().getImmediateChild(_);let C;if(Ke(E))C=r;else{const R=y.getCompleteChild(_);R!=null?Xb(E)===".priority"&&R.getChild(BP(E)).isEmpty()?C=R:C=R.updateChild(E,r):C=Ve.EMPTY_NODE}if(T.equals(C))d=e;else{const R=t.filter.updateChild(h.getNode(),_,C,E,y,c);d=hd(e,R,h.isFullyInitialized(),t.filter.filtersNodes())}}}return d}function TI(t,e){return t.eventCache.isCompleteForChild(e)}function w$(t,e,n,r,s,a,c){let h=e;return r.foreach((d,f)=>{const y=pn(n,d);TI(e,We(y))&&(h=sE(t,h,y,f,s,a,c))}),r.foreach((d,f)=>{const y=pn(n,d);TI(e,We(y))||(h=sE(t,h,y,f,s,a,c))}),h}function wI(t,e,n){return n.foreach((r,s)=>{e=e.updateChild(r,s)}),e}function oE(t,e,n,r,s,a,c,h){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let d=e,f;Ke(n)?f=r:f=new Gt(null).setTree(n,r);const y=e.serverCache.getNode();return f.children.inorderTraversal((_,E)=>{if(y.hasChild(_)){const T=e.serverCache.getNode().getImmediateChild(_),C=wI(t,T,E);d=og(t,d,new Ot(_),C,s,a,c,h)}}),f.children.inorderTraversal((_,E)=>{const T=!e.serverCache.isCompleteForChild(_)&&E.value===null;if(!y.hasChild(_)&&!T){const C=e.serverCache.getNode().getImmediateChild(_),R=wI(t,C,E);d=og(t,d,new Ot(_),R,s,a,c,h)}}),d}function C$(t,e,n,r,s,a,c){if(sg(s,n)!=null)return e;const h=e.serverCache.isFiltered(),d=e.serverCache;if(r.value!=null){if(Ke(n)&&d.isFullyInitialized()||d.isCompleteForPath(n))return og(t,e,n,d.getNode().getChild(n),s,a,h,c);if(Ke(n)){let f=new Gt(null);return d.getNode().forEachChild(qc,(y,_)=>{f=f.set(new Ot(y),_)}),oE(t,e,n,f,s,a,h,c)}else return e}else{let f=new Gt(null);return r.foreach((y,_)=>{const E=pn(n,y);d.isCompleteForPath(E)&&(f=f.set(y,d.getNode().getChild(E)))}),oE(t,e,n,f,s,a,h,c)}}function R$(t,e,n,r,s){const a=e.serverCache,c=YP(e,a.getNode(),a.isFullyInitialized()||Ke(n),a.isFiltered());return nk(t,c,n,r,tk,s)}function A$(t,e,n,r,s,a){let c;if(sg(r,n)!=null)return e;{const h=new lS(r,e,s),d=e.eventCache.getNode();let f;if(Ke(n)||We(n)===".priority"){let y;if(e.serverCache.isFullyInitialized())y=ig(r,xl(e));else{const _=e.serverCache.getNode();ge(_ instanceof Ve,"serverChildren would be complete if leaf node"),y=oS(r,_)}y=y,f=t.filter.updateFullNode(d,y,a)}else{const y=We(n);let _=aS(r,y,e.serverCache);_==null&&e.serverCache.isCompleteForChild(y)&&(_=d.getImmediateChild(y)),_!=null?f=t.filter.updateChild(d,y,_,jt(n),h,a):e.eventCache.getNode().hasChild(y)?f=t.filter.updateChild(d,y,Ve.EMPTY_NODE,jt(n),h,a):f=d,f.isEmpty()&&e.serverCache.isFullyInitialized()&&(c=ig(r,xl(e)),c.isLeafNode()&&(f=t.filter.updateFullNode(f,c,a)))}return c=e.serverCache.isFullyInitialized()||sg(r,vt())!=null,hd(e,f,c,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I${constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,s=new tS(r.getIndex()),a=WH(r);this.processor_=E$(a);const c=n.serverCache,h=n.eventCache,d=s.updateFullNode(Ve.EMPTY_NODE,c.getNode(),null),f=a.updateFullNode(Ve.EMPTY_NODE,h.getNode(),null),y=new Il(d,c.isFullyInitialized(),s.filtersNodes()),_=new Il(f,h.isFullyInitialized(),a.filtersNodes());this.viewCache_=cy(_,y),this.eventGenerator_=new e$(this.query_)}get query(){return this.query_}}function x$(t){return t.viewCache_.serverCache.getNode()}function N$(t,e){const n=xl(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Ke(e)&&!n.getImmediateChild(We(e)).isEmpty())?n.getChild(e):null}function CI(t){return t.eventRegistrations_.length===0}function P$(t,e){t.eventRegistrations_.push(e)}function RI(t,e,n){const r=[];if(n){ge(e==null,"A cancel should cancel all event registrations.");const s=t.query._path;t.eventRegistrations_.forEach(a=>{const c=a.createCancelEvent(n,s);c&&r.push(c)})}if(e){let s=[];for(let a=0;a<t.eventRegistrations_.length;++a){const c=t.eventRegistrations_[a];if(!c.matches(e))s.push(c);else if(e.hasAnyCallback()){s=s.concat(t.eventRegistrations_.slice(a+1));break}}t.eventRegistrations_=s}else t.eventRegistrations_=[];return r}function AI(t,e,n,r){e.type===Ni.MERGE&&e.source.queryId!==null&&(ge(xl(t.viewCache_),"We should always have a full cache before handling merges"),ge(nE(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,a=S$(t.processor_,s,e,n,r);return b$(t.processor_,a.viewCache),ge(a.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=a.viewCache,rk(t,a.changes,a.viewCache.eventCache.getNode(),null)}function k$(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Jt,(a,c)=>{r.push(lu(a,c))}),n.isFullyInitialized()&&r.push(WP(n.getNode())),rk(t,r,n.getNode(),e)}function rk(t,e,n,r){const s=r?[r]:t.eventRegistrations_;return t$(t.eventGenerator_,e,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ag;class O${constructor(){this.views=new Map}}function D$(t){ge(!ag,"__referenceConstructor has already been defined"),ag=t}function M$(){return ge(ag,"Reference.ts has not been loaded"),ag}function L$(t){return t.views.size===0}function cS(t,e,n,r){const s=e.source.queryId;if(s!==null){const a=t.views.get(s);return ge(a!=null,"SyncTree gave us an op for an invalid query."),AI(a,e,n,r)}else{let a=[];for(const c of t.views.values())a=a.concat(AI(c,e,n,r));return a}}function V$(t,e,n,r,s){const a=e._queryIdentifier,c=t.views.get(a);if(!c){let h=ig(n,s?r:null),d=!1;h?d=!0:r instanceof Ve?(h=oS(n,r),d=!1):(h=Ve.EMPTY_NODE,d=!1);const f=cy(new Il(h,d,!1),new Il(r,s,!1));return new I$(e,f)}return c}function U$(t,e,n,r,s,a){const c=V$(t,e,r,s,a);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,c),P$(c,n),k$(c,n)}function z$(t,e,n,r){const s=e._queryIdentifier,a=[];let c=[];const h=ba(t);if(s==="default")for(const[d,f]of t.views.entries())c=c.concat(RI(f,n,r)),CI(f)&&(t.views.delete(d),f.query._queryParams.loadsAllData()||a.push(f.query));else{const d=t.views.get(s);d&&(c=c.concat(RI(d,n,r)),CI(d)&&(t.views.delete(s),d.query._queryParams.loadsAllData()||a.push(d.query)))}return h&&!ba(t)&&a.push(new(M$())(e._repo,e._path)),{removed:a,events:c}}function ik(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Gc(t,e){let n=null;for(const r of t.views.values())n=n||N$(r,e);return n}function sk(t,e){if(e._queryParams.loadsAllData())return uy(t);{const r=e._queryIdentifier;return t.views.get(r)}}function ok(t,e){return sk(t,e)!=null}function ba(t){return uy(t)!=null}function uy(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lg;function B$(t){ge(!lg,"__referenceConstructor has already been defined"),lg=t}function F$(){return ge(lg,"Reference.ts has not been loaded"),lg}let j$=1;class II{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Gt(null),this.pendingWriteTree_=g$(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function ak(t,e,n,r,s){return s$(t.pendingWriteTree_,e,n,r,s),s?of(t,new Al(KP(),e,n)):[]}function ml(t,e,n=!1){const r=o$(t.pendingWriteTree_,e);if(a$(t.pendingWriteTree_,e)){let a=new Gt(null);return r.snap!=null?a=a.set(vt(),!0):or(r.children,c=>{a=a.set(new Ot(c),!0)}),of(t,new rg(r.path,a,n))}else return[]}function hy(t,e,n){return of(t,new Al(rS(),e,n))}function H$(t,e,n){const r=Gt.fromObject(n);return of(t,new Dd(rS(),e,r))}function $$(t,e){return of(t,new Od(rS(),e))}function q$(t,e,n){const r=hS(t,n);if(r){const s=dS(r),a=s.path,c=s.queryId,h=wr(a,e),d=new Od(iS(c),h);return fS(t,a,d)}else return[]}function aE(t,e,n,r,s=!1){const a=e._path,c=t.syncPointTree_.get(a);let h=[];if(c&&(e._queryIdentifier==="default"||ok(c,e))){const d=z$(c,e,n,r);L$(c)&&(t.syncPointTree_=t.syncPointTree_.remove(a));const f=d.removed;if(h=d.events,!s){const y=f.findIndex(E=>E._queryParams.loadsAllData())!==-1,_=t.syncPointTree_.findOnPath(a,(E,T)=>ba(T));if(y&&!_){const E=t.syncPointTree_.subtree(a);if(!E.isEmpty()){const T=K$(E);for(let C=0;C<T.length;++C){const R=T[C],I=R.query,D=uk(t,R);t.listenProvider_.startListening(fd(I),cg(t,I),D.hashFn,D.onComplete)}}}!_&&f.length>0&&!r&&(y?t.listenProvider_.stopListening(fd(e),null):f.forEach(E=>{const T=t.queryToTagMap.get(dy(E));t.listenProvider_.stopListening(fd(E),T)}))}Y$(t,f)}return h}function G$(t,e,n,r){const s=hS(t,r);if(s!=null){const a=dS(s),c=a.path,h=a.queryId,d=wr(c,e),f=new Al(iS(h),d,n);return fS(t,c,f)}else return[]}function W$(t,e,n,r){const s=hS(t,r);if(s){const a=dS(s),c=a.path,h=a.queryId,d=wr(c,e),f=Gt.fromObject(n),y=new Dd(iS(h),d,f);return fS(t,c,y)}else return[]}function xI(t,e,n,r=!1){const s=e._path;let a=null,c=!1;t.syncPointTree_.foreachOnPath(s,(E,T)=>{const C=wr(E,s);a=a||Gc(T,C),c=c||ba(T)});let h=t.syncPointTree_.get(s);h?(c=c||ba(h),a=a||Gc(h,vt())):(h=new O$,t.syncPointTree_=t.syncPointTree_.set(s,h));let d;a!=null?d=!0:(d=!1,a=Ve.EMPTY_NODE,t.syncPointTree_.subtree(s).foreachChild((T,C)=>{const R=Gc(C,vt());R&&(a=a.updateImmediateChild(T,R))}));const f=ok(h,e);if(!f&&!e._queryParams.loadsAllData()){const E=dy(e);ge(!t.queryToTagMap.has(E),"View does not exist, but we have a tag");const T=Q$();t.queryToTagMap.set(E,T),t.tagToQueryMap.set(T,E)}const y=sS(t.pendingWriteTree_,s);let _=U$(h,e,n,y,a,d);if(!f&&!c&&!r){const E=sk(h,e);_=_.concat(X$(t,e,E))}return _}function uS(t,e,n){const s=t.pendingWriteTree_,a=t.syncPointTree_.findOnPath(e,(c,h)=>{const d=wr(c,e),f=Gc(h,d);if(f)return f});return JP(s,e,a,n,!0)}function of(t,e){return lk(e,t.syncPointTree_,null,sS(t.pendingWriteTree_,vt()))}function lk(t,e,n,r){if(Ke(t.path))return ck(t,e,n,r);{const s=e.get(vt());n==null&&s!=null&&(n=Gc(s,vt()));let a=[];const c=We(t.path),h=t.operationForChild(c),d=e.children.get(c);if(d&&h){const f=n?n.getImmediateChild(c):null,y=ZP(r,c);a=a.concat(lk(h,d,f,y))}return s&&(a=a.concat(cS(s,t,r,n))),a}}function ck(t,e,n,r){const s=e.get(vt());n==null&&s!=null&&(n=Gc(s,vt()));let a=[];return e.children.inorderTraversal((c,h)=>{const d=n?n.getImmediateChild(c):null,f=ZP(r,c),y=t.operationForChild(c);y&&(a=a.concat(ck(y,h,d,f)))}),s&&(a=a.concat(cS(s,t,r,n))),a}function uk(t,e){const n=e.query,r=cg(t,n);return{hashFn:()=>(x$(e)||Ve.EMPTY_NODE).hash(),onComplete:s=>{if(s==="ok")return r?q$(t,n._path,r):$$(t,n._path);{const a=q7(s,n);return aE(t,n,null,a)}}}}function cg(t,e){const n=dy(e);return t.queryToTagMap.get(n)}function dy(t){return t._path.toString()+"$"+t._queryIdentifier}function hS(t,e){return t.tagToQueryMap.get(e)}function dS(t){const e=t.indexOf("$");return ge(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Ot(t.substr(0,e))}}function fS(t,e,n){const r=t.syncPointTree_.get(e);ge(r,"Missing sync point for query tag that we're tracking");const s=sS(t.pendingWriteTree_,e);return cS(r,n,s,null)}function K$(t){return t.fold((e,n,r)=>{if(n&&ba(n))return[uy(n)];{let s=[];return n&&(s=ik(n)),or(r,(a,c)=>{s=s.concat(c)}),s}})}function fd(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(F$())(t._repo,t._path):t}function Y$(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const s=dy(r),a=t.queryToTagMap.get(s);t.queryToTagMap.delete(s),t.tagToQueryMap.delete(a)}}}function Q$(){return j$++}function X$(t,e,n){const r=e._path,s=cg(t,e),a=uk(t,n),c=t.listenProvider_.startListening(fd(e),s,a.hashFn,a.onComplete),h=t.syncPointTree_.subtree(r);if(s)ge(!ba(h.value),"If we're adding a query, it shouldn't be shadowed");else{const d=h.fold((f,y,_)=>{if(!Ke(f)&&y&&ba(y))return[uy(y).query];{let E=[];return y&&(E=E.concat(ik(y).map(T=>T.query))),or(_,(T,C)=>{E=E.concat(C)}),E}});for(let f=0;f<d.length;++f){const y=d[f];t.listenProvider_.stopListening(fd(y),cg(t,y))}}return c}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new pS(n)}node(){return this.node_}}class mS{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=pn(this.path_,e);return new mS(this.syncTree_,n)}node(){return uS(this.syncTree_,this.path_)}}const J$=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},NI=function(t,e,n){if(!t||typeof t!="object")return t;if(ge(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return Z$(t[".sv"],e,n);if(typeof t[".sv"]=="object")return eq(t[".sv"],e);ge(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},Z$=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:ge(!1,"Unexpected server value: "+t)}},eq=function(t,e,n){t.hasOwnProperty("increment")||ge(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&ge(!1,"Unexpected increment value: "+r);const s=e.node();if(ge(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return r;const c=s.getValue();return typeof c!="number"?r:c+r},tq=function(t,e,n,r){return gS(e,new mS(n,t),r)},hk=function(t,e,n){return gS(t,new pS(e),n)};function gS(t,e,n){const r=t.getPriority().val(),s=NI(r,e.getImmediateChild(".priority"),n);let a;if(t.isLeafNode()){const c=t,h=NI(c.getValue(),e,n);return h!==c.getValue()||s!==c.getPriority().val()?new Un(h,In(s)):t}else{const c=t;return a=c,s!==c.getPriority().val()&&(a=a.updatePriority(new Un(s))),c.forEachChild(Jt,(h,d)=>{const f=gS(d,e.getImmediateChild(h),n);f!==d&&(a=a.updateImmediateChild(h,f))}),a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function _S(t,e){let n=e instanceof Ot?e:new Ot(e),r=t,s=We(n);for(;s!==null;){const a=Qc(r.node.children,s)||{children:{},childCount:0};r=new yS(s,r,a),n=jt(n),s=We(n)}return r}function wu(t){return t.node.value}function dk(t,e){t.node.value=e,lE(t)}function fk(t){return t.node.childCount>0}function nq(t){return wu(t)===void 0&&!fk(t)}function fy(t,e){or(t.node.children,(n,r)=>{e(new yS(n,t,r))})}function pk(t,e,n,r){n&&e(t),fy(t,s=>{pk(s,e,!0)})}function rq(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function af(t){return new Ot(t.parent===null?t.name:af(t.parent)+"/"+t.name)}function lE(t){t.parent!==null&&iq(t.parent,t.name,t)}function iq(t,e,n){const r=nq(n),s=Cs(t.node.children,e);r&&s?(delete t.node.children[e],t.node.childCount--,lE(t)):!r&&!s&&(t.node.children[e]=n.node,t.node.childCount++,lE(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sq=/[\[\].#$\/\u0000-\u001F\u007F]/,oq=/[\[\].#$\u0000-\u001F\u007F]/,Xv=10*1024*1024,vS=function(t){return typeof t=="string"&&t.length!==0&&!sq.test(t)},mk=function(t){return typeof t=="string"&&t.length!==0&&!oq.test(t)},aq=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),mk(t)},gk=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!ay(t)||t&&typeof t=="object"&&Cs(t,".sv")},cE=function(t,e,n,r){py(Xc(t,"value"),e,n)},py=function(t,e,n){const r=n instanceof Ot?new CH(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+cl(r));if(typeof e=="function")throw new Error(t+"contains a function "+cl(r)+" with contents = "+e.toString());if(ay(e))throw new Error(t+"contains "+e.toString()+" "+cl(r));if(typeof e=="string"&&e.length>Xv/3&&Lg(e)>Xv)throw new Error(t+"contains a string greater than "+Xv+" utf8 bytes "+cl(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,a=!1;if(or(e,(c,h)=>{if(c===".value")s=!0;else if(c!==".priority"&&c!==".sv"&&(a=!0,!vS(c)))throw new Error(t+" contains an invalid key ("+c+") "+cl(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);RH(r,c),py(t,h,r),AH(r)}),s&&a)throw new Error(t+' contains ".value" child '+cl(r)+" in addition to actual children.")}},lq=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const a=xd(r);for(let c=0;c<a.length;c++)if(!(a[c]===".priority"&&c===a.length-1)){if(!vS(a[c]))throw new Error(t+"contains an invalid key ("+a[c]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(wH);let s=null;for(n=0;n<e.length;n++){if(r=e[n],s!==null&&ci(s,r))throw new Error(t+"contains a path "+s.toString()+" that is ancestor of another path "+r.toString());s=r}},cq=function(t,e,n,r){const s=Xc(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(s+" must be an object containing the children to replace.");const a=[];or(e,(c,h)=>{const d=new Ot(c);if(py(s,h,pn(n,d)),Xb(d)===".priority"&&!gk(h))throw new Error(s+"contains an invalid value for '"+d.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(d)}),lq(s,a)},uq=function(t,e,n){if(ay(e))throw new Error(Xc(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!gk(e))throw new Error(Xc(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")},yk=function(t,e,n,r){if(!mk(n))throw new Error(Xc(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},hq=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),yk(t,e,n)},Qh=function(t,e){if(We(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},dq=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!vS(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!aq(n))throw new Error(Xc(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fq{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function ES(t,e){let n=null;for(let r=0;r<e.length;r++){const s=e[r],a=s.getPath();n!==null&&!Jb(a,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:a}),n.events.push(s)}n&&t.eventLists_.push(n)}function _k(t,e,n){ES(t,n),vk(t,r=>Jb(r,e))}function go(t,e,n){ES(t,n),vk(t,r=>ci(r,e)||ci(e,r))}function vk(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const s=t.eventLists_[r];if(s){const a=s.path;e(a)?(pq(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function pq(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();cd&&Yn("event: "+n.toString()),Su(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mq="repo_interrupt",gq=25;class yq{constructor(e,n,r,s){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new fq,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ng(),this.transactionQueueTree_=new yS,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function _q(t,e,n){if(t.stats_=Yb(t.repoInfo_),t.forceRestClient_||Y7())t.server_=new tg(t.repoInfo_,(r,s,a,c)=>{PI(t,r,s,a,c)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>kI(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{jn(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new io(t.repoInfo_,e,(r,s,a,c)=>{PI(t,r,s,a,c)},r=>{kI(t,r)},r=>{Eq(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=eH(t.repoInfo_,()=>new ZH(t.stats_,t.server_)),t.infoData_=new KH,t.infoSyncTree_=new II({startListening:(r,s,a,c)=>{let h=[];const d=t.infoData_.getNode(r._path);return d.isEmpty()||(h=hy(t.infoSyncTree_,r._path,d),setTimeout(()=>{c("ok")},0)),h},stopListening:()=>{}}),SS(t,"connected",!1),t.serverSyncTree_=new II({startListening:(r,s,a,c)=>(t.server_.listen(r,a,s,(h,d)=>{const f=c(h,d);go(t.eventQueue_,r._path,f)}),[]),stopListening:(r,s)=>{t.server_.unlisten(r,s)}})}function vq(t){const n=t.infoData_.getNode(new Ot(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function bS(t){return J$({timestamp:vq(t)})}function PI(t,e,n,r,s){t.dataUpdateCount++;const a=new Ot(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let c=[];if(s)if(r){const d=km(n,f=>In(f));c=W$(t.serverSyncTree_,a,d,s)}else{const d=In(n);c=G$(t.serverSyncTree_,a,d,s)}else if(r){const d=km(n,f=>In(f));c=H$(t.serverSyncTree_,a,d)}else{const d=In(n);c=hy(t.serverSyncTree_,a,d)}let h=a;c.length>0&&(h=my(t,a)),go(t.eventQueue_,h,c)}function kI(t,e){SS(t,"connected",e),e===!1&&Sq(t)}function Eq(t,e){or(e,(n,r)=>{SS(t,n,r)})}function SS(t,e,n){const r=new Ot("/.info/"+e),s=In(n);t.infoData_.updateSnapshot(r,s);const a=hy(t.infoSyncTree_,r,s);go(t.eventQueue_,r,a)}function Ek(t){return t.nextWriteId_++}function bq(t,e,n,r,s){TS(t,"set",{path:e.toString(),value:n,priority:r});const a=bS(t),c=In(n,r),h=uS(t.serverSyncTree_,e),d=hk(c,h,a),f=Ek(t),y=ak(t.serverSyncTree_,e,d,f,!0);ES(t.eventQueue_,y),t.server_.put(e.toString(),c.val(!0),(E,T)=>{const C=E==="ok";C||Ir("set at "+e+" failed: "+E);const R=ml(t.serverSyncTree_,f,!C);go(t.eventQueue_,e,R),uu(t,s,E,T)});const _=Ck(t,e);my(t,_),go(t.eventQueue_,_,[])}function Sq(t){TS(t,"onDisconnectEvents");const e=bS(t),n=ng();tE(t.onDisconnect_,vt(),(s,a)=>{const c=tq(s,a,t.serverSyncTree_,e);Tu(n,s,c)});let r=[];tE(n,vt(),(s,a)=>{r=r.concat(hy(t.serverSyncTree_,s,a));const c=Ck(t,s);my(t,c)}),t.onDisconnect_=ng(),go(t.eventQueue_,vt(),r)}function Tq(t,e,n){t.server_.onDisconnectCancel(e.toString(),(r,s)=>{r==="ok"&&eE(t.onDisconnect_,e),uu(t,n,r,s)})}function OI(t,e,n,r){const s=In(n);t.server_.onDisconnectPut(e.toString(),s.val(!0),(a,c)=>{a==="ok"&&Tu(t.onDisconnect_,e,s),uu(t,r,a,c)})}function wq(t,e,n,r,s){const a=In(n,r);t.server_.onDisconnectPut(e.toString(),a.val(!0),(c,h)=>{c==="ok"&&Tu(t.onDisconnect_,e,a),uu(t,s,c,h)})}function Cq(t,e,n,r){if(Pm(n)){Yn("onDisconnect().update() called with empty data.  Don't do anything."),uu(t,r,"ok",void 0);return}t.server_.onDisconnectMerge(e.toString(),n,(s,a)=>{s==="ok"&&or(n,(c,h)=>{const d=In(h);Tu(t.onDisconnect_,pn(e,c),d)}),uu(t,r,s,a)})}function Rq(t,e,n){let r;We(e._path)===".info"?r=xI(t.infoSyncTree_,e,n):r=xI(t.serverSyncTree_,e,n),_k(t.eventQueue_,e._path,r)}function Aq(t,e,n){let r;We(e._path)===".info"?r=aE(t.infoSyncTree_,e,n):r=aE(t.serverSyncTree_,e,n),_k(t.eventQueue_,e._path,r)}function Iq(t){t.persistentConnection_&&t.persistentConnection_.interrupt(mq)}function TS(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Yn(n,...e)}function uu(t,e,n,r){e&&Su(()=>{if(n==="ok")e(null);else{const s=(n||"error").toUpperCase();let a=s;r&&(a+=": "+r);const c=new Error(a);c.code=s,e(c)}})}function bk(t,e,n){return uS(t.serverSyncTree_,e,n)||Ve.EMPTY_NODE}function wS(t,e=t.transactionQueueTree_){if(e||gy(t,e),wu(e)){const n=Tk(t,e);ge(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&xq(t,af(e),n)}else fk(e)&&fy(e,n=>{wS(t,n)})}function xq(t,e,n){const r=n.map(f=>f.currentWriteId),s=bk(t,e,r);let a=s;const c=s.hash();for(let f=0;f<n.length;f++){const y=n[f];ge(y.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),y.status=1,y.retryCount++;const _=wr(e,y.path);a=a.updateChild(_,y.currentOutputSnapshotRaw)}const h=a.val(!0),d=e;t.server_.put(d.toString(),h,f=>{TS(t,"transaction put response",{path:d.toString(),status:f});let y=[];if(f==="ok"){const _=[];for(let E=0;E<n.length;E++)n[E].status=2,y=y.concat(ml(t.serverSyncTree_,n[E].currentWriteId)),n[E].onComplete&&_.push(()=>n[E].onComplete(null,!0,n[E].currentOutputSnapshotResolved)),n[E].unwatcher();gy(t,_S(t.transactionQueueTree_,e)),wS(t,t.transactionQueueTree_),go(t.eventQueue_,e,y);for(let E=0;E<_.length;E++)Su(_[E])}else{if(f==="datastale")for(let _=0;_<n.length;_++)n[_].status===3?n[_].status=4:n[_].status=0;else{Ir("transaction at "+d.toString()+" failed: "+f);for(let _=0;_<n.length;_++)n[_].status=4,n[_].abortReason=f}my(t,e)}},c)}function my(t,e){const n=Sk(t,e),r=af(n),s=Tk(t,n);return Nq(t,s,r),r}function Nq(t,e,n){if(e.length===0)return;const r=[];let s=[];const c=e.filter(h=>h.status===0).map(h=>h.currentWriteId);for(let h=0;h<e.length;h++){const d=e[h],f=wr(n,d.path);let y=!1,_;if(ge(f!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),d.status===4)y=!0,_=d.abortReason,s=s.concat(ml(t.serverSyncTree_,d.currentWriteId,!0));else if(d.status===0)if(d.retryCount>=gq)y=!0,_="maxretry",s=s.concat(ml(t.serverSyncTree_,d.currentWriteId,!0));else{const E=bk(t,d.path,c);d.currentInputSnapshot=E;const T=e[h].update(E.val());if(T!==void 0){py("transaction failed: Data returned ",T,d.path);let C=In(T);typeof T=="object"&&T!=null&&Cs(T,".priority")||(C=C.updatePriority(E.getPriority()));const I=d.currentWriteId,D=bS(t),F=hk(C,E,D);d.currentOutputSnapshotRaw=C,d.currentOutputSnapshotResolved=F,d.currentWriteId=Ek(t),c.splice(c.indexOf(I),1),s=s.concat(ak(t.serverSyncTree_,d.path,F,d.currentWriteId,d.applyLocally)),s=s.concat(ml(t.serverSyncTree_,I,!0))}else y=!0,_="nodata",s=s.concat(ml(t.serverSyncTree_,d.currentWriteId,!0))}go(t.eventQueue_,n,s),s=[],y&&(e[h].status=2,(function(E){setTimeout(E,Math.floor(0))})(e[h].unwatcher),e[h].onComplete&&(_==="nodata"?r.push(()=>e[h].onComplete(null,!1,e[h].currentInputSnapshot)):r.push(()=>e[h].onComplete(new Error(_),!1,null))))}gy(t,t.transactionQueueTree_);for(let h=0;h<r.length;h++)Su(r[h]);wS(t,t.transactionQueueTree_)}function Sk(t,e){let n,r=t.transactionQueueTree_;for(n=We(e);n!==null&&wu(r)===void 0;)r=_S(r,n),e=jt(e),n=We(e);return r}function Tk(t,e){const n=[];return wk(t,e,n),n.sort((r,s)=>r.order-s.order),n}function wk(t,e,n){const r=wu(e);if(r)for(let s=0;s<r.length;s++)n.push(r[s]);fy(e,s=>{wk(t,s,n)})}function gy(t,e){const n=wu(e);if(n){let r=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[r]=n[s],r++);n.length=r,dk(e,n.length>0?n:void 0)}fy(e,r=>{gy(t,r)})}function Ck(t,e){const n=af(Sk(t,e)),r=_S(t.transactionQueueTree_,e);return rq(r,s=>{Jv(t,s)}),Jv(t,r),pk(r,s=>{Jv(t,s)}),n}function Jv(t,e){const n=wu(e);if(n){const r=[];let s=[],a=-1;for(let c=0;c<n.length;c++)n[c].status===3||(n[c].status===1?(ge(a===c-1,"All SENT items should be at beginning of queue."),a=c,n[c].status=3,n[c].abortReason="set"):(ge(n[c].status===0,"Unexpected transaction status in abort"),n[c].unwatcher(),s=s.concat(ml(t.serverSyncTree_,n[c].currentWriteId,!0)),n[c].onComplete&&r.push(n[c].onComplete.bind(null,new Error("set"),!1,null))));a===-1?dk(e,void 0):n.length=a+1,go(t.eventQueue_,af(e),s);for(let c=0;c<r.length;c++)Su(r[c])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pq(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let s=n[r];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function kq(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Ir(`Invalid query segment '${n}' in query '${t}'`)}return e}const DI=function(t,e){const n=Oq(t),r=n.namespace;n.domain==="firebase.com"&&mo(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&mo("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||B7();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new PP(n.host,n.secure,r,s,e,"",r!==n.subdomain),path:new Ot(n.pathString)}},Oq=function(t){let e="",n="",r="",s="",a="",c=!0,h="https",d=443;if(typeof t=="string"){let f=t.indexOf("//");f>=0&&(h=t.substring(0,f-1),t=t.substring(f+2));let y=t.indexOf("/");y===-1&&(y=t.length);let _=t.indexOf("?");_===-1&&(_=t.length),e=t.substring(0,Math.min(y,_)),y<_&&(s=Pq(t.substring(y,_)));const E=kq(t.substring(Math.min(t.length,_)));f=e.indexOf(":"),f>=0?(c=h==="https"||h==="wss",d=parseInt(e.substring(f+1),10)):f=e.length;const T=e.slice(0,f);if(T.toLowerCase()==="localhost")n="localhost";else if(T.split(".").length<=2)n=T;else{const C=e.indexOf(".");r=e.substring(0,C).toLowerCase(),n=e.substring(C+1),a=r}"ns"in E&&(a=E.ns)}return{host:e,port:d,domain:n,subdomain:r,secure:c,scheme:h,pathString:s,namespace:a}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dq{constructor(e,n,r,s){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=s}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+jn(this.snapshot.exportVal())}}class Mq{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lq{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return ge(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vq{constructor(e,n){this._repo=e,this._path=n}cancel(){const e=new Xs;return Tq(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){Qh("OnDisconnect.remove",this._path);const e=new Xs;return OI(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){Qh("OnDisconnect.set",this._path),cE("OnDisconnect.set",e,this._path);const n=new Xs;return OI(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}setWithPriority(e,n){Qh("OnDisconnect.setWithPriority",this._path),cE("OnDisconnect.setWithPriority",e,this._path),uq("OnDisconnect.setWithPriority",n);const r=new Xs;return wq(this._repo,this._path,e,n,r.wrapCallback(()=>{})),r.promise}update(e){Qh("OnDisconnect.update",this._path),cq("OnDisconnect.update",e,this._path);const n=new Xs;return Cq(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(e,n,r,s){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=s}get key(){return Ke(this._path)?null:Xb(this._path)}get ref(){return new Aa(this._repo,this._path)}get _queryIdentifier(){const e=yI(this._queryParams),n=Wb(e);return n==="{}"?"default":n}get _queryObject(){return yI(this._queryParams)}isEqual(e){if(e=kt(e),!(e instanceof CS))return!1;const n=this._repo===e._repo,r=Jb(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return n&&r&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+TH(this._path)}}class Aa extends CS{constructor(e,n){super(e,n,new nS,!1)}get parent(){const e=BP(this._path);return e===null?null:new Aa(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class ug{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Ot(e),r=hE(this.ref,e);return new ug(this._node.getChild(n),r,Jt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,s)=>e(new ug(s,hE(this.ref,r),Jt)))}hasChild(e){const n=new Ot(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function uE(t,e){return t=kt(t),t._checkNotDeleted("ref"),e!==void 0?hE(t._root,e):t._root}function hE(t,e){return t=kt(t),We(t._path)===null?hq("child","path",e):yk("child","path",e),new Aa(t._repo,pn(t._path,e))}function Uq(t){return t=kt(t),new Vq(t._repo,t._path)}function zq(t,e){t=kt(t),Qh("set",t._path),cE("set",e,t._path);const n=new Xs;return bq(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}class RS{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new Dq("value",this,new ug(e.snapshotNode,new Aa(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new Mq(this,e,n):null}matches(e){return e instanceof RS?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function Bq(t,e,n,r,s){const a=new Lq(n,void 0),c=new RS(a);return Rq(t._repo,t,c),()=>Aq(t._repo,t,c)}function Rk(t,e,n,r){return Bq(t,"value",e)}D$(Aa);B$(Aa);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fq="FIREBASE_DATABASE_EMULATOR_HOST",dE={};let jq=!1;function Hq(t,e,n,r){const s=e.lastIndexOf(":"),a=e.substring(0,s),c=Ts(a);t.repoInfo_=new PP(e,c,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(t.authTokenProvider_=r)}function $q(t,e,n,r,s){let a=r||t.options.databaseURL;a===void 0&&(t.options.projectId||mo("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Yn("Using default host for project ",t.options.projectId),a=`${t.options.projectId}-default-rtdb.firebaseio.com`);let c=DI(a,s),h=c.repoInfo,d;typeof process<"u"&&ZA&&(d=ZA[Fq]),d?(a=`http://${d}?ns=${h.namespace}`,c=DI(a,s),h=c.repoInfo):c.repoInfo.secure;const f=new X7(t.name,t.options,e);dq("Invalid Firebase Database URL",c),Ke(c.path)||mo("Database URL must point to the root of a Firebase Database (not including a child path).");const y=Gq(h,t,f,new Q7(t,n));return new Wq(y,t)}function qq(t,e){const n=dE[e];(!n||n[t.key]!==t)&&mo(`Database ${e}(${t.repoInfo_}) has already been deleted.`),Iq(t),delete n[t.key]}function Gq(t,e,n,r){let s=dE[e.name];s||(s={},dE[e.name]=s);let a=s[t.toURLString()];return a&&mo("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),a=new yq(t,jq,n,r),s[t.toURLString()]=a,a}class Wq{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(_q(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Aa(this._repo,vt())),this._rootInternal}_delete(){return this._rootInternal!==null&&(qq(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&mo("Cannot call "+e+" on a deleted database.")}}function Kq(t=Ug(),e){const n=Gd(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=QE("database");r&&Yq(n,...r)}return n}function Yq(t,e,n,r={}){t=kt(t),t._checkNotDeleted("useEmulator");const s=`${e}:${n}`,a=t._repoInternal;if(t._instanceStarted){if(s===t._repoInternal.repoInfo_.host&&vs(r,a.repoInfo_.emulatorOptions))return;mo("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let c;if(a.repoInfo_.nodeAdmin)r.mockUserToken&&mo('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),c=new fm(fm.OWNER);else if(r.mockUserToken){const h=typeof r.mockUserToken=="string"?r.mockUserToken:XE(r.mockUserToken,t.app.options.projectId);c=new fm(h)}Ts(e)&&(Dg(e),Mg("Database",!0)),Hq(a,s,r,c)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qq(t){D7(Ta),fa(new co("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return $q(r,s,a,n)},"PUBLIC").setMultipleInstances(!0)),ui(eI,tI,t),ui(eI,tI,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xq={".sv":"timestamp"};function MI(){return Xq}io.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};io.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};Qq();const Jq={apiKey:"AIzaSyBq6nfRHWLbZ5xNxZqX05PiRkP2NdQok8U",authDomain:"hey-web.firebaseapp.com",databaseURL:"https://hey-web-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"hey-web",storageBucket:"hey-web.firebasestorage.app",messagingSenderId:"350186805027",appId:"1:350186805027:web:84b85ad1de7a218bd51e96",measurementId:"G-86TLCMSB1B"},AS=e2(Jq),no=SF(AS),Bn=v7(AS),fE=Kq(AS);/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var LI="popstate";function Zq(t={}){function e(r,s){let{pathname:a,search:c,hash:h}=r.location;return pE("",{pathname:a,search:c,hash:h},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Md(s)}return tG(e,n,null,t)}function Zt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function bs(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function eG(){return Math.random().toString(36).substring(2,10)}function VI(t,e){return{usr:t.state,key:t.key,idx:e}}function pE(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Cu(e):e,state:n,key:e&&e.key||r||eG()}}function Md({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Cu(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function tG(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:a=!1}=r,c=s.history,h="POP",d=null,f=y();f==null&&(f=0,c.replaceState({...c.state,idx:f},""));function y(){return(c.state||{idx:null}).idx}function _(){h="POP";let I=y(),D=I==null?null:I-f;f=I,d&&d({action:h,location:R.location,delta:D})}function E(I,D){h="PUSH";let F=pE(R.location,I,D);f=y()+1;let V=VI(F,f),B=R.createHref(F);try{c.pushState(V,"",B)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(B)}a&&d&&d({action:h,location:R.location,delta:1})}function T(I,D){h="REPLACE";let F=pE(R.location,I,D);f=y();let V=VI(F,f),B=R.createHref(F);c.replaceState(V,"",B),a&&d&&d({action:h,location:R.location,delta:0})}function C(I){return nG(I)}let R={get action(){return h},get location(){return t(s,c)},listen(I){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(LI,_),d=I,()=>{s.removeEventListener(LI,_),d=null}},createHref(I){return e(s,I)},createURL:C,encodeLocation(I){let D=C(I);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:E,replace:T,go(I){return c.go(I)}};return R}function nG(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Zt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Md(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function Ak(t,e,n="/"){return rG(t,e,n,!1)}function rG(t,e,n,r){let s=typeof e=="string"?Cu(e):e,a=yo(s.pathname||"/",n);if(a==null)return null;let c=Ik(t);iG(c);let h=null;for(let d=0;h==null&&d<c.length;++d){let f=mG(a);h=fG(c[d],f,r)}return h}function Ik(t,e=[],n=[],r="",s=!1){let a=(c,h,d=s,f)=>{let y={relativePath:f===void 0?c.path||"":f,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(r)&&d)return;Zt(y.relativePath.startsWith(r),`Absolute route path "${y.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(r.length)}let _=so([r,y.relativePath]),E=n.concat(y);c.children&&c.children.length>0&&(Zt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),Ik(c.children,e,E,_,d)),!(c.path==null&&!c.index)&&e.push({path:_,score:hG(_,c.index),routesMeta:E})};return t.forEach((c,h)=>{if(c.path===""||!c.path?.includes("?"))a(c,h);else for(let d of xk(c.path))a(c,h,!0,d)}),e}function xk(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let c=xk(r.join("/")),h=[];return h.push(...c.map(d=>d===""?a:[a,d].join("/"))),s&&h.push(...c),h.map(d=>t.startsWith("/")&&d===""?"/":d)}function iG(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:dG(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var sG=/^:[\w-]+$/,oG=3,aG=2,lG=1,cG=10,uG=-2,UI=t=>t==="*";function hG(t,e){let n=t.split("/"),r=n.length;return n.some(UI)&&(r+=uG),e&&(r+=aG),n.filter(s=>!UI(s)).reduce((s,a)=>s+(sG.test(a)?oG:a===""?lG:cG),r)}function dG(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function fG(t,e,n=!1){let{routesMeta:r}=t,s={},a="/",c=[];for(let h=0;h<r.length;++h){let d=r[h],f=h===r.length-1,y=a==="/"?e:e.slice(a.length)||"/",_=hg({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},y),E=d.route;if(!_&&f&&n&&!r[r.length-1].route.index&&(_=hg({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},y)),!_)return null;Object.assign(s,_.params),c.push({params:s,pathname:so([a,_.pathname]),pathnameBase:vG(so([a,_.pathnameBase])),route:E}),_.pathnameBase!=="/"&&(a=so([a,_.pathnameBase]))}return c}function hg(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=pG(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let a=s[0],c=a.replace(/(.)\/+$/,"$1"),h=s.slice(1);return{params:r.reduce((f,{paramName:y,isOptional:_},E)=>{if(y==="*"){let C=h[E]||"";c=a.slice(0,a.length-C.length).replace(/(.)\/+$/,"$1")}const T=h[E];return _&&!T?f[y]=void 0:f[y]=(T||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:c,pattern:t}}function pG(t,e=!1,n=!0){bs(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,d)=>(r.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function mG(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return bs(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function yo(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function gG(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Cu(t):t;return{pathname:n?n.startsWith("/")?n:yG(n,e):e,search:EG(r),hash:bG(s)}}function yG(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Zv(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function _G(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Nk(t){let e=_G(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Pk(t,e,n,r=!1){let s;typeof t=="string"?s=Cu(t):(s={...t},Zt(!s.pathname||!s.pathname.includes("?"),Zv("?","pathname","search",s)),Zt(!s.pathname||!s.pathname.includes("#"),Zv("#","pathname","hash",s)),Zt(!s.search||!s.search.includes("#"),Zv("#","search","hash",s)));let a=t===""||s.pathname==="",c=a?"/":s.pathname,h;if(c==null)h=n;else{let _=e.length-1;if(!r&&c.startsWith("..")){let E=c.split("/");for(;E[0]==="..";)E.shift(),_-=1;s.pathname=E.join("/")}h=_>=0?e[_]:"/"}let d=gG(s,h),f=c&&c!=="/"&&c.endsWith("/"),y=(a||c===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(f||y)&&(d.pathname+="/"),d}var so=t=>t.join("/").replace(/\/\/+/g,"/"),vG=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),EG=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,bG=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function SG(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var kk=["POST","PUT","PATCH","DELETE"];new Set(kk);var TG=["GET",...kk];new Set(TG);var Ru=A.createContext(null);Ru.displayName="DataRouter";var yy=A.createContext(null);yy.displayName="DataRouterState";A.createContext(!1);var Ok=A.createContext({isTransitioning:!1});Ok.displayName="ViewTransition";var wG=A.createContext(new Map);wG.displayName="Fetchers";var CG=A.createContext(null);CG.displayName="Await";var As=A.createContext(null);As.displayName="Navigation";var lf=A.createContext(null);lf.displayName="Location";var Is=A.createContext({outlet:null,matches:[],isDataRoute:!1});Is.displayName="Route";var IS=A.createContext(null);IS.displayName="RouteError";function RG(t,{relative:e}={}){Zt(cf(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=A.useContext(As),{hash:s,pathname:a,search:c}=uf(t,{relative:e}),h=a;return n!=="/"&&(h=a==="/"?n:so([n,a])),r.createHref({pathname:h,search:c,hash:s})}function cf(){return A.useContext(lf)!=null}function Vl(){return Zt(cf(),"useLocation() may be used only in the context of a <Router> component."),A.useContext(lf).location}var Dk="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Mk(t){A.useContext(As).static||A.useLayoutEffect(t)}function Lk(){let{isDataRoute:t}=A.useContext(Is);return t?zG():AG()}function AG(){Zt(cf(),"useNavigate() may be used only in the context of a <Router> component.");let t=A.useContext(Ru),{basename:e,navigator:n}=A.useContext(As),{matches:r}=A.useContext(Is),{pathname:s}=Vl(),a=JSON.stringify(Nk(r)),c=A.useRef(!1);return Mk(()=>{c.current=!0}),A.useCallback((d,f={})=>{if(bs(c.current,Dk),!c.current)return;if(typeof d=="number"){n.go(d);return}let y=Pk(d,JSON.parse(a),s,f.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:so([e,y.pathname])),(f.replace?n.replace:n.push)(y,f.state,f)},[e,n,a,s,t])}A.createContext(null);function Vk(){let{matches:t}=A.useContext(Is),e=t[t.length-1];return e?e.params:{}}function uf(t,{relative:e}={}){let{matches:n}=A.useContext(Is),{pathname:r}=Vl(),s=JSON.stringify(Nk(n));return A.useMemo(()=>Pk(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function IG(t,e){return Uk(t,e)}function Uk(t,e,n,r,s){Zt(cf(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=A.useContext(As),{matches:c}=A.useContext(Is),h=c[c.length-1],d=h?h.params:{},f=h?h.pathname:"/",y=h?h.pathnameBase:"/",_=h&&h.route;{let F=_&&_.path||"";zk(f,!_||F.endsWith("*")||F.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${F}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${F}"> to <Route path="${F==="/"?"*":`${F}/*`}">.`)}let E=Vl(),T;if(e){let F=typeof e=="string"?Cu(e):e;Zt(y==="/"||F.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${F.pathname}" was given in the \`location\` prop.`),T=F}else T=E;let C=T.pathname||"/",R=C;if(y!=="/"){let F=y.replace(/^\//,"").split("/");R="/"+C.replace(/^\//,"").split("/").slice(F.length).join("/")}let I=Ak(t,{pathname:R});bs(_||I!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),bs(I==null||I[I.length-1].route.element!==void 0||I[I.length-1].route.Component!==void 0||I[I.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let D=OG(I&&I.map(F=>Object.assign({},F,{params:Object.assign({},d,F.params),pathname:so([y,a.encodeLocation?a.encodeLocation(F.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?y:so([y,a.encodeLocation?a.encodeLocation(F.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:F.pathnameBase])})),c,n,r,s);return e&&D?A.createElement(lf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},D):D}function xG(){let t=UG(),e=SG(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=A.createElement(A.Fragment,null,A.createElement("p",null,"💿 Hey developer 👋"),A.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",A.createElement("code",{style:a},"ErrorBoundary")," or"," ",A.createElement("code",{style:a},"errorElement")," prop on your route.")),A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},e),n?A.createElement("pre",{style:s},n):null,c)}var NG=A.createElement(xG,null),PG=class extends A.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?A.createElement(Is.Provider,{value:this.props.routeContext},A.createElement(IS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function kG({routeContext:t,match:e,children:n}){let r=A.useContext(Ru);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),A.createElement(Is.Provider,{value:t},n)}function OG(t,e=[],n=null,r=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,c=n?.errors;if(c!=null){let f=a.findIndex(y=>y.route.id&&c?.[y.route.id]!==void 0);Zt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),a=a.slice(0,Math.min(a.length,f+1))}let h=!1,d=-1;if(n)for(let f=0;f<a.length;f++){let y=a[f];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(d=f),y.route.id){let{loaderData:_,errors:E}=n,T=y.route.loader&&!_.hasOwnProperty(y.route.id)&&(!E||E[y.route.id]===void 0);if(y.route.lazy||T){h=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((f,y,_)=>{let E,T=!1,C=null,R=null;n&&(E=c&&y.route.id?c[y.route.id]:void 0,C=y.route.errorElement||NG,h&&(d<0&&_===0?(zk("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,R=null):d===_&&(T=!0,R=y.route.hydrateFallbackElement||null)));let I=e.concat(a.slice(0,_+1)),D=()=>{let F;return E?F=C:T?F=R:y.route.Component?F=A.createElement(y.route.Component,null):y.route.element?F=y.route.element:F=f,A.createElement(kG,{match:y,routeContext:{outlet:f,matches:I,isDataRoute:n!=null},children:F})};return n&&(y.route.ErrorBoundary||y.route.errorElement||_===0)?A.createElement(PG,{location:n.location,revalidation:n.revalidation,component:C,error:E,children:D(),routeContext:{outlet:null,matches:I,isDataRoute:!0},unstable_onError:r}):D()},null)}function xS(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function DG(t){let e=A.useContext(Ru);return Zt(e,xS(t)),e}function MG(t){let e=A.useContext(yy);return Zt(e,xS(t)),e}function LG(t){let e=A.useContext(Is);return Zt(e,xS(t)),e}function NS(t){let e=LG(t),n=e.matches[e.matches.length-1];return Zt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function VG(){return NS("useRouteId")}function UG(){let t=A.useContext(IS),e=MG("useRouteError"),n=NS("useRouteError");return t!==void 0?t:e.errors?.[n]}function zG(){let{router:t}=DG("useNavigate"),e=NS("useNavigate"),n=A.useRef(!1);return Mk(()=>{n.current=!0}),A.useCallback(async(s,a={})=>{bs(n.current,Dk),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...a}))},[t,e])}var zI={};function zk(t,e,n){!e&&!zI[t]&&(zI[t]=!0,bs(!1,n))}A.memo(BG);function BG({routes:t,future:e,state:n,unstable_onError:r}){return Uk(t,void 0,n,r,e)}function Xh(t){Zt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function FG({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:a=!1}){Zt(!cf(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),h=A.useMemo(()=>({basename:c,navigator:s,static:a,future:{}}),[c,s,a]);typeof n=="string"&&(n=Cu(n));let{pathname:d="/",search:f="",hash:y="",state:_=null,key:E="default"}=n,T=A.useMemo(()=>{let C=yo(d,c);return C==null?null:{location:{pathname:C,search:f,hash:y,state:_,key:E},navigationType:r}},[c,d,f,y,_,E,r]);return bs(T!=null,`<Router basename="${c}"> is not able to match the URL "${d}${f}${y}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:A.createElement(As.Provider,{value:h},A.createElement(lf.Provider,{children:e,value:T}))}function jG({children:t,location:e}){return IG(mE(t),e)}function mE(t,e=[]){let n=[];return A.Children.forEach(t,(r,s)=>{if(!A.isValidElement(r))return;let a=[...e,s];if(r.type===A.Fragment){n.push.apply(n,mE(r.props.children,a));return}Zt(r.type===Xh,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Zt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=mE(r.props.children,a)),n.push(c)}),n}var pm="get",mm="application/x-www-form-urlencoded";function _y(t){return t!=null&&typeof t.tagName=="string"}function HG(t){return _y(t)&&t.tagName.toLowerCase()==="button"}function $G(t){return _y(t)&&t.tagName.toLowerCase()==="form"}function qG(t){return _y(t)&&t.tagName.toLowerCase()==="input"}function GG(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function WG(t,e){return t.button===0&&(!e||e==="_self")&&!GG(t)}var Yp=null;function KG(){if(Yp===null)try{new FormData(document.createElement("form"),0),Yp=!1}catch{Yp=!0}return Yp}var YG=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function e0(t){return t!=null&&!YG.has(t)?(bs(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${mm}"`),null):t}function QG(t,e){let n,r,s,a,c;if($G(t)){let h=t.getAttribute("action");r=h?yo(h,e):null,n=t.getAttribute("method")||pm,s=e0(t.getAttribute("enctype"))||mm,a=new FormData(t)}else if(HG(t)||qG(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||h.getAttribute("action");if(r=d?yo(d,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||pm,s=e0(t.getAttribute("formenctype"))||e0(h.getAttribute("enctype"))||mm,a=new FormData(h,t),!KG()){let{name:f,type:y,value:_}=t;if(y==="image"){let E=f?`${f}.`:"";a.append(`${E}x`,"0"),a.append(`${E}y`,"0")}else f&&a.append(f,_)}}else{if(_y(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=pm,r=null,s=mm,c=t}return a&&s==="text/plain"&&(c=a,a=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:a,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function PS(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function XG(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&yo(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function JG(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ZG(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function eW(t,e,n){let r=await Promise.all(t.map(async s=>{let a=e.routes[s.route.id];if(a){let c=await JG(a,n);return c.links?c.links():[]}return[]}));return iW(r.flat(1).filter(ZG).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function BI(t,e,n,r,s,a){let c=(d,f)=>n[f]?d.route.id!==n[f].route.id:!0,h=(d,f)=>n[f].pathname!==d.pathname||n[f].route.path?.endsWith("*")&&n[f].params["*"]!==d.params["*"];return a==="assets"?e.filter((d,f)=>c(d,f)||h(d,f)):a==="data"?e.filter((d,f)=>{let y=r.routes[d.route.id];if(!y||!y.hasLoader)return!1;if(c(d,f)||h(d,f))return!0;if(d.route.shouldRevalidate){let _=d.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function tW(t,e,{includeHydrateFallback:n}={}){return nW(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function nW(t){return[...new Set(t)]}function rW(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function iW(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let a=JSON.stringify(rW(s));return n.has(a)||(n.add(a),r.push({key:a,link:s})),r},[])}function Bk(){let t=A.useContext(Ru);return PS(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function sW(){let t=A.useContext(yy);return PS(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var kS=A.createContext(void 0);kS.displayName="FrameworkContext";function Fk(){let t=A.useContext(kS);return PS(t,"You must render this element inside a <HydratedRouter> element"),t}function oW(t,e){let n=A.useContext(kS),[r,s]=A.useState(!1),[a,c]=A.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:f,onMouseLeave:y,onTouchStart:_}=e,E=A.useRef(null);A.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let R=D=>{D.forEach(F=>{c(F.isIntersecting)})},I=new IntersectionObserver(R,{threshold:.5});return E.current&&I.observe(E.current),()=>{I.disconnect()}}},[t]),A.useEffect(()=>{if(r){let R=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(R)}}},[r]);let T=()=>{s(!0)},C=()=>{s(!1),c(!1)};return n?t!=="intent"?[a,E,{}]:[a,E,{onFocus:Uh(h,T),onBlur:Uh(d,C),onMouseEnter:Uh(f,T),onMouseLeave:Uh(y,C),onTouchStart:Uh(_,T)}]:[!1,E,{}]}function Uh(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function aW({page:t,...e}){let{router:n}=Bk(),r=A.useMemo(()=>Ak(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?A.createElement(cW,{page:t,matches:r,...e}):null}function lW(t){let{manifest:e,routeModules:n}=Fk(),[r,s]=A.useState([]);return A.useEffect(()=>{let a=!1;return eW(t,e,n).then(c=>{a||s(c)}),()=>{a=!0}},[t,e,n]),r}function cW({page:t,matches:e,...n}){let r=Vl(),{manifest:s,routeModules:a}=Fk(),{basename:c}=Bk(),{loaderData:h,matches:d}=sW(),f=A.useMemo(()=>BI(t,e,d,s,r,"data"),[t,e,d,s,r]),y=A.useMemo(()=>BI(t,e,d,s,r,"assets"),[t,e,d,s,r]),_=A.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let C=new Set,R=!1;if(e.forEach(D=>{let F=s.routes[D.route.id];!F||!F.hasLoader||(!f.some(V=>V.route.id===D.route.id)&&D.route.id in h&&a[D.route.id]?.shouldRevalidate||F.hasClientLoader?R=!0:C.add(D.route.id))}),C.size===0)return[];let I=XG(t,c,"data");return R&&C.size>0&&I.searchParams.set("_routes",e.filter(D=>C.has(D.route.id)).map(D=>D.route.id).join(",")),[I.pathname+I.search]},[c,h,r,s,f,e,t,a]),E=A.useMemo(()=>tW(y,s),[y,s]),T=lW(y);return A.createElement(A.Fragment,null,_.map(C=>A.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...n})),E.map(C=>A.createElement("link",{key:C,rel:"modulepreload",href:C,...n})),T.map(({key:C,link:R})=>A.createElement("link",{key:C,nonce:n.nonce,...R})))}function uW(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var jk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{jk&&(window.__reactRouterVersion="7.9.4")}catch{}function hW({basename:t,children:e,window:n}){let r=A.useRef();r.current==null&&(r.current=Zq({window:n,v5Compat:!0}));let s=r.current,[a,c]=A.useState({action:s.action,location:s.location}),h=A.useCallback(d=>{A.startTransition(()=>c(d))},[c]);return A.useLayoutEffect(()=>s.listen(h),[s,h]),A.createElement(FG,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:s})}var Hk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ld=A.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:a,replace:c,state:h,target:d,to:f,preventScrollReset:y,viewTransition:_,...E},T){let{basename:C}=A.useContext(As),R=typeof f=="string"&&Hk.test(f),I,D=!1;if(typeof f=="string"&&R&&(I=f,jk))try{let N=new URL(window.location.href),U=f.startsWith("//")?new URL(N.protocol+f):new URL(f),L=yo(U.pathname,C);U.origin===N.origin&&L!=null?f=L+U.search+U.hash:D=!0}catch{bs(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let F=RG(f,{relative:s}),[V,B,j]=oW(r,E),G=mW(f,{replace:c,state:h,target:d,preventScrollReset:y,relative:s,viewTransition:_});function x(N){e&&e(N),N.defaultPrevented||G(N)}let P=A.createElement("a",{...E,...j,href:I||F,onClick:D||a?e:x,ref:uW(T,B),target:d,"data-discover":!R&&n==="render"?"true":void 0});return V&&!R?A.createElement(A.Fragment,null,P,A.createElement(aW,{page:F})):P});Ld.displayName="Link";var dW=A.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:a,to:c,viewTransition:h,children:d,...f},y){let _=uf(c,{relative:f.relative}),E=Vl(),T=A.useContext(yy),{navigator:C,basename:R}=A.useContext(As),I=T!=null&&EW(_)&&h===!0,D=C.encodeLocation?C.encodeLocation(_).pathname:_.pathname,F=E.pathname,V=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;n||(F=F.toLowerCase(),V=V?V.toLowerCase():null,D=D.toLowerCase()),V&&R&&(V=yo(V,R)||V);const B=D!=="/"&&D.endsWith("/")?D.length-1:D.length;let j=F===D||!s&&F.startsWith(D)&&F.charAt(B)==="/",G=V!=null&&(V===D||!s&&V.startsWith(D)&&V.charAt(D.length)==="/"),x={isActive:j,isPending:G,isTransitioning:I},P=j?e:void 0,N;typeof r=="function"?N=r(x):N=[r,j?"active":null,G?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let U=typeof a=="function"?a(x):a;return A.createElement(Ld,{...f,"aria-current":P,className:N,ref:y,style:U,to:c,viewTransition:h},typeof d=="function"?d(x):d)});dW.displayName="NavLink";var fW=A.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:a,method:c=pm,action:h,onSubmit:d,relative:f,preventScrollReset:y,viewTransition:_,...E},T)=>{let C=_W(),R=vW(h,{relative:f}),I=c.toLowerCase()==="get"?"get":"post",D=typeof h=="string"&&Hk.test(h),F=V=>{if(d&&d(V),V.defaultPrevented)return;V.preventDefault();let B=V.nativeEvent.submitter,j=B?.getAttribute("formmethod")||c;C(B||V.currentTarget,{fetcherKey:e,method:j,navigate:n,replace:s,state:a,relative:f,preventScrollReset:y,viewTransition:_})};return A.createElement("form",{ref:T,method:I,action:R,onSubmit:r?d:F,...E,"data-discover":!D&&t==="render"?"true":void 0})});fW.displayName="Form";function pW(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $k(t){let e=A.useContext(Ru);return Zt(e,pW(t)),e}function mW(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:a,viewTransition:c}={}){let h=Lk(),d=Vl(),f=uf(t,{relative:a});return A.useCallback(y=>{if(WG(y,e)){y.preventDefault();let _=n!==void 0?n:Md(d)===Md(f);h(t,{replace:_,state:r,preventScrollReset:s,relative:a,viewTransition:c})}},[d,h,f,n,r,e,t,s,a,c])}var gW=0,yW=()=>`__${String(++gW)}__`;function _W(){let{router:t}=$k("useSubmit"),{basename:e}=A.useContext(As),n=VG();return A.useCallback(async(r,s={})=>{let{action:a,method:c,encType:h,formData:d,body:f}=QG(r,e);if(s.navigate===!1){let y=s.fetcherKey||yW();await t.fetch(y,n,s.action||a,{preventScrollReset:s.preventScrollReset,formData:d,body:f,formMethod:s.method||c,formEncType:s.encType||h,flushSync:s.flushSync})}else await t.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:d,body:f,formMethod:s.method||c,formEncType:s.encType||h,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function vW(t,{relative:e}={}){let{basename:n}=A.useContext(As),r=A.useContext(Is);Zt(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),a={...uf(t||".",{relative:e})},c=Vl();if(t==null){a.search=c.search;let h=new URLSearchParams(a.search),d=h.getAll("index");if(d.some(y=>y==="")){h.delete("index"),d.filter(_=>_).forEach(_=>h.append("index",_));let y=h.toString();a.search=y?`?${y}`:""}}return(!t||t===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:so([n,a.pathname])),Md(a)}function EW(t,{relative:e}={}){let n=A.useContext(Ok);Zt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=$k("useViewTransitionState"),s=uf(t,{relative:e});if(!n.isTransitioning)return!1;let a=yo(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=yo(n.nextLocation.pathname,r)||n.nextLocation.pathname;return hg(s.pathname,c)!=null||hg(s.pathname,a)!=null}const qk=A.createContext(),bW=({reducer:t,initialState:e,children:n})=>z.jsx(qk.Provider,{value:A.useReducer(t,e),children:n}),Au=()=>A.useContext(qk);function SW({id:t,users:e,lastMessage:n}){const[r,s]=A.useState(null),[{user:a}]=Au(),{chatId:c}=Vk();A.useEffect(()=>{if(a){const d=e.find(f=>f!==a.uid);if(d){const f=oi(Bn,"users",d),y=ld(f,_=>{_.exists()&&s(_.data())});return()=>y()}}},[a,e]);const h=c===t;return r?z.jsx(Ld,{to:`/chats/${t}`,children:z.jsxs("div",{className:`sidebarChat ${h?"active":""}`,children:[z.jsx($d,{src:r.photoURL}),z.jsxs("div",{className:"sidebarChat__info",children:[z.jsx("h2",{children:r.displayName}),z.jsxs("div",{className:"sidebarChat__lastMessage",children:[n==="📷 Image"&&z.jsx(Fx,{}),z.jsx("p",{children:n})]})]})]})}):null}function TW(){const[t,e]=A.useState([]),[{user:n}]=Au();return A.useEffect(()=>{if(n){const r=gl(Bn,"chats"),s=Xm(r,hm("users","array-contains",n.uid)),a=ld(s,c=>{e(c.docs.map(h=>({id:h.id,data:h.data()})))});return()=>a()}},[n]),z.jsxs("div",{className:"sidebar",children:[z.jsxs("div",{className:"sidebar__header",children:[z.jsx(Ld,{to:"/profile",children:z.jsx($d,{src:n?.photoURL})}),z.jsxs("div",{className:"sidebar__headerRight",children:[z.jsx(Ld,{to:"/new-chat",children:z.jsx(us,{children:z.jsx(fU,{})})}),z.jsx(us,{children:z.jsx(Bx,{})}),z.jsx(us,{onClick:()=>no.signOut(),children:z.jsx(pU,{})})]})]}),z.jsx("div",{className:"sidebar__search",children:z.jsxs("div",{className:"sidebar__searchContainer",children:[z.jsx(jx,{}),z.jsx("input",{placeholder:"Search or start new chat",type:"text"})]})}),z.jsx("div",{className:"sidebar__chats",children:t.map(r=>z.jsx(SW,{id:r.id,users:r.data.users,lastMessage:r.data.lastMessage},r.id))})]})}function wW({date:t}){const e=n=>{const r=new Date,s=new Date(r);s.setDate(s.getDate()-1);const a=new Date(n?.toDate());return a.toDateString()===r.toDateString()?"Today":a.toDateString()===s.toDateString()?"Yesterday":a.toLocaleDateString("en-GB",{day:"numeric",month:"long",year:"numeric"})};return z.jsx("div",{className:"dateSeparator",children:z.jsx("span",{children:e(t)})})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gk="firebasestorage.googleapis.com",Wk="storageBucket",CW=120*1e3,RW=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an extends ws{constructor(e,n,r=0){super(t0(e),`Firebase Storage: ${n} (${t0(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,an.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return t0(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var on;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(on||(on={}));function t0(t){return"storage/"+t}function OS(){const t="An unknown error occurred, please check the error payload for server response.";return new an(on.UNKNOWN,t)}function AW(t){return new an(on.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function IW(t){return new an(on.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function xW(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new an(on.UNAUTHENTICATED,t)}function NW(){return new an(on.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function PW(t){return new an(on.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function kW(){return new an(on.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function OW(){return new an(on.CANCELED,"User canceled the upload/download.")}function DW(t){return new an(on.INVALID_URL,"Invalid URL '"+t+"'.")}function MW(t){return new an(on.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function LW(){return new an(on.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Wk+"' property when initializing the app?")}function VW(){return new an(on.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function UW(){return new an(on.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function zW(t){return new an(on.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function gE(t){return new an(on.INVALID_ARGUMENT,t)}function Kk(){return new an(on.APP_DELETED,"The Firebase app was deleted.")}function BW(t){return new an(on.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function pd(t,e){return new an(on.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function zh(t){throw new an(on.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Hr.makeFromUrl(e,n)}catch{return new Hr(e,"")}if(r.path==="")return r;throw MW(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function a(B){B.path.charAt(B.path.length-1)==="/"&&(B.path_=B.path_.slice(0,-1))}const c="(/(.*))?$",h=new RegExp("^gs://"+s+c,"i"),d={bucket:1,path:3};function f(B){B.path_=decodeURIComponent(B.path)}const y="v[A-Za-z0-9_]+",_=n.replace(/[.]/g,"\\."),E="(/([^?#]*).*)?$",T=new RegExp(`^https?://${_}/${y}/b/${s}/o${E}`,"i"),C={bucket:1,path:3},R=n===Gk?"(?:storage.googleapis.com|storage.cloud.google.com)":n,I="([^?#]*)",D=new RegExp(`^https?://${R}/${s}/${I}`,"i"),V=[{regex:h,indices:d,postModify:a},{regex:T,indices:C,postModify:f},{regex:D,indices:{bucket:1,path:2},postModify:f}];for(let B=0;B<V.length;B++){const j=V[B],G=j.regex.exec(e);if(G){const x=G[j.indices.bucket];let P=G[j.indices.path];P||(P=""),r=new Hr(x,P),j.postModify(r);break}}if(r==null)throw DW(e);return r}}class FW{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jW(t,e,n){let r=1,s=null,a=null,c=!1,h=0;function d(){return h===2}let f=!1;function y(...I){f||(f=!0,e.apply(null,I))}function _(I){s=setTimeout(()=>{s=null,t(T,d())},I)}function E(){a&&clearTimeout(a)}function T(I,...D){if(f){E();return}if(I){E(),y.call(null,I,...D);return}if(d()||c){E(),y.call(null,I,...D);return}r<64&&(r*=2);let V;h===1?(h=2,V=0):V=(r+Math.random())*1e3,_(V)}let C=!1;function R(I){C||(C=!0,E(),!f&&(s!==null?(I||(h=2),clearTimeout(s),_(0)):I||(h=1)))}return _(0),a=setTimeout(()=>{c=!0,R(!0)},n),R}function HW(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $W(t){return t!==void 0}function qW(t){return typeof t=="object"&&!Array.isArray(t)}function DS(t){return typeof t=="string"||t instanceof String}function FI(t){return MS()&&t instanceof Blob}function MS(){return typeof Blob<"u"}function jI(t,e,n,r){if(r<e)throw gE(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw gE(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LS(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function Yk(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var vl;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(vl||(vl={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GW(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||s||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WW{constructor(e,n,r,s,a,c,h,d,f,y,_,E=!0,T=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=a,this.additionalRetryCodes_=c,this.callback_=h,this.errorCallback_=d,this.timeout_=f,this.progressCallback_=y,this.connectionFactory_=_,this.retry=E,this.isUsingEmulator=T,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((C,R)=>{this.resolve_=C,this.reject_=R,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Qp(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const c=h=>{const d=h.loaded,f=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,f)};this.progressCallback_!==null&&a.addUploadProgressListener(c),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(c),this.pendingConnection_=null;const h=a.getErrorCode()===vl.NO_ERROR,d=a.getStatus();if(!h||GW(d,this.additionalRetryCodes_)&&this.retry){const y=a.getErrorCode()===vl.ABORT;r(!1,new Qp(!1,null,y));return}const f=this.successCodes_.indexOf(d)!==-1;r(!0,new Qp(f,a))})},n=(r,s)=>{const a=this.resolve_,c=this.reject_,h=s.connection;if(s.wasSuccessCode)try{const d=this.callback_(h,h.getResponse());$W(d)?a(d):a()}catch(d){c(d)}else if(h!==null){const d=OS();d.serverResponse=h.getErrorText(),this.errorCallback_?c(this.errorCallback_(h,d)):c(d)}else if(s.canceled){const d=this.appDelete_?Kk():OW();c(d)}else{const d=kW();c(d)}};this.canceled_?n(!1,new Qp(!1,null,!0)):this.backoffId_=jW(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&HW(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Qp{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function KW(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function YW(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function QW(t,e){e&&(t["X-Firebase-GMPID"]=e)}function XW(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function JW(t,e,n,r,s,a,c=!0,h=!1){const d=Yk(t.urlParams),f=t.url+d,y=Object.assign({},t.headers);return QW(y,e),KW(y,n),YW(y,a),XW(y,r),new WW(f,t.method,y,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,c,h)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZW(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function eK(...t){const e=ZW();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(MS())return new Blob(t);throw new an(on.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function tK(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nK(t){if(typeof atob>"u")throw zW("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class n0{constructor(e,n){this.data=e,this.contentType=n||null}}function rK(t,e){switch(t){case hs.RAW:return new n0(Qk(e));case hs.BASE64:case hs.BASE64URL:return new n0(Xk(t,e));case hs.DATA_URL:return new n0(sK(e),oK(e))}throw OS()}function Qk(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const a=r,c=t.charCodeAt(++n);r=65536|(a&1023)<<10|c&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function iK(t){let e;try{e=decodeURIComponent(t)}catch{throw pd(hs.DATA_URL,"Malformed data URL.")}return Qk(e)}function Xk(t,e){switch(t){case hs.BASE64:{const s=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(s||a)throw pd(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case hs.BASE64URL:{const s=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(s||a)throw pd(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=nK(e)}catch(s){throw s.message.includes("polyfill")?s:pd(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class Jk{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw pd(hs.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=aK(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function sK(t){const e=new Jk(t);return e.base64?Xk(hs.BASE64,e.rest):iK(e.rest)}function oK(t){return new Jk(t).contentType}function aK(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e,n){let r=0,s="";FI(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(FI(this.data_)){const r=this.data_,s=tK(r,e,n);return s===null?null:new na(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new na(r,!0)}}static getBlob(...e){if(MS()){const n=e.map(r=>r instanceof na?r.data_:r);return new na(eK.apply(null,n))}else{const n=e.map(c=>DS(c)?rK(hs.RAW,c).data:c.data_);let r=0;n.forEach(c=>{r+=c.byteLength});const s=new Uint8Array(r);let a=0;return n.forEach(c=>{for(let h=0;h<c.length;h++)s[a++]=c[h]}),new na(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zk(t){let e;try{e=JSON.parse(t)}catch{return null}return qW(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lK(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function cK(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function eO(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uK(t,e){return e}class ur{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||uK}}let Xp=null;function hK(t){return!DS(t)||t.length<2?t:eO(t)}function tO(){if(Xp)return Xp;const t=[];t.push(new ur("bucket")),t.push(new ur("generation")),t.push(new ur("metageneration")),t.push(new ur("name","fullPath",!0));function e(a,c){return hK(c)}const n=new ur("name");n.xform=e,t.push(n);function r(a,c){return c!==void 0?Number(c):c}const s=new ur("size");return s.xform=r,t.push(s),t.push(new ur("timeCreated")),t.push(new ur("updated")),t.push(new ur("md5Hash",null,!0)),t.push(new ur("cacheControl",null,!0)),t.push(new ur("contentDisposition",null,!0)),t.push(new ur("contentEncoding",null,!0)),t.push(new ur("contentLanguage",null,!0)),t.push(new ur("contentType",null,!0)),t.push(new ur("metadata","customMetadata",!0)),Xp=t,Xp}function dK(t,e){function n(){const r=t.bucket,s=t.fullPath,a=new Hr(r,s);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:n})}function fK(t,e,n){const r={};r.type="file";const s=n.length;for(let a=0;a<s;a++){const c=n[a];r[c.local]=c.xform(r,e[c.server])}return dK(r,t),r}function nO(t,e,n){const r=Zk(e);return r===null?null:fK(t,r,n)}function pK(t,e,n,r){const s=Zk(e);if(s===null||!DS(s.downloadTokens))return null;const a=s.downloadTokens;if(a.length===0)return null;const c=encodeURIComponent;return a.split(",").map(f=>{const y=t.bucket,_=t.fullPath,E="/b/"+c(y)+"/o/"+c(_),T=LS(E,n,r),C=Yk({alt:"media",token:f});return T+C})[0]}function mK(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const a=e[s];a.writable&&(n[a.server]=t[a.local])}return JSON.stringify(n)}class rO{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iO(t){if(!t)throw OS()}function gK(t,e){function n(r,s){const a=nO(t,s,e);return iO(a!==null),a}return n}function yK(t,e){function n(r,s){const a=nO(t,s,e);return iO(a!==null),pK(a,s,t.host,t._protocol)}return n}function sO(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=NW():s=xW():n.getStatus()===402?s=IW(t.bucket):n.getStatus()===403?s=PW(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function _K(t){const e=sO(t);function n(r,s){let a=e(r,s);return r.getStatus()===404&&(a=AW(t.path)),a.serverResponse=s.serverResponse,a}return n}function vK(t,e,n){const r=e.fullServerUrl(),s=LS(r,t.host,t._protocol),a="GET",c=t.maxOperationRetryTime,h=new rO(s,a,yK(t,n),c);return h.errorHandler=_K(e),h}function EK(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function bK(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=EK(null,e)),r}function SK(t,e,n,r,s){const a=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function h(){let V="";for(let B=0;B<2;B++)V=V+Math.random().toString().slice(2);return V}const d=h();c["Content-Type"]="multipart/related; boundary="+d;const f=bK(e,r,s),y=mK(f,n),_="--"+d+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+y+`\r
--`+d+`\r
Content-Type: `+f.contentType+`\r
\r
`,E=`\r
--`+d+"--",T=na.getBlob(_,r,E);if(T===null)throw VW();const C={name:f.fullPath},R=LS(a,t.host,t._protocol),I="POST",D=t.maxUploadRetryTime,F=new rO(R,I,gK(t,n),D);return F.urlParams=C,F.headers=c,F.body=T.uploadData(),F.errorHandler=sO(e),F}class TK{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=vl.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=vl.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=vl.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s,a){if(this.sent_)throw zh("cannot .send() more than once");if(Ts(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),a!==void 0)for(const c in a)a.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,a[c].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw zh("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw zh("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw zh("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw zh("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class wK extends TK{initXhr(){this.xhr_.responseType="text"}}function oO(){return new wK}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(e,n){this._service=e,n instanceof Hr?this._location=n:this._location=Hr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Nl(e,n)}get root(){const e=new Hr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return eO(this._location.path)}get storage(){return this._service}get parent(){const e=lK(this._location.path);if(e===null)return null;const n=new Hr(this._location.bucket,e);return new Nl(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw BW(e)}}function CK(t,e,n){t._throwIfRoot("uploadBytes");const r=SK(t.storage,t._location,tO(),new na(e,!0),n);return t.storage.makeRequestWithTokens(r,oO).then(s=>({metadata:s,ref:t}))}function RK(t){t._throwIfRoot("getDownloadURL");const e=vK(t.storage,t._location,tO());return t.storage.makeRequestWithTokens(e,oO).then(n=>{if(n===null)throw UW();return n})}function AK(t,e){const n=cK(t._location.path,e),r=new Hr(t._location.bucket,n);return new Nl(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IK(t){return/^[A-Za-z]+:\/\//.test(t)}function xK(t,e){return new Nl(t,e)}function aO(t,e){if(t instanceof VS){const n=t;if(n._bucket==null)throw LW();const r=new Nl(n,n._bucket);return e!=null?aO(r,e):r}else return e!==void 0?AK(t,e):t}function NK(t,e){if(e&&IK(e)){if(t instanceof VS)return xK(t,e);throw gE("To use ref(service, url), the first argument must be a Storage instance.")}else return aO(t,e)}function HI(t,e){const n=e?.[Wk];return n==null?null:Hr.makeFromBucketSpec(n,t)}function PK(t,e,n,r={}){t.host=`${e}:${n}`;const s=Ts(e);s&&(Dg(`https://${t.host}/b`),Mg("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";const{mockUserToken:a}=r;a&&(t._overrideAuthToken=typeof a=="string"?a:XE(a,t.app.options.projectId))}class VS{constructor(e,n,r,s,a,c=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=a,this._isUsingEmulator=c,this._bucket=null,this._host=Gk,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=CW,this._maxUploadRetryTime=RW,this._requests=new Set,s!=null?this._bucket=Hr.makeFromBucketSpec(s,this._host):this._bucket=HI(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Hr.makeFromBucketSpec(this._url,e):this._bucket=HI(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){jI("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){jI("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(hr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Nl(this,e)}_makeRequest(e,n,r,s,a=!0){if(this._deleted)return new FW(Kk());{const c=JW(e,this._appId,r,s,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const $I="@firebase/storage",qI="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lO="storage";function cO(t,e,n){return t=kt(t),CK(t,e,n)}function uO(t){return t=kt(t),RK(t)}function kK(t,e){return t=kt(t),NK(t,e)}function hO(t=Ug(),e){t=kt(t);const r=Gd(t,lO).getImmediate({identifier:e}),s=QE("storage");return s&&OK(r,...s),r}function OK(t,e,n,r={}){PK(t,e,n,r)}function DK(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new VS(n,r,s,e,Ta)}function MK(){fa(new co(lO,DK,"PUBLIC").setMultipleInstances(!0)),ui($I,qI,""),ui($I,qI,"esm2020")}MK();function LK(){const[t,e]=A.useState(""),[n,r]=A.useState([]),[s,a]=A.useState(null),[c,h]=A.useState(!1),[{user:d}]=Au(),{chatId:f}=Vk(),y=A.useRef(null),_=A.useRef(null),[E,T]=A.useState(null),[C,R]=A.useState(!1),[I,D]=A.useState(null),[F,V]=A.useState(null),B=N=>{const U=N.target.files[0];U&&(V(U),D(URL.createObjectURL(U)))},j=async()=>{if(!F)return;R(!0);const N=hO(),U=kK(N,`chat_media/${f}/${Date.now()}_${F.name}`);try{await cO(U,F);const L=await uO(U),S=gl(Bn,"chats",f,"messages");await Q0(S,{name:d.displayName,mediaUrl:L,type:"image",timestamp:Lc()});const k=oi(Bn,"chats",f);await Jo(k,{lastMessage:"📷 Image",lastUpdated:Lc()})}catch(L){alert(`Error uploading file: ${L.message}`)}finally{R(!1),V(null),URL.revokeObjectURL(I),D(null)}},G=()=>{URL.revokeObjectURL(I),D(null),V(null)},x=()=>{_.current?.scrollIntoView({behavior:"smooth"})};A.useEffect(()=>{x()},[n,c]),A.useEffect(()=>{let N,U,L,S;if(f&&d){const k=oi(Bn,"chats",f);N=ld(k,H=>{if(H.exists()){const te=H.data(),fe=te.users.find(le=>le!==d.uid);if(te.typing&&te.typing.includes(fe)?h(!0):h(!1),fe){const le=oi(Bn,"users",fe);L=ld(le,$=>{$.exists()&&a($.data())});const be=uE(fE,"/status/"+fe);S=Rk(be,$=>{$.exists()?T($.val()):T(null)})}}});const Y=gl(Bn,"chats",f,"messages"),ee=Xm(Y,x7("timestamp","asc"));U=ld(ee,H=>{r(H.docs.map(te=>({id:te.id,...te.data()})))})}return()=>{N&&N(),U&&U(),L&&L(),S&&S()}},[f,d]),A.useEffect(()=>{if(!f||!d)return;const N=oi(Bn,"chats",f);y.current&&clearTimeout(y.current),t.trim()!==""?(Jo(N,{typing:O7(d.uid)}),y.current=setTimeout(()=>{Jo(N,{typing:Gp(d.uid)})},2e3)):Jo(N,{typing:Gp(d.uid)})},[t,f,d]),A.useEffect(()=>{if(!f||!d)return;const N=oi(Bn,"chats",f);return()=>{Jo(N,{typing:Gp(d.uid)})}},[f,d]);const P=async N=>{if(N.preventDefault(),t.trim()==="")return;const U=oi(Bn,"chats",f),L=gl(Bn,"chats",f,"messages");await Q0(L,{message:t,name:d.displayName,timestamp:Lc()}),await Jo(U,{lastMessage:t,lastUpdated:Lc(),typing:Gp(d.uid)}),e("")};return z.jsxs("div",{className:"chat",children:[z.jsxs("div",{className:"chat__header",children:[z.jsx($d,{src:s?.photoURL}),z.jsxs("div",{className:"chat__headerInfo",children:[z.jsx("h3",{children:s?.displayName}),z.jsx("p",{children:E?.state==="online"?"online":E?.last_changed?`Last seen ${new Date(E.last_changed).toLocaleString()}`:s?.lastSeen?.toDate?`Last seen ${new Date(s.lastSeen.toDate()).toLocaleString()}`:"offline"})]}),z.jsxs("div",{className:"chat__headerRight",children:[z.jsx(us,{children:z.jsx(jx,{})}),z.jsx(us,{children:z.jsx(Bx,{})})]})]}),z.jsxs("div",{className:"chat__body",children:[n.map(N=>{const U=N.timestamp?.toDate().toDateString(),L=n[n.indexOf(N)-1]?.timestamp?.toDate().toDateString(),S=U!==L;return z.jsxs(li.Fragment,{children:[S&&z.jsx(wW,{date:N.timestamp}),z.jsxs("p",{className:`chat__message ${N.name===d.displayName&&"chat__receiver"}`,children:[N.type==="image"?z.jsx("img",{src:N.mediaUrl,alt:"Shared media",className:"chat__image"}):N.message,z.jsx("span",{className:"chat__timestamp",children:N.timestamp?new Date(N.timestamp.toDate()).toLocaleTimeString("en-US",{hour:"numeric",minute:"numeric",hour12:!0}):"..."})]})]},N.id)}),c&&z.jsx("div",{className:"chat__message",children:z.jsxs("div",{className:"chat__typingIndicator",children:[z.jsx("span",{}),z.jsx("span",{}),z.jsx("span",{})]})}),z.jsx("div",{ref:_})]}),z.jsx("div",{className:"chat__footer",children:I?z.jsxs("div",{className:"chat__imagePreview",children:[z.jsx(us,{onClick:G,children:z.jsx(gU,{})}),z.jsx("img",{src:I,alt:"Preview"}),z.jsx(us,{onClick:j,disabled:C,children:C?z.jsx(Ig,{size:24}):z.jsx(vU,{})})]}):z.jsxs(z.Fragment,{children:[z.jsx(yU,{}),z.jsxs("form",{onSubmit:P,children:[z.jsx("input",{value:t,onChange:N=>e(N.target.value),placeholder:"Type a message",type:"text"}),z.jsx("button",{type:"submit",children:"Send a message"})]}),z.jsx("input",{type:"file",id:"mediaFileInput",accept:"image/*",onChange:B,style:{display:"none"}}),z.jsx("label",{htmlFor:"mediaFileInput",children:z.jsx(us,{component:"span",children:z.jsx(mU,{})})}),z.jsx(_U,{})]})})]})}function VK(){const[t,e]=A.useState(!0),[n,r]=A.useState(""),[s,a]=A.useState(""),[c,h]=A.useState(""),[d,f]=A.useState(!1),y=()=>{const T=new Js;PB(no,T).catch(C=>alert(C.message))},_=()=>{if(!s)return alert("Please enter your email address to reset your password.");sB(no,s).then(()=>{alert("Password reset email sent! Please check your inbox.")}).catch(T=>alert(T.message))},E=T=>{if(T.preventDefault(),t)aB(no,s,c).catch(C=>alert(C.message));else{if(n.trim()==="")return alert("Please enter a name.");oB(no,s,c).then(C=>I0(C.user,{displayName:n})).catch(C=>alert(C.message))}};return z.jsx("div",{className:"login",children:z.jsxs("div",{className:"login__container",children:[z.jsx("img",{src:"logo.png",alt:"Hey Web Logo"}),z.jsx("div",{className:"login__text",children:z.jsx("h1",{children:t?"Sign in to Hey Web":"Create an Account"})}),z.jsxs("form",{onSubmit:E,className:"login__form",children:[!t&&z.jsx(td,{label:"Full Name",variant:"outlined",value:n,onChange:T=>r(T.target.value),fullWidth:!0}),z.jsx(td,{label:"Email",type:"email",variant:"outlined",value:s,onChange:T=>a(T.target.value),fullWidth:!0}),z.jsx(td,{label:"Password",type:d?"text":"password",variant:"outlined",value:c,onChange:T=>h(T.target.value),fullWidth:!0}),z.jsx(K6,{control:z.jsx(p6,{checked:d,onChange:()=>f(!d),name:"showPassword",color:"primary"}),label:"Show password",className:"login__showPassword"}),t&&z.jsx("p",{className:"login__forgotPassword",onClick:_,children:"Forgot Password?"}),z.jsx(Am,{type:"submit",className:"login__authButton",children:t?"Sign In":"Create Account"})]}),z.jsx("div",{className:"login__separator",children:z.jsx("span",{children:"OR"})}),z.jsx(Am,{onClick:y,className:"login__googleButton",children:"Sign In With Google"}),z.jsx("p",{className:"login__toggleView",onClick:()=>e(!t),children:t?"Don't have an account? Create one":"Already have an account? Sign In"})]})})}const UK={user:null},Vd={SET_USER:"SET_USER"},zK=(t,e)=>{switch(console.log(e),e.type){case Vd.SET_USER:return{...t,user:e.user};default:return t}};function BK(){const[{user:t},e]=Au(),[n,r]=A.useState(t?.displayName||""),[s,a]=A.useState(!1),[c,h]=A.useState(!1);A.useState(null);const[d,f]=A.useState(!1),[y,_]=A.useState(!1),[E,T]=A.useState(""),[C,R]=A.useState("success"),I=(B,j)=>{j!=="clickaway"&&_(!1)},D=B=>{r(B.target.value),B.target.value!==t?.displayName&&h(!0)},F=async B=>{const j=B.target.files[0];if(!j)return;f(!0);const G=hO(),x=x(G,`profile_images/${t.uid}`);try{await cO(x,j);const P=await uO(x);await I0(no.currentUser,{photoURL:P});const N=oi(Bn,"users",t.uid);await Jo(N,{photoURL:P});const U={...t,photoURL:no.currentUser.photoURL};e({type:Vd.SET_USER,user:U}),T("Profile picture updated successfully!"),R("success"),_(!0)}catch(P){T(`Error uploading image: ${P.message}`),R("error"),_(!0)}finally{f(!1)}},V=async B=>{if(B.preventDefault(),n.trim()===""){T("Name cannot be empty."),R("warning"),_(!0);return}try{await I0(no.currentUser,{displayName:n});const j=oi(Bn,"users",t.uid);await Jo(j,{displayName:n,displayName_lowercase:n.toLowerCase()});const G={...t,displayName:n};e({type:Vd.SET_USER,user:G}),T("Profile updated successfully!"),R("success"),_(!0),a(!1),h(!1)}catch(j){T(`Error updating profile: ${j.message}`),R("error"),_(!0)}};return z.jsxs("div",{className:"profile",children:[z.jsxs("div",{className:"profile__container",children:[z.jsx("h1",{children:"Your Profile"}),z.jsxs("div",{className:"profile__avatarContainer",children:[z.jsx($d,{src:t?.photoURL,sx:{width:100,height:100}}),d&&z.jsx("div",{className:"profile__avatarLoading",children:z.jsx(Ig,{})}),z.jsx("input",{type:"file",id:"fileInput",accept:"image/*",onChange:F,style:{display:"none"},disabled:d}),z.jsx("label",{htmlFor:"fileInput",className:"profile__avatarEditButton",children:z.jsx(us,{component:"span",disabled:d,children:z.jsx(Fx,{})})})]}),z.jsxs("form",{onSubmit:V,className:"profile__form",children:[z.jsx(td,{label:"Full Name",variant:"outlined",value:n,onChange:D,disabled:!s,fullWidth:!0}),z.jsx(td,{label:"Email",variant:"outlined",value:t?.email||"",disabled:!0,fullWidth:!0}),z.jsxs("div",{className:"profile__buttons",children:[z.jsx(Am,{type:"button",variant:"outlined",onClick:()=>a(!0),disabled:s,children:"Edit Profile"}),z.jsx(Am,{type:"submit",variant:"contained",color:"primary",disabled:!c,children:"Save Changes"})]})]})]}),z.jsx(lU,{open:y,autoHideDuration:4e3,onClose:I,anchorOrigin:{vertical:"bottom",horizontal:"center"},children:z.jsx(pV,{onClose:I,severity:C,sx:{width:"100%"},children:E})})]})}function FK(){const[t,e]=A.useState(""),[n,r]=A.useState([]),[{user:s}]=Au(),a=Lk(),c=async d=>{if(d.preventDefault(),t.trim()==="")return;const f=t.toLowerCase(),y=gl(Bn,"users"),_=Xm(y,hm("displayName_lowercase",">=",f),hm("displayName_lowercase","<=",f+"")),E=await XA(_),T=[];E.forEach(C=>{C.id!==s.uid&&T.push({id:C.id,...C.data()})}),r(T)},h=async d=>{const f=gl(Bn,"chats"),y=Xm(f,hm("users","array-contains",s.uid)),_=await XA(y);let E=null;if(_.forEach(T=>{const C=T.data();C.users.includes(d.id)&&(E={id:T.id,...C})}),E)a(`/chats/${E.id}`);else{const T=await Q0(gl(Bn,"chats"),{users:[s.uid,d.id],lastUpdated:Lc()});a(`/chats/${T.id}`)}};return z.jsxs("div",{className:"newChat",children:[z.jsx("div",{className:"newChat__header",children:z.jsxs("form",{onSubmit:c,children:[z.jsx("input",{type:"text",placeholder:"Search for a user by name",value:t,onChange:d=>e(d.target.value)}),z.jsx("button",{type:"submit",style:{display:"none"},children:"Search"})]})}),z.jsx("div",{className:"newChat__results",children:n.map(d=>z.jsxs("div",{className:"newChat__user",onClick:()=>h(d),children:[z.jsx($d,{src:d.photoURL}),z.jsxs("div",{className:"newChat__userInfo",children:[z.jsx("h3",{children:d.displayName}),z.jsx("p",{children:d.email})]})]},d.id))})]})}function jK(){const[{user:t},e]=Au();return A.useEffect(()=>{const n=hB(no,r=>{if(r){e({type:Vd.SET_USER,user:r});const s=oi(Bn,"users",r.uid);JA(s,{displayName:r.displayName,email:r.email,photoURL:r.photoURL,lastSeen:Lc(),displayName_lowercase:r.displayName.toLowerCase()},{merge:!0});const a=uE(fE,"/status/"+r.uid),c=oi(Bn,"users",r.uid),h={state:"offline",last_changed:MI()};Rk(uE(fE,".info/connected"),d=>{d.val()!==!1&&Uq(a).set(h).then(()=>{zq(a,{state:"online",last_changed:MI()}),JA(c,{lastSeen:"online"},{merge:!0})})})}else e({type:Vd.SET_USER,user:null})});return()=>n()},[e]),z.jsx("div",{className:"app",children:t?z.jsxs("div",{className:"app__body",children:[z.jsx(TW,{}),z.jsxs(jG,{children:[z.jsx(Xh,{path:"/profile",element:z.jsx(BK,{})}),z.jsx(Xh,{path:"/new-chat",element:z.jsx(FK,{})}),z.jsx(Xh,{path:"/chats/:chatId",element:z.jsx(LK,{})}),z.jsx(Xh,{path:"/",element:z.jsxs("div",{className:"welcome-screen",children:[z.jsx("img",{src:"logo.png",alt:"Hey Web Logo"}),z.jsx("h1",{children:"Welcome to Hey Web"}),z.jsx("p",{children:"Select a chat to start messaging."})]})})]})]}):z.jsx(VK,{})})}JD.createRoot(document.getElementById("root")).render(z.jsx(li.StrictMode,{children:z.jsx(hW,{children:z.jsxs(bW,{initialState:UK,reducer:zK,children:[" ",z.jsx(jK,{})]})})}));
